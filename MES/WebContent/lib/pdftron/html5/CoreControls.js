(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&(module.exports&&(exports=module.exports=j)),exports._=
j):n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&(j.isArray(n)&&(n[0]===+n[0]&&n.length<65535)))return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),
e.value},j.min=function(n,t,r){if(!t&&(j.isArray(n)&&(n[0]===+n[0]&&n.length<65535)))return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=
function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,
r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,
t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),
r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,
n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,
t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};
j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=
o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,
r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||(r.leading!==!1||(o=l));var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||(r.trailing===!1||(a=setTimeout(c,f))),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,
t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");
var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,
1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),
n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&(n.global==t.global&&(n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase))}if("object"!=
typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&(a instanceof a&&(j.isFunction(o)&&o instanceof o))))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,
t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||
!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||(n===!1||"[object Boolean]"==l.call(n))},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=
function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],
function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r",
"\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),
i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push",
"reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||(0!==r.length||delete r[0]),z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&(this.validate&&!this._performValidation(a,b)))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&(!b.silent&&(this._changed&&this.change(b)));this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&(this.validate&&!this._performValidation(c,b)))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&(this.validate&&!this._performValidation(d,a)))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||(this.urlRoot||l());if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&(!a._performValidation(c,b)&&(a=!1))}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&(a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||(!window.history||!window.history.pushState));a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&
!b?g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&(!this._hasPushState&&!b))this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&(this._hasPushState&&(b&&a.hash)))this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&(this.iframe&&(a=this.getFragment(this.iframe.location.hash)));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),
!0})},navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=
function(a){this.cid=f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);
return a},delegateEvents:function(a){if(a||(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&(b&&(a=="create"||a=="update")))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||(xhr.status>=200&&
xhr.status<300||(xhr.status==304||(xhr.status==1223||browser.safari&&xhr.status==undefined)))}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},
i=14;while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};var log=function(){Array.prototype.forEach.call(arguments,function(e){console.log(e)})};exports.$log=exports.$out=log;var ie=function(){var ua=navigator.userAgent.toLowerCase();
var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=ieWebViewLocal;exports.utils.ieFullscreenBug=exports.utils.ie===
11;exports.utils.fullscreenIE=function(){if(exports.utils.ieFullscreenBug&&window!==window.top)return!!(document.fullscreenElement||document.msFullscreenElement);return false};if(exports.utils.ieFullscreenBug){var originalGetBoundingClientRect=HTMLElement.prototype.getBoundingClientRect;HTMLElement.prototype.getBoundingClientRect=function(){var result=originalGetBoundingClientRect.call(this);if(exports.utils.fullscreenIE())result={width:result.width*100,height:result.height*100,left:result.left*100,
right:result.right*100,top:result.top*100,bottom:result.bottom*100};return result}}var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();var multiplierOverride;var getCanvasMultiplier=function(){var ua=exports.navigator.userAgent.toLowerCase();var isWindowsChromeWithIssue=ua.indexOf("chrome")>-1&&(ua.indexOf("windows")>-1&&chromeVersion<37);var oversampleLimit=1024*1024;return function(width,height,zoom){if(!_.isUndefined(multiplierOverride))return multiplierOverride;
var oversampleForChrome=isWindowsChromeWithIssue&&(width*height<oversampleLimit&&zoom<=1.5);return oversampleForChrome?2:window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height=
"1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=
ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=
this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue=
"2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&(actual.indexOf(' xfa:spec="2.0.2"')>0&&(actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>
0))}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();exports.utils.eventHandler={on:function(event,handler){this.applyWithArgs($(this).on,arguments);return this},off:function(event,handler){this.applyWithArgs($(this).off,
arguments);return this},trigger:function(event,params){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||ele.is("textarea")};var debug=exports._trnDebugMode;var warn=function(msg){if(debug)console.warn(msg)};exports.utils.warn=warn;if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};
var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&(_.isArray(variable)&&varname.length===variable.length)){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=
logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties===
"undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=
val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,L:canvasProto.createLinearGradient,
R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},cgb:function(){},cge:function(){},xw:function(text,x,y,skip_last){this.fillText(text,x,y)},xcw:function(text,x,y,skip_last){},
I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;
_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v=="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+=
"<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.xml2json=function(xml,tab){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length)for(var i=0;i<xml.attributes.length;i++)o["@"+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||
"").toString();if(xml.firstChild){var textChild=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==1)hasElementChild=true;else if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/))textChild++;else if(n.nodeType==4)cdataChild++;if(hasElementChild)if(textChild<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==3)o["#text"]=X.escape(n.nodeValue);else if(n.nodeType==4)o["#cdata"]=X.escape(n.nodeValue);else if(o[n.nodeName])if(o[n.nodeName]instanceof
Array)o[n.nodeName][o[n.nodeName].length]=X.toObj(n);else o[n.nodeName]=[o[n.nodeName],X.toObj(n)];else o[n.nodeName]=X.toObj(n)}else if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(textChild)if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(cdataChild)if(cdataChild>1)o=X.escape(X.innerXml(xml));else for(var n=xml.firstChild;n;n=n.nextSibling)o["#cdata"]=X.escape(n.nodeValue)}if(!xml.attributes.length&&
!xml.firstChild)o=null}else if(xml.nodeType==9)o=X.toObj(xml.documentElement);else alert("unhandled node type: "+xml.nodeType);return o},toJson:function(o,name,ind){var json=name?'"'+name+'"':"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++)o[i]=X.toJson(o[i],"",ind+"\t");json+=(name?":[":"[")+(o.length>1?"\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind:o.join(""))+"]"}else if(o==null)json+=(name&&":")+"null";else if(typeof o=="object"){var arr=[];for(var m in o)arr[arr.length]=X.toJson(o[m],
m,ind+"\t");json+=(name?":{":"{")+(arr.length>1?"\n"+ind+"\t"+arr.join(",\n"+ind+"\t")+"\n"+ind:arr.join(""))+"}"}else if(typeof o=="string")json+=(name&&":")+'"'+o.toString()+'"';else json+=(name&&":")+o.toString();return json},innerXml:function(node){var s="";if("innerHTML"in node)s=node.innerHTML;else{var asXml=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;for(var i=0;i<n.attributes.length;i++)s+=" "+n.attributes[i].nodeName+'="'+(n.attributes[i].nodeValue||"").toString()+'"';if(n.firstChild){s+=
">";for(var c=n.firstChild;c;c=c.nextSibling)s+=asXml(c);s+="</"+n.nodeName+">"}else s+="/>"}else if(n.nodeType==3)s+=n.nodeValue;else if(n.nodeType==4)s+="<![CDATA["+n.nodeValue+"]]\x3e";return s};for(var c=node.firstChild;c;c=c.nextSibling)s+=asXml(c)}return s},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(n.nodeType==3)if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=
n.nextSibling;e.removeChild(n);n=nxt}else n=n.nextSibling;else if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling}else n=n.nextSibling;return e}};if(xml.nodeType==9)xml=xml.documentElement;var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return"{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}"}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:window.ActiveXObject?function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(this.flush());
return a}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();function X2JS(){var VERSION="1.0.5";var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var child=node.getElementsByTagName("xfdf")[0];var childName=
"xfdf";result[childName]=parseDOMChildren(child);return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;var childJsonObj=parseDOMChildren(child);if(result[childName]==null)result[childName]=childJsonObj;else{if(result[childName]!=null)if(!(result[childName]instanceof Array)){var tmpObj=
result[childName];result[childName]=new Array;result[childName][0]=tmpObj}var aridx=0;while(result[childName][aridx]!=null)aridx++;result[childName][aridx]=childJsonObj}if(result["__children"]==null)result["__children"]=new Array;result["__children"].push({"key":childName,"value":childJsonObj})}for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result["_"+attr.name]=attr.value}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;
result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null)result=result["#text"];if(result["#text"]!=null){result.__text=result["#text"];result["#text"]=null;result.toString=function(){return this.__text}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE)return node.nodeValue}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null)for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];
var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">\n"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj.__text!=null)result+=jsonTxtObj.__text;else result+=jsonTxtObj.toString();return result}
function parseJSONObject(jsonObj){var result="";for(var it in jsonObj){if(endsWith(it.toString(),"_asArray")||it.toString().indexOf("_")==0)continue;var subObj=jsonObj[it];if(typeof subObj=="function"||subObj==null)continue;var attrList=[];for(var ait in subObj)if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0)attrList.push(ait);if(subObj!=null&&(subObj instanceof Object&&subObj.__text==null))if(subObj instanceof Array){var arrayOfObjects=true;if(subObj.length>0)arrayOfObjects=subObj[0]instanceof
Object;else result+=startTag(subObj,it,attrList,true);for(var arIdx=0;arIdx<subObj.length;arIdx++)if(arrayOfObjects)result+=parseJSONObject(subObj[arIdx]);else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj[arIdx]);result+=endTag(subObj,it)}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}return result}
this.parseXmlString=function(xmlDocStr){var xmlDoc;if(window.DOMParser){var parser=new DOMParser;xmlDoc=parser.parseFromString(xmlDocStr,"text/xml")}else{if(xmlDocStr.indexOf("<?")==0)xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return this.xml2json(xmlDoc)};
this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)}}var x2js=new X2JS;var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&(idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode))}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}window.indexedDB=window.indexedDB||
(window.webkitIndexedDB||(window.mozIndexedDB||(window.oIndexedDB||window.msIndexedDB)));if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}})(window,idbModules);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||(key.length==24||key.length==32)))key=
forge.util.createBuffer(key);else if(key.constructor==Array&&(key.length==16||(key.length==24||key.length==32))){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||(len==24||len==32)){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||(key.length==6||key.length==8))){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;
var _output;var _inBlock;var _outBlock;var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=
0;i<Nb;++i)_output.putInt32(_outBlock[i]);_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};
cipher.start=function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);
_outBlock=new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||(hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null))object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&(i<len&&(typeof object==="object"&&
object!==null))){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||(typeof object[next]!=="object"||object[next]===null))break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&(u.setJqueryExt&&S());var a;t&&(t.Deferred&&(a=t.Deferred()));if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&(t&&(u.useLocalStorage&&n.sync._storeLocal(r),t()))})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===
n.length-1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&(u.useDataAttrOptions===!0&&(r=n.data("i18n-options"))),r=r||{};
if(i.indexOf(";")<=i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?
p.regexEscape(r.interpolationSuffix):u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,
"");if(c.indexOf(n)!=-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&(typeof e.count!="string"&&e.count!==1)}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=
p.toLanguages(t.lng);if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+
e+u.pluralSuffix,g=_.get(i,t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&(!u.returnObjectTrees&&!t.returnObjectTrees))O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&
!t.returnObjectTrees)O="key '"+h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&(u.fallbackToDefaultNS&&(y=A(e,t))),y===undefined&&(u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l)));var B=t.postProcess||u.postProcess;return y!==undefined&&(B&&(D[B]&&(y=D[B](y,e,t)))),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!=
"undefined"&&(function(){var e=window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&(typeof document!="undefined"&&u.useCookie)){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&(typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage)),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==
null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&(r!=Infinity&&(r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],
lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",
reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+
"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&(typeof console!="undefined"&&console.log(e))},toLanguages:function(e){var t=
[];if(typeof e=="string"&&e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&(u.fallbackLng&&t.push(u.fallbackLng)),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=
0,u=e.length;o<u;o++)i[e[o]]||s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&(u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u))),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=
(new Date).getTime(),window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,
t,r){p.log("loaded: "+u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,
url:x(u.resPostPath,{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||
{},a++},error:function(e,t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%
10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=
20))?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&
e%100<20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?
1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&(r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1))),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=
[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&(c[3]&&u>=0)?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(a,b){var c,d,e,f="._tap",g="._tapActive",h="tap",i="clientX clientY screenX screenY pageX pageY".split(" "),j={count:0,event:0},k=function(a,c){var d=c.originalEvent,e=b.Event(d);e.type=a;for(var f=0,g=i.length;g>f;f++)e[i[f]]=c[i[f]];return e},l=function(a){if(a.isTrigger)return!1;var c=j.event,d=Math.abs(a.pageX-c.pageX),e=Math.abs(a.pageY-c.pageY),f=Math.max(d,e);return a.timeStamp-c.timeStamp<b.tap.TIME_DELTA&&(f<b.tap.POSITION_DELTA&&((!c.touches||1===j.count)&&o.isTracking))},m=function(a){if(!e)return!1;
var c=Math.abs(a.pageX-e.pageX),d=Math.abs(a.pageY-e.pageY),f=Math.max(c,d);return Math.abs(a.timeStamp-e.timeStamp)<750&&f<b.tap.POSITION_DELTA},n=function(a){if(0===a.type.indexOf("touch")){a.touches=a.originalEvent.changedTouches;for(var b=a.touches[0],c=0,d=i.length;d>c;c++)a[i[c]]=b[i[c]]}a.timeStamp=Date.now?Date.now():+new Date},o={isEnabled:!1,isTracking:!1,enable:function(){!$.event.special.tap&&(o.isEnabled||(o.isEnabled=!0,c=b(a.body).on("touchstart"+f,o.onStart).on("mousedown"+f,o.onStart).on("click"+
f,o.onClick)))},disable:function(){o.isEnabled&&(o.isEnabled=!1,c.off(f))},onStart:function(a){a.isTrigger||(n(a),(!b.tap.LEFT_BUTTON_ONLY||(a.touches||1===a.which))&&(a.touches&&(j.count=a.touches.length),o.isTracking||(a.touches||!m(a))&&(o.isTracking=!0,j.event=a,a.touches?(e=a,c.on("touchend"+f+g,o.onEnd).on("touchcancel"+f+g,o.onCancel)):c.on("mouseup"+f+g,o.onEnd))))},onEnd:function(a){var c;a.isTrigger||(n(a),l(a)&&(c=k(h,a),d=c,b(j.event.target).trigger(c)),o.onCancel(a))},onCancel:function(a){a&&
("touchcancel"===a.type&&a.preventDefault()),o.isTracking=!1,c.off(g)},onClick:function(a){return!a.isTrigger&&(d&&(d.isDefaultPrevented()&&(d.target===a.target&&(d.pageX===a.pageX&&(d.pageY===a.pageY&&a.timeStamp-d.timeStamp<750)))))?(d=null,!1):void 0}};b(a).ready(o.enable),b.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);var x=self,D=x.yA;(function(){function a(a){e?e.push(a):setTimeout(a,0)}var h={version:"0.7.2.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},yd:function(a){return null===a||void 0===a},aC:function(a){return null!==a&&void 0!==a}},e=[];x.attachEvent&&x.attachEvent("onload",function(){if(e){var a=e;e=null;for(var d=0,f=a.length;d<f;d++)a[d]()}});D||(x.yA=D={init:a,ready:a});for(var c in h)D[c]=h[c]})();Object.Yc="Object";Object.Sf=null;Object.BB=function(a){for(var h in a)delete a[h]};
Object.Mo=function(a,h){return void 0!==a[h]};Object.keys?Object.gz=function(a){return Object.keys(a).length}:(Object.keys=function(a){var h=[],e;for(e in a)h.push(e);return h},Object.gz=function(a){var h=0,e;for(e in a)h++;return h});Boolean.Yc="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.Yc="Number";
Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||(0<=a.indexOf("e")||((1>a.length?0:"f"==a.substr(a.length-1))||(1>a.length?0:"F"==a.substr(a.length-1))))?parseFloat(a):parseInt(a,10):0};Number.prototype.format=function(a){return D.yd(a)||(0==a.length||"i"==a)?this.toString():O(this,a,!1)};Number.prototype.ut=function(a){return D.yd(a)||(0==a.length||"i"==a)?this.toLocaleString():O(this,a,!0)};
Number.Ym=function(a,h,e,c){var b=null;e=a.indexOf(e);0<e&&(b=a.substr(e),a=a.substr(0,e));(e=R(a,"-"))&&(a=a.substr(1));var d=0,f=h[d];if(a.length<f)return b?a+b:a;for(var k=a.length,q="",l=!1;!l;){var m=f,n=k-m;0>n&&(f+=n,m+=n,n=0,l=!0);if(!m)break;n=a.substr(n,m);q=q.length?n+c+q:n;k-=m;d<h.length-1&&(d++,f=h[d])}e&&(q="-"+q);return b?q+b:q};
function O(a,h,e){e=e?D.Pu.fB.numberFormat:D.Pu.kB.numberFormat;var c="",b=-1;1<h.length&&(b=parseInt(h.substr(1)));h=h.charAt(0);switch(h){case "d":case "D":c=parseInt(Math.abs(a)).toString();-1!=b&&(c=S(c,b));0>a&&(c="-"+c);break;case "x":case "X":c=parseInt(Math.abs(a)).toString(16);"X"==h&&(c=c.toUpperCase());-1!=b&&(c=S(c,b));break;case "e":case "E":c=-1==b?a.toExponential():a.toExponential(b);"E"==h&&(c=c.toUpperCase());break;case "f":case "F":case "n":case "N":-1==b&&(b=e.iC);c=a.toFixed(b).toString();
b&&("."!=e.Bt&&(b=c.indexOf("."),c=c.substr(0,b)+e.Bt+c.substr(b+1)));if("n"==h||"N"==h)c=Number.Ym(c,e.kC,e.Bt,e.jC);break;case "c":case "C":-1==b&&(b=e.IB);c=Math.abs(a).toFixed(b).toString();b&&("."!=e.os&&(b=c.indexOf("."),c=c.substr(0,b)+e.os+c.substr(b+1)));c=Number.Ym(c,e.KB,e.os,e.JB);c=0>a?String.format(e.LB,c):String.format(e.MB,c);break;case "p":case "P":-1==b&&(b=e.mC),c=(100*Math.abs(a)).toFixed(b).toString(),b&&("."!=e.Jt&&(b=c.indexOf("."),c=c.substr(0,b)+e.Jt+c.substr(b+1))),c=Number.Ym(c,
e.oC,e.Jt,e.nC),c=0>a?String.format(e.pC,c):String.format(e.qC,c)}return c}String.Yc="String";String.Yu="";String.zy=function(a,h,e){e&&(a&&(a=a.toUpperCase()),h&&(h=h.toUpperCase()));a=a||"";h=h||"";return a==h?0:a<h?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};String.io=function(a,h,e){return 0==String.zy(a,h,e)};
String._format=function(a,h,e){String.ur||(String.ur=/(\{[^\}^\{]+\})/g);return a.replace(String.ur,function(a,b){var d=h[parseInt(b.substr(1))+1];if(D.yd(d))return"";if(d.format){var f=null,k=b.indexOf(":");0<k&&(f=b.substring(k+1,b.length-1));return e?d.ut(f):d.format(f)}return e?d.toLocaleString():d.toString()})};String.format=function(a){return String._format(a,arguments,!1)};String.Vy=function(a,h){for(var e=a,c=1;c<h;c++)e+=a;return e};
String.prototype.Ie=function(a,h){return h?a?this.substr(0,a)+h+this.substr(a):h+this:this};String.Jo=function(a){return!a||!a.length};String.ut=function(a){return String._format(a,arguments,!0)};function S(a,h){return a.length<h?String.Vy("0",h-a.length)+a:a}String.prototype.remove=function(a,h){return!h||a+h>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+h)};function R(a,h){return h.length?h.length>a.length?!1:a.substr(0,h.length)==h:!0}
String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.Yc="Array";Array.Sj=[D.Ij];Array.prototype.add=function(a){this.push(a)};Array.prototype.addRange=function(a){this.push.apply(this,a)};Array.prototype.clear=function(){this.length=0};Array.prototype.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};Array.prototype.contains=function(a){return 0<=this.indexOf(a)};
function T(a){return a.length?a[a.xB?0:a.length-1]:null}Array.prototype.every||(Array.prototype.every=function(a,h){for(var e=this.length,c=0;c<e;c++)if(c in this&&!a.call(h,this[c],c,this))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(a,h){for(var e=this.length,c=[],b=0;b<e;b++)if(b in this){var d=this[b];a.call(h,d,b,this)&&c.push(d)}return c});
Array.prototype.forEach||(Array.prototype.forEach=function(a,h){for(var e=this.length,c=0;c<e;c++)c in this&&a.call(h,this[c],c,this)});Array.prototype.Dc=function(){return new D.vj(this)};Array.prototype.index=function(a,h){for(var e=this.length,c={},b=0;b<e;b++)if(b in this){var d=a.call(h,this[b],b);String.Jo(d)||(c[d]=this[b])}return c};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,h){var e=this.length;if(e)for(var c=h||0;c<e;c++)if(this[c]===a)return c;return-1});
Array.prototype.Ie=function(a,h){this.splice(a,0,h)};Array.prototype.map||(Array.prototype.map=function(a,h){for(var e=this.length,c=Array(e),b=0;b<e;b++)b in this&&(c[b]=a.call(h,this[b],b,this));return c});Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Array.prototype.some||(Array.prototype.some=function(a,h){for(var e=this.length,c=0;c<e;c++)if(c in this&&a.call(h,this[c],c,this))return!0;return!1});
Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.Yc="RegExp";RegExp.parse=function(a){if(R(a,"/")){var h=a.lastIndexOf("/");if(1<h)return RegExp(a.substring(1,h),a.substr(h+1))}return null};Error.Yc="Error";
Error.EB=function(a,h,e){a=Error(a);if(h)for(var c in h)a[c]=h[c];e&&(a.UB=e);if(!(D.yd(a.stack)||(D.yd(a.fileName)||D.yd(a.lineNumber)))){h=a.stack.split("\n");e=h[0];for(c=a.fileName+":"+a.lineNumber;!D.yd(e)&&-1===e.indexOf(c);)h.shift(),e=h[0];e=h[1];isNullOrUndefined(e)||(e=e.match(/@(.*):(\d+)$/),D.yd(e)||(h.shift(),a.stack=h.join("\n"),a.fileName=e[1],a.lineNumber=parseInt(e[2])))}return a};D.Ed=x.Ed||function(){};D.Ed.Yc="Debug";
D.Ed.writeln||(D.Ed.writeln=function(a){x.console?x.console.debug?x.console.debug(a):x.console.log&&x.console.log(a):x.opera&&(x.opera.postError&&x.opera.postError(a))});D.Ed.or=function(a){D.Ed.writeln(a);eval("debugger;")};D.Ed.assert=function(a,h){a||(h="Assert failed: "+h,confirm(h+"\r\n\r\nBreak into debugger?")&&D.Ed.or(h))};D.Ed.fail=function(a){D.Ed.or(a)};x.Ma=Function;x.Ma.Yc="Type";x.Nq=function(a){this.Yc=a};x.Nq.prototype={Dx:!0};
x.Ma.zl=function(a){x.Om||(x.Om={});x.Wq||(x.Wq=[]);if(!x.Om[a]){for(var h=self,e=a.split("."),c=0;c<e.length;c++){var b=e[c],d=h[b];d||(h[b]=d=new x.Nq(e.slice(0,c+1).join(".")),0==c&&x.Wq.add(d));h=d}x.Om[a]=h}};x.Ma.prototype.ma=function(a,h,e){this.prototype.constructor=this;this.Yc=a;this.Oq=!0;this.Sf=h||Object;h&&(this.Rj=!0);if(e){this.Sj=[];for(var c=2;c<arguments.length;c++)e=arguments[c],this.Sj.add(e)}};function U(a,h){a.Yc=h;a.Sq=!0}
x.Ma.prototype.mp=function(){if(this.Rj){var a=this.Sf;a.Rj&&a.mp();for(var h in a.prototype){var e=a.prototype[h];this.prototype[h]||(this.prototype[h]=e)}delete this.Rj}};x.Ma.prototype.hA||(x.Ma.prototype.hA=x.Ma.prototype.mp);function V(a,h){return D.yd(h)?!1:a==Object||h instanceof a?!0:W(a,x.Ma.ez(h))}
function W(a,h){if(a==Object||a==h)return!0;if(a.Oq)for(var e=h.Sf;e;){if(a==e)return!0;e=e.Sf}else if(a.Sq){var c=h.Sj;if(c&&c.contains(a))return!0;for(e=h.Sf;e;){if((c=e.Sj)&&c.contains(a))return!0;e=e.Sf}}return!1}x.Ma.WB=function(a){return!0==a.Oq};x.Ma.XB=function(a){return!0==a.Bx};x.Ma.YB=function(a){return!0==a.Bx&&!0==a.Qq};x.Ma.ZB=function(a){return!0==a.Sq};x.Ma.$B=function(a){return!0==a.Dx};x.Ma.yB=function(a,h){return V(h,a)};x.Ma.vC=function(a,h){return V(h,a)?a:null};
x.Ma.ez=function(a){var h=null;try{h=a.constructor}catch(e){}h&&h.Yc||(h=Object);return h};x.Ma.pz=function(a){if(!a)return null;x.Ma.Pm||(x.Ma.Pm={});var h=x.Ma.Pm[a];h||(h=eval(a),x.Ma.Pm[a]=h);return h};x.Ma.parse=function(a){return x.Ma.pz(a)};D.Xl=function(){};D.Xl.ma("Enum");
D.Xl.parse=function(a,h){var e=a.prototype;if(a.Qq){for(var c=h.split("|"),b=0,d=!0,f=c.length-1;0<=f;f--){var k=c[f].trim(),q=!1;for(l in e)if(l===k){b|=e[l];q=!0;break}if(!q){d=!1;break}}if(d)return b}else for(var l in e)if(l===h)return e[l];throw"Invalid Enumeration Value";};
D.Xl.vB=function(a){var h=this.prototype;if(this.Qq&&0!==a){var e=[];for(c in h)h[c]&a&&(e.length&&e.add(" | "),e.add(c));if(!e.length)throw"Invalid Enumeration Value";return e.join("")}for(var c in h)if(h[c]===a)return c;throw"Invalid Enumeration Value";};D.Nb=function(){};D.Nb.ma("Delegate");D.Nb.empty=function(){};D.Nb.Ix=function(a,h,e){for(var c=0;c<a.length;c+=2)if(a[c]===h&&a[c+1]===e)return!0;return!1};
D.Nb._create=function(a){function h(){if(2==a.length)return a[1].apply(a[0],arguments);for(var e=a.clone(),c=0;c<e.length;c+=2)D.Nb.Ix(a,e[c],e[c+1])&&e[c+1].apply(e[c],arguments);return null}h.Pd=a;return h};D.Nb.create=function(a,h){return a?D.Nb._create([a,h]):h};D.Nb.CB=function(a,h){return a?h?D.Nb._create((a.Pd?a.Pd:[null,a]).concat(h.Pd?h.Pd:[null,h])):a.Pd?a:D.Nb.create(null,a):h.Pd?h:D.Nb.create(null,h)};
D.Nb.remove=function(a,h){if(!a||a===h)return null;if(!h)return a;var e=a.Pd,c=null,b;h.Pd?(c=h.Pd[0],b=h.Pd[1]):b=h;for(var d=0;d<e.length;d+=2)if(e[d]===c&&e[d+1]===b){if(2==e.length)return null;e.splice(d,2);return D.Nb._create(e)}return a};D.Nb.FB=function(a,h,e){e=e||"__"+(new Date).valueOf();self[e]=h?a:function(){try{delete self[e]}catch(c){self[e]=void 0}a.apply(null,arguments)};return e};D.Nb.NB=function(a){delete self[a]};D.Nb.AB=function(a){self[a]=D.Nb.empty};D.Xc=function(){};
D.Xc.prototype={Me:null};D.Xc.Dc=function(a){return a?a.Dc?a.Dc():new D.vj(a):null};U(D.Xc,"IEnumerator");D.Ij=function(){};D.Ij.prototype={Dc:null};U(D.Ij,"IEnumerable");D.vj=function(a){this.Yq=a;this.dn=-1;this.current=null};D.vj.prototype={Me:function(){this.dn++;this.current=this.Yq[this.dn];return this.dn<this.Yq.length}};D.vj.ma("ArrayEnumerator",null,D.Xc);D.cq=function(){};D.cq.prototype={Oy:null};U(D.cq,"IDisposable");D.Cq=function(a){this.ok=D.yd(a)?[]:[a];this.isEmpty=0==this.ok.length};
D.Cq.prototype={append:function(a){D.yd(a)||(this.ok.add(a),this.isEmpty=!1);return this},clear:function(){this.ok=[];this.isEmpty=!0},toString:function(a){return this.ok.join(a||"")}};D.Cq.ma("StringBuilder");D.Cj=function(){};D.Cj.ma("EventArgs");D.Cj.Yu=new D.Cj;x.XMLHttpRequest||(x.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],h=0;h<a.length;h++)try{return new ActiveXObject(a[h])}catch(e){}return null});
D.Gp=function(){var a=D.Gp;a.Rj&&a.mp();a.Sf.apply(this);this.cancel=!1};D.Gp.ma("CancelEventArgs",D.Cj);D.sx=function(a){this.first=a};D.sx.ma("Tuple");D.Lc=function(){this.wi=null};D.Lc.prototype={};D.Lc.un=[];D.Lc.Xx={Oy:function(){D.Lc.un.pop()}};D.Lc.tC=function(a){D.Lc.un.push(a);return D.Lc.Xx};D.Lc.Fx=function(a){var h=D.Lc.un,e=h.length;if(e){a=a||[];for(var c=0;c<e;c++){var b=h[c];a.contains(b)||a.push(b)}return a}return null};D.Lc.Sx=function(a){for(var h=0,e=a.length;h<e;h++)a[h].VB()};
D.Lc.ma("Observable");D.nq=function(a){this.df=a||[];this.wi=null};D.nq.prototype={add:function(a){this.df.push(a);X(this)},clear:function(){this.df.clear();X(this)},contains:function(a){return this.df.contains(a)},Dc:function(){this.wi=D.Lc.Fx(this.wi);return this.df.Dc()},indexOf:function(a){return this.df.indexOf(a)},Ie:function(a,h){this.df.Ie(a,h);X(this)},remove:function(a){return this.df.remove(a)?(X(this),!0):!1},toArray:function(){return this.df}};
function X(a){var h=a.wi;h&&(a.wi=null,D.Lc.Sx(h))}D.nq.ma("ObservableCollection",null,D.Ij);D.Gv=function(){};U(D.Gv,"IApplication");D.Hv=function(){};U(D.Hv,"IContainer");D.Kv=function(){};U(D.Kv,"IObjectFactory");D.Iv=function(){};U(D.Iv,"IEventManager");D.Jv=function(){};U(D.Jv,"IInitializable");
(function(a){function h(a,f,k,d,b,q){this.Ef=16;this.Yv=288;this.status=0;this.root=null;this.m=0;var l=Array(this.Ef+1),h,v,z,C,A,B,J,K=Array(this.Ef+1),I,H,G,E=new e,P=Array(this.Ef);C=Array(this.Yv);var F,L=Array(this.Ef+1),M,N,Q;Q=this.root=null;for(A=0;A<l.length;A++)l[A]=0;for(A=0;A<K.length;A++)K[A]=0;for(A=0;A<P.length;A++)P[A]=null;for(A=0;A<C.length;A++)C[A]=0;for(A=0;A<L.length;A++)L[A]=0;h=256<f?a[256]:this.Ef;I=a;H=0;A=f;do l[I[H]]++,H++;while(0<--A);if(l[0]==f)this.root=null,this.status=
this.m=0;else{for(B=1;B<=this.Ef&&0==l[B];B++);J=B;q<B&&(q=B);for(A=this.Ef;0!=A&&0==l[A];A--);z=A;q>A&&(q=A);for(M=1<<B;B<A;B++,M<<=1)if(0>(M-=l[B])){this.status=2;this.m=q;return}if(0>(M-=l[A]))this.status=2,this.m=q;else{l[A]+=M;L[1]=B=0;I=l;H=1;for(G=2;0<--A;)L[G++]=B+=I[H++];I=a;A=H=0;do 0!=(B=I[H++])&&(C[L[B]++]=A);while(++A<f);f=L[z];L[0]=A=0;I=C;H=0;C=-1;F=K[0]=0;G=null;for(N=0;J<=z;J++)for(a=l[J];0<a--;){for(;J>F+K[1+C];){F+=K[1+C];C++;N=(N=z-F)>q?q:N;if((v=1<<(B=J-F))>a+1)for(v-=a+1,G=J;++B<
N&&!((v<<=1)<=l[++G]);)v-=l[G];F+B>h&&(F<h&&(B=h-F));N=1<<B;K[1+C]=B;G=Array(N);for(v=0;v<N;v++)G[v]=new e;Q=null==Q?this.root=new c:Q.next=new c;Q.next=null;Q.list=G;P[C]=G;0<C&&(L[C]=A,E.b=K[C],E.e=16+B,E.t=G,B=(A&(1<<F)-1)>>F-K[C],P[C-1][B].e=E.e,P[C-1][B].b=E.b,P[C-1][B].n=E.n,P[C-1][B].t=E.t)}E.b=J-F;H>=f?E.e=99:I[H]<k?(E.e=256>I[H]?16:15,E.n=I[H++]):(E.e=b[I[H]-k],E.n=d[I[H++]-k]);v=1<<J-F;for(B=A>>F;B<N;B+=v)G[B].e=E.e,G[B].b=E.b,G[B].n=E.n,G[B].t=E.t;for(B=1<<J-1;0!=(A&B);B>>=1)A^=B;for(A^=
B;(A&(1<<F)-1)!=L[C];)F-=K[C],C--}this.m=K[1];this.status=0!=M&&1!=z?1:0}}}function e(){this.n=this.b=this.e=0;this.t=null}function c(){this.list=this.next=null}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.bf||(a.bf={});a.bf.Bq=function(a){this.aB();this.Ql=a;this.Rl=0};a.bf.Bq.prototype={getBytes:function(a){for(var f,k=Array(1024),d=[],b=0;b<a&&0<(f=this.$A(k,0,k.length));)d[d.length]=String.fromCharCode.apply(null,k.slice(0,f)),b+=f;return b?(this.Ql=this.Ql.slice(this.Rl),this.Rl=0,d.join("")):""},WA:function(){return this.Ql.length==this.Rl?-1:this.Ql.charCodeAt(this.Rl++)&
255},vb:function(a){for(;this.Cg<a;)this.Sh|=this.WA()<<this.Cg,this.Cg+=8},Gb:function(a){return this.Sh&b[a]},nb:function(a){this.Sh>>=a;this.Cg-=a},Pl:function(a,f,k){var d,b,c;if(0==k)return 0;for(c=0;;){this.vb(this.Cd);b=this.Cf.list[this.Gb(this.Cd)];for(d=b.e;16<d;){if(99==d)return-1;this.nb(b.b);d-=16;this.vb(d);b=b.t[this.Gb(d)];d=b.e}this.nb(b.b);if(16==d)this.ec&=32767,a[f+c++]=this.Bf[this.ec++]=b.n;else{if(15==d)break;this.vb(d);this.Gc=b.n+this.Gb(d);this.nb(d);this.vb(this.Rh);b=this.wu.list[this.Gb(this.Rh)];
for(d=b.e;16<d;){if(99==d)return-1;this.nb(b.b);d-=16;this.vb(d);b=b.t[this.Gb(d)];d=b.e}this.nb(b.b);this.vb(d);this.Dg=this.ec-b.n-this.Gb(d);for(this.nb(d);0<this.Gc&&c<k;)this.Gc--,this.Dg&=32767,this.ec&=32767,a[f+c++]=this.Bf[this.ec++]=this.Bf[this.Dg++]}if(c==k)return k}this.Af=-1;return c},bB:function(a,f,k){var d;d=this.Cg&7;this.nb(d);this.vb(16);d=this.Gb(16);this.nb(16);this.vb(16);if(d!=(~this.Sh&65535))return-1;this.nb(16);this.Gc=d;for(d=0;0<this.Gc&&d<k;)this.Gc--,this.ec&=32767,
this.vb(8),a[f+d++]=this.Bf[this.ec++]=this.Gb(8),this.nb(8);0==this.Gc&&(this.Af=-1);return d},ZA:function(a,b,c){if(null==this.Ol){var e,l=Array(288);for(e=0;144>e;e++)l[e]=8;for(;256>e;e++)l[e]=9;for(;280>e;e++)l[e]=7;for(;288>e;e++)l[e]=8;this.Ep=7;e=new h(l,288,257,d,f,this.Ep);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.Ol=e.root;this.Ep=e.m;for(e=0;30>e;e++)l[e]=5;this.Dp=5;e=new h(l,30,0,k,q,this.Dp);if(1<e.status)return this.Ol=null,alert("HufBuild error: "+e.status),
-1;this.XA=e.root;this.Dp=e.m}this.Cf=this.Ol;this.wu=this.XA;this.Cd=this.Ep;this.Rh=this.Dp;return this.Pl(a,b,c)},YA:function(a,b,c){var e,s,u,w,y,v,z,C=Array(316);for(e=0;e<C.length;e++)C[e]=0;this.vb(5);v=257+this.Gb(5);this.nb(5);this.vb(5);z=1+this.Gb(5);this.nb(5);this.vb(4);e=4+this.Gb(4);this.nb(4);if(286<v||30<z)return-1;for(s=0;s<e;s++)this.vb(3),C[l[s]]=this.Gb(3),this.nb(3);for(;19>s;s++)C[l[s]]=0;this.Cd=7;s=new h(C,19,19,null,null,this.Cd);if(0!=s.status)return-1;this.Cf=s.root;this.Cd=
s.m;w=v+z;for(e=u=0;e<w;)if(this.vb(this.Cd),y=this.Cf.list[this.Gb(this.Cd)],s=y.b,this.nb(s),s=y.n,16>s)C[e++]=u=s;else if(16==s){this.vb(2);s=3+this.Gb(2);this.nb(2);if(e+s>w)return-1;for(;0<s--;)C[e++]=u}else{17==s?(this.vb(3),s=3+this.Gb(3),this.nb(3)):(this.vb(7),s=11+this.Gb(7),this.nb(7));if(e+s>w)return-1;for(;0<s--;)C[e++]=0;u=0}this.Cd=9;s=new h(C,v,257,d,f,this.Cd);0==this.Cd&&(s.status=1);if(0!=s.status)return-1;this.Cf=s.root;this.Cd=s.m;for(e=0;e<z;e++)C[e]=C[e+v];this.Rh=6;s=new h(C,
z,0,k,q,this.Rh);this.wu=s.root;this.Rh=s.m;return 0==this.Rh&&257<v||0!=s.status?-1:this.Pl(a,b,c)},aB:function(){null==this.Bf&&(this.Bf=Array(65536));this.Cg=this.Sh=this.ec=0;this.Af=-1;this.Nl=!1;this.Gc=this.Dg=0;this.Ol=this.Cf=null},$A:function(a,f,k){var d,b;for(d=0;d<k&&(!this.Nl||-1!=this.Af);){if(0<this.Gc){if(0!=this.Af)for(;0<this.Gc&&d<k;)this.Gc--,this.Dg&=32767,this.ec&=32767,a[f+d++]=this.Bf[this.ec++]=this.Bf[this.Dg++];else{for(;0<this.Gc&&d<k;)this.Gc--,this.ec&=32767,this.vb(8),
a[f+d++]=this.Bf[this.ec++]=this.Gb(8),this.nb(8);0==this.Gc&&(this.Af=-1)}if(d==k)break}if(-1==this.Af){if(this.Nl)break;this.vb(1);0!=this.Gb(1)&&(this.Nl=!0);this.nb(1);this.vb(2);this.Af=this.Gb(2);this.nb(2);this.Cf=null;this.Gc=0}switch(this.Af){case 0:b=this.bB(a,f+d,k-d);break;case 1:b=null!=this.Cf?this.Pl(a,f+d,k-d):this.ZA(a,f+d,k-d);break;case 2:b=null!=this.Cf?this.Pl(a,f+d,k-d):this.YA(a,f+d,k-d);break;default:b=-1}if(-1==b)return this.Nl?0:-1;d+=b}return d}};a.bf.inflate=function(f){return(new a.bf.Bq(f)).getBytes(4E7)}})(self);
(function(a){a.md={ef:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ry:function(h){for(var e="",c,b,d,f,k,q,l=0;l<h.length;)c=h.charCodeAt(l++),b=h.charCodeAt(l++),d=h.charCodeAt(l++),f=c>>2,c=(c&3)<<4|b>>4,k=(b&15)<<2|d>>6,q=d&63,isNaN(b)?k=q=64:isNaN(d)&&(q=64),e=e+a.md.ef.charAt(f)+a.md.ef.charAt(c)+a.md.ef.charAt(k)+a.md.ef.charAt(q);return e},us:function(h){var e="",c,b,d,f,k,q=0;for(h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");q<h.length;)c=a.md.ef.indexOf(h.charAt(q++)),b=a.md.ef.indexOf(h.charAt(q++)),
f=a.md.ef.indexOf(h.charAt(q++)),k=a.md.ef.indexOf(h.charAt(q++)),c=c<<2|b>>4,b=(b&15)<<4|f>>2,d=(f&3)<<6|k,e+=String.fromCharCode(c),64!==f&&(e+=String.fromCharCode(b)),64!==k&&(e+=String.fromCharCode(d));return e}};"undefined"===typeof window.btoa&&(window.btoa=a.md.Ry);"undefined"===typeof window.atob&&(window.atob=a.md.us)})(window);
(function(a){function h(a){var c;"undefined"!==typeof DOMParser?(c=new DOMParser,c=c.parseFromString(a,"text/xml"),this.ot=!1):(c=new ActiveXObject("MSXML2.DOMDocument"),c.preserveWhiteSpace=!0,c.async=!1,c.loadXML(a),this.ot=!0);this.current=c.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}h.prototype={Xq:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.Xq();return this.next?(this.current=this.next,
this.next=this.current.nextSibling,!0):!1},Ee:function(){return this.current.tagName},oc:function(){++this.depth;this.next=this.current.firstChild;this.Xq();this.next||++this.diff},Zn:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},mb:function(a){return this.current.getAttribute(a)},hg:function(){return this.ot?this.current.text:this.current.textContent}};a.cf=h})(window);
(function(a){function h(a){this.depth=this.index=0;this.ld=a;this.location={start:0,fl:1,gl:1,end:a.length,empty:!0};this.$i=[this.location];this.Ho=!1;"?"===this.ld.charAt(1)&&this.Zs();this.location.empty=!1}h.prototype={advance:function(){this.jf=null;this.Zs();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.ld.charAt(a))return this.location.empty="/"===this.ld.charAt(this.ld.indexOf(">",a)-1),!0;this.location.end=!0;return!1},Fy:function(a){if(a)return a.split("&quot;").join('"').split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&")},
rt:function(){var a=this.location.start+1,c=this.ld.indexOf(">",a);this.location.empty&&--c;a=this.ld.substring(a,c);this.jf={};c=a.indexOf(" ");if(-1!==c){this.Gs=a.substring(0,c);for(var a=a.slice(c),a=a.split('"'),c=a.length-1,b=0;b<c;++b){var d=a[b],f=a[++b];this.jf[d.substring(1,d.length-1)]=f}}else this.Gs=a},Zs:function(){if(this.Ho)this.Ho=!1,this.location.start=this.ld.indexOf("<",this.location.start+1);else{var a=this.location.fl;if(!this.location.empty)for(var c=this.location.gl;0<c;)a=
this.ld.indexOf("<",a),"/"===this.ld.charAt(++a)?--c:(a=this.ld.indexOf(">",a),"/"!==this.ld.charAt(a-1)&&++c);this.location.start=this.ld.indexOf("<",a)}this.location.fl=this.location.start+1;this.location.gl=1},Ee:function(){null!==this.jf&&"undefined"!==typeof this.jf||this.rt();return this.Gs},oc:function(){++this.depth;this.location={start:this.location.start};this.$i[this.$i.length]=this.location;this.Ho=!0},Zn:function(){--this.depth;this.jf=null;var a=this.location.fl,c=this.location.gl,b=
this.location.empty,d=this.location.end;this.$i.pop();this.location=this.$i[this.$i.length-1];this.location.fl=a;this.location.gl=d?0:b?c:c+1},mb:function(a){null!==this.jf&&"undefined"!==typeof this.jf||this.rt();return this.Fy(this.jf[a])}};a.uB=h})(self);self.Ma.zl("XODText");self.Ma.zl("XODTextOld");XODText.sb=function(){};
XODText.nm=function(a,h){this.Er=a;this.lb=Array(8);this.lb[0]=h[0];this.lb[1]=h[1];this.lb[2]=h[2];this.lb[3]=h[3];this.lb[4]=h[4];this.lb[5]=h[5];this.lb[6]=h[6];this.lb[7]=h[7]};XODText.nm.prototype={Er:null,lb:null,Rb:function(){for(var a=Array(8),h=0;8>h;h++)a[h]=this.lb[h];return a}};XODText.Yo=function(a){this.xx=this.width=a};XODText.Yo.prototype={width:0,xx:0};XODText.ml=function(){};XODText.ml.prototype={A:function(){},addColorStop:function(){}};
XODText.Fm=function(a){this.gh=[];this.cr={};var h=new XODText.Pa;h.set(1,0,0,1,0,0);this.gh.push(h);this.an=a};
$.extend(XODText.Fm.prototype,{an:null,Lr:0,vi:0,tn:0,hz:function(a){return this.cr[a]},wB:function(a,h){var e=new XODText.na;e.xd(a);h.su(e);return e.width()},$g:function(a){a=a.split(" ")[1];console.assert(Object.Mo(this.an,a),"Font "+a+" file not found");return this.an[a]},Vr:function(a,h){var e=new XODText.Pa,c=a.sn,b=a.Fr;e.set(b/c,0,0,b/c,0,0);e.su(h)},font:null,save:function(){var a=new XODText.Pa;a.Xk(T(this.gh));this.gh.push(a)},restore:function(){this.gh.pop()},transform:function(a,h,e,
c,b,d){var f=new XODText.Pa;f.set(a,h,e,c,b,d);T(this.gh).concat(f)},translate:function(a,h){this.vi=a;this.tn=h},fillText:function(a,h,e){var c=this.$g(this.font);this.Xj(a,h,e,c)},Xj:function(a,h,e,c){if(!this.Yg)for(this.translate(h,e),h=0,e=a.length;h<e;h++){var b=a.charAt(h),d=c.Qs(b.toString());this.Vr(c,d);d.v+=this.vi;d.H+=this.vi;d.k+=this.tn;d.u+=this.tn;this.vi+=d.width();var f=Array(8);f[0]=d.v;f[1]=d.k;f[2]=d.H;f[3]=d.k;f[4]=d.H;f[5]=d.u;f[6]=d.v;f[7]=d.u;T(this.gh).tu(f);this.cr[this.Lr]=
new XODText.nm(b,f);this.Lr++}},measureText:function(a){var h=this.$g(this.font);return this.Ir(a,h)},Ir:function(a,h){var e=0;if(!this.Yg)for(var c=0,b=a.length;c<b;c++){var d=h.Qs(a.charAt(c).toString());this.Vr(h,d);e+=d.width()}return new XODText.Yo(e)},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.ml},createRadialGradient:function(){return new XODText.ml},createPattern:function(){},addColorStop:function(){},beginPath:function(){},
closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.jm},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,h,e,c,b,d){this.transform(a,h,e,c,b,d)},T:function(a,h){this.translate(a,h)},w:0,c:null,s:null,
f:null,a:0,L:function(a,h,e,c){return this.createLinearGradient(a,h,e,c)},R:function(a,h,e,c,b,d){return this.createRadialGradient(a,h,e,c,b,d)},P:function(a,h){this.createPattern(a,h)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},C:function(){this.clip()},M:function(a,h){this.moveTo(a,h)},l:function(a,h){this.lineTo(a,h)},q:function(a,h,e,c){this.quadraticCurveTo(a,h,e,c)},B:function(a,h,e,c,b,d){this.bezierCurveTo(a,
h,e,c,b,d)},n:null,x:function(a,h,e){var c=this.$g(this.n);this.Xj(a,h,e,c)},m:function(a){var h=this.$g(this.n);return this.Ir(a,h)},i:0,j:null,I:function(a,h,e){this.drawImage(a,h,e)},Z:function(a,h,e,c,b,d){this.setTransform(a,h,e,c,b,d)},d:function(a,h,e,c){return this.getImageData(a,h,e,c)},D:function(a,h,e){this.putImageData(a,h,e)},e:function(a,h){this.scale(a,h)},fillTextCustom:function(a,h,e){var c=this.$g(this.font);this.Xj(a,h,e,c)},xc:function(a,h,e){var c=this.$g(this.n);this.Xj(a,h,
e,c)},cgb:function(){console.assert(!this.Yg,"Custom Glyphs begin offset is incorrect");this.Yg=!0},cge:function(){console.assert(this.Yg,"Custom Glyphs end offset is incorrect");this.Yg=!1},xw:function(a,h,e,c){c&&(1<a.length&&(a=a.substr(0,a.length-1)));h(a,h,e)},xcw:function(a,h,e,c){c&&(1<a.length&&(a=a.substr(0,a.length-1)));xc(a,h,e)},Yg:!1});XODText.Pf=function(){this.eh=[];this.pc=[];this.ya=[];this.qc=!1};
XODText.Pf.prototype={clear:function(){this.bb="";this.pc.clear();this.ya.clear();this.qc=!1},ib:function(){this.pc=[];this.ya=[];this.qc=!1},$j:function(a){for(var h="",e=0,c=0,b=0,d=0;e<a.length;)c=a.charCodeAt(e),9==c?(h+=String.fromCharCode(10),e++):128>c?(h+=String.fromCharCode(c),e++):191<c&&224>c?(b=a.charCodeAt(e+1),h+=String.fromCharCode((c&31)<<6|b&63),e+=2):(b=a.charCodeAt(e+1),d=a.charCodeAt(e+2),h+=String.fromCharCode((c&15)<<12|(b&63)<<6|d&63),e+=3);return h},by:function(a,h){for(var e=
new XODText.$a,c=D.Xc.Dc(a.split(","));c.Me();){var b=c.current.split(":"),d=parseInt(b[0]),f=0;1<b.length&&(f=parseInt(b[1]));for(b=d;b<=d+f;b++){var k=h.hz(b);e.Fn(k.Er,k.Rb());this.pc.add(b);this.ya.addRange(k.Rb())}}return e},parse:function(a,h){var e=0,c=0,b=0;do{for(var d;a.advance();)if(d=a.Ee(),"F"===d)a.oc();else if("P"===d)a.oc();else if("L"===d){a.oc();d=new XODText.ob;d.An(e++);0<this.eh.length&&this.eh[this.eh.length-1].pA(d);this.eh.add(d);for(var f=D.Xc.Dc(a.hg().split(" "));f.Me();){var k=
f.current;if(0<d.ig()){this.bb+=" ";this.pc.add(-1);b++;var q=Array(8);d.so().Rb(q);this.ya.addRange(q)}k=this.by(k,h);k.An(c++);k.fy(b);d.oy(k);this.bb+=k.W;b+=k.Fe()}this.bb+="\n";this.pc.add(-2);b++;console.assert(0<d.ig(),"No words in line");0<d.ig()&&(q=Array(8),d.so().Rb(q),this.ya.addRange(q))}else console.assert("XML parser has encountered a symbol it can't process.");a.Zn()}while(a.depth)},fp:function(a,h){try{var e=new window.cf(a);console.assert("TextData"===e.Ee(),"XML parser has encountered a symbol it can't process.");
"TextData"===e.Ee()&&(e.oc(),this.parse(e,h))}catch(c){console.warn("TextSelection has encountered an error: "+c.message);return}this.qc=!0},ready:function(){return this.qc},Ri:function(){return this.eh.length?this.eh[0]:new XODText.ob},lg:function(){return this.ya},bb:"",pc:null,ya:null,qc:!1};XODText.ob=function(){this.Xa=[];this.Qa=-1;this.qb=[];this.lb=Array(8);this.jk=null};
XODText.ob.prototype={ib:function(){this.Qa=this.yb=-1;this.qb=[]},Na:function(a){return this.Qa===a.Qa},ig:function(){return this.Xa.length},Oc:function(){return this.Xa.length?this.Xa[0]:new XODText.$a},so:function(){return this.Xa.length?this.Xa[this.Xa.length-1]:new XODText.$a},ft:function(a){return 0>a||a>=this.ig()?new XODText.$a:this.Xa[a]},sf:function(){return null==this.jk?new XODText.ob:this.jk},bc:function(a){a.Ag(this.lb)},An:function(a){this.Qa=a},Qk:function(){if(this.qb.length)return this.qb[0];
var a=new XODText.Q,h=new XODText.Q,e=this.Oc(),c=this.so(),b=Array(8),d=Array(8);e.Qb(0,b);a.x=(b[0]+b[2]+b[4]+b[6])/4;a.y=(b[1]+b[3]+b[5]+b[7])/4;c.Qb(c.Fe()-1,d);h.x=(d[0]+d[2]+d[4]+d[6])/4;h.y=(d[1]+d[3]+d[5]+d[7])/4;0.01>Math.abs(a.x-h.x)&&(0.01>Math.abs(a.y-h.y)&&this.qb.add(0));a=Math.atan2(h.y-a.y,h.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.qb.add(a);return 0},W:"",ga:null,Qa:0,qb:null,lb:null,jk:null,pA:function(a){this.jk=a},oy:function(a){0<this.Xa.length&&this.Xa[this.Xa.length-1].qA(a);
this.Xa.add(a);var h=String.Jo(this.W),e=Array(8);a.Rb(e);if(h)for(h=0;8>h;h++)this.lb[h]=e[h];else this.W+=" ",XODText.Ua.lk(this.lb,e,!1,0);this.W+=a.W}};XODText.$a=function(){this.rn=[];this.Qa=this.tb=-1;this.lb=Array(8);this.kk=null};
XODText.$a.prototype={ib:function(){this.Qa=this.tb=-1},Na:function(a){return this.Qa===a.Qa},Fe:function(){return this.rn.length},vd:function(){return this.W.length},wd:function(){return this.Dr},fy:function(a){this.Dr=a},Qc:function(){return null==this.kk?new XODText.$a:this.kk},Qb:function(a,h){for(var e=0;8>e;e++)h[e]=this.rn[a][e]},Rb:function(a){for(var h=0;8>h;h++)a[h]=this.lb[h]},bc:function(a){var h=new XODText.na;h.Ag(this.lb);a[0]=h.v;a[1]=h.k;a[2]=h.H;a[3]=h.u},An:function(a){this.Qa=
this.tb=a},tb:0,W:"",ga:null,Qa:0,Dr:0,lb:null,kk:null,Fn:function(a,h){var e=String.Jo(this.W);this.W+=a;for(var c=Array(8),b=0;8>b;b++)c[b]=h[b];this.rn.add(c);if(e)for(b=0;8>b;b++)this.lb[b]=c[b];else XODText.Ua.lk(this.lb,c,!1,0)},qA:function(a){this.kk=a}};XODTextOld.Pf=function(){};
XODTextOld.Pf.prototype={clear:function(){this.Ja.clear();this.bb="";this.pc.clear();this.ya.clear();this.qc=!1},ib:function(){this.Ja=[];this.pc=[];this.ya=[];this.qc=!1},$j:function(a){for(var h="",e=0,c=0,b=0,d=0;e<a.length;)c=a.charCodeAt(e),9==c?(h+=String.fromCharCode(10),e++):128>c?(h+=String.fromCharCode(c),e++):191<c&&224>c?(b=a.charCodeAt(e+1),h+=String.fromCharCode((c&31)<<6|b&63),e+=2):(b=a.charCodeAt(e+1),d=a.charCodeAt(e+2),h+=String.fromCharCode((c&15)<<12|(b&63)<<6|d&63),e+=3);return h},
xz:function(a){this.Ja=[];this.pc=[];this.ya=[];this.qc=!1;try{var h=new window.cf(a);this.bb="";h.oc();if(!h.advance())return;var e=h.hg();this.bb=e=this.$j(e);this.pc.clear();h.advance();for(var e=h.hg(),c=e.split(","),b=D.Xc.Dc(c);b.Me();){var d=b.current;try{var f=parseInt(d.trim());this.pc.add(f)}catch(k){}}this.Ja.clear();h.advance();for(var e=h.hg(),c=e.split(","),q=D.Xc.Dc(c);q.Me();){d=q.current;try{f=parseFloat(d.trim()),this.Ja.add(f)}catch(l){}}this.ya.clear();h.advance();e=h.hg();c=e.split(",");
a=[];for(var h=[],e=0,m=D.Xc.Dc(c);m.Me();){d=m.current;switch(d){case "Q":e=1;break;case "R":e=2;break;case "S":e=3;break;default:e=0}if(e)a.add(0),h.add(e);else try{f=parseFloat(d.trim()),a.add(f),h.add(e)}catch(n){return}}for(var e=0,p=a.length,r,s,u,w,m=d=c=0;m<p;){var y=h[m];if(0<y)e=y,++m,3===e&&(c=a[m],d=a[m+1],m+=2);else if(1===e)for(f=0;8>f;++f)this.ya.add(a[m++]);else 2===e?(r=a[m++],s=a[m++],u=a[m++],w=a[m++],this.ya.add(r),this.ya.add(s),this.ya.add(u),this.ya.add(s),this.ya.add(u),this.ya.add(w),
this.ya.add(r),this.ya.add(w)):3===e&&(r=a[m++],s=c,u=a[m++],w=d,this.ya.add(r),this.ya.add(s),this.ya.add(u),this.ya.add(s),this.ya.add(u),this.ya.add(w),this.ya.add(r),this.ya.add(w))}}catch(v){return}this.bb.length&&(this.bb.length===this.pc.length&&(8*this.bb.length===this.ya.length&&(this.qc=!0)))},ready:function(){return this.qc},Ri:function(){var a=new XODTextOld.ob;if(!this.Ja.length)return a.Rc(this.Ja,-1,this.bb,this.ya,0),a;a.Rc(this.Ja,1,this.bb,this.ya,1);return a},lg:function(){return this.ya},
Ja:null,bb:null,pc:null,ya:null,qc:!1};XODTextOld.ob=function(){};
XODTextOld.ob.prototype={ib:function(){this.yb=-1;this.Qa=0;this.qb=[]},Rc:function(a,h,e,c,b){this.yb=h;this.Qa=b;this.qb=[];this.Yb=a;this.W=e;this.ga=c},Na:function(a){return this.yb===a.yb},ig:function(){return Math.abs(this.Yb[this.yb])},Je:function(){return 0<this.Yb[this.yb]},Oc:function(){var a=new XODTextOld.$a;a.Rc(this.Yb,this.yb+(this.Je()?6:10),this.yb,this.W,this.ga,1);return a},ft:function(a){if(0>a||a>=this.ig()){var h=new XODTextOld.$a;h.Rc(this.Yb,-1,-1,this.W,this.ga,0)}else{var e=
this.Je()?6:10,c=this.Je()?5:11,h=new XODTextOld.$a;h.Rc(this.Yb,this.yb+e+c*a,this.yb,this.W,this.ga,1+a)}return h},sf:function(){var a=this.yb+parseInt(this.Yb[this.yb+1]);if(a>=this.Yb.length){var h=new XODTextOld.ob;h.Rc(this.Yb,-1,this.W,this.ga,0)}else h=new XODTextOld.ob,h.Rc(this.Yb,a,this.W,this.ga,this.Qa+1);return h},bc:function(a){if(this.Je())a.v=this.Yb[this.yb+2+0],a.k=this.Yb[this.yb+2+1],a.H=this.Yb[this.yb+2+2],a.u=this.Yb[this.yb+2+3];else{for(var h=1.79769E308,e=XODText.sb.$e,
c=1.79769E308,b=XODText.sb.$e,d=0;4>d;++d)var f=this.Yb[this.yb+2+2*d],k=this.Yb[this.yb+2+2*d+1],h=Math.min(h,f),e=Math.max(e,f),c=Math.min(c,k),b=Math.max(b,k);a.v=h;a.k=c;a.H=e;a.u=b}},Qk:function(){if(this.qb.length)return this.qb[0];var a=new XODText.Q,h=new XODText.Q,e=new XODTextOld.$a;e.ib();var c=this.Oc(),b=new XODTextOld.$a;b.ib();for(var d=this.Oc();!d.Na(e);d=d.Qc())b=d;e=Array(8);d=Array(8);c.Qb(0,e);a.x=(e[0]+e[2]+e[4]+e[6])/4;a.y=(e[1]+e[3]+e[5]+e[7])/4;b.Qb(b.Fe()-1,d);h.x=(d[0]+
d[2]+d[4]+d[6])/4;h.y=(d[1]+d[3]+d[5]+d[7])/4;0.01>Math.abs(a.x-h.x)&&(0.01>Math.abs(a.y-h.y)&&this.qb.add(0));a=Math.atan2(h.y-a.y,h.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.qb.add(a);return 0},yb:0,Yb:null,W:null,ga:null,Qa:0,qb:null};XODTextOld.$a=function(){};
XODTextOld.$a.prototype={ib:function(){this.ze=this.tb=-1;this.Qa=0},Rc:function(a,h,e,c,b,d){this.tb=h;this.ze=e;this.Ja=a;this.W=c;this.ga=b;this.Qa=d},Na:function(a){return this.tb===a.tb},Fe:function(){return parseInt(this.Ja[this.tb])},vd:function(){return parseInt(this.Ja[this.tb+2])},wd:function(){return parseInt(this.Ja[this.tb+1])},Je:function(){return 0<this.Ja[this.ze]},iz:function(){return Math.abs(this.Ja[this.ze])},Qc:function(){var a=this.Je(),h=a?5:11;this.tb>=this.ze+(a?6:10)+(this.iz()-
1)*h?(a=new XODTextOld.$a,a.Rc(this.Ja,-1,-1,this.W,this.ga,0)):(a=new XODTextOld.$a,a.Rc(this.Ja,this.tb+h,this.ze,this.W,this.ga,this.Qa+1));return a},dz:function(a){var h=this.Fe();return 0>a||a>=h?-1:parseInt(this.Ja[this.tb+1])+a},Qb:function(a,h){var e=this.dz(a);if(!(0>e)){var c=new XODTextOld.ob;c.Rc(this.Ja,this.ze,this.W,this.ga,0);if(c.Je()){var b=new XODText.na;c.bc(b);c=b.k<b.u?b.k:b.u;b=b.k>b.u?b.k:b.u;e*=8;h[0]=this.ga[e];h[1]=c;h[2]=this.ga[e+2];h[3]=h[1];h[4]=this.ga[e+4];h[5]=b;
h[6]=this.ga[e+6];h[7]=h[5]}else for(e*=8,c=0;8>c;++c)h[c]=this.ga[e+c]}},Rb:function(a){var h=new XODTextOld.ob;h.Rc(this.Ja,this.ze,this.W,this.ga,0);if(h.Je()){var e=this.Ja[this.tb+3],c=this.Ja[this.tb+4];if(e>c){var b;b=e;e=c;c=b}b=new XODText.na;h.bc(b);h=b.k<b.u?b.k:b.u;b=b.k>b.u?b.k:b.u;a[0]=e;a[1]=h;a[2]=c;a[3]=h;a[4]=c;a[5]=b;a[6]=e;a[7]=b}else for(e=this.tb+3,c=0;8>c;++c)a[c]=this.Ja[e+c]},bc:function(a){var h=new XODTextOld.ob;h.Rc(this.Ja,this.ze,this.W,this.ga,0);if(h.Je()){var e=this.Ja[this.tb+
3],c=this.Ja[this.tb+4];if(e>c){var b;b=e;e=c;c=b}b=new XODText.na;h.bc(b);h=b.k<b.u?b.k:b.u;b=b.k>b.u?b.k:b.u}else{e=1.79769E308;c=XODText.sb.$e;h=1.79769E308;b=XODText.sb.$e;for(var d=this.tb+3,f=0;4>f;++f){var k=this.Ja[d+2*f],q=this.Ja[d+2*f+1],e=Math.min(e,k),c=Math.max(c,k),h=Math.min(h,q);b=Math.max(b,q)}}a[0]=e;a[1]=h;a[2]=c;a[3]=b},tb:0,ze:0,Ja:null,W:null,ga:null,Qa:0};XODText.na=function(){this.u=this.H=this.k=this.v=0};
XODText.na.prototype={hb:function(a,h,e,c){this.v=a;this.k=h;this.H=e;this.u=c},xd:function(a){this.v=a.v;this.k=a.k;this.H=a.H;this.u=a.u},normalize:function(){if(this.v>this.H){var a;a=this.v;this.v=this.H;this.H=a}this.k>this.u&&(a=this.k,this.k=this.u,this.u=a)},set:function(a,h,e,c){this.v=a;this.k=h;this.H=e;this.u=c},aj:function(a){return this.H<a.v||(this.v>a.H||(this.u<a.k||this.k>a.u))},width:function(){var a=this.H-this.v;return 0>a?-a:a},height:function(){var a=this.u-this.k;return 0>
a?-a:a},Ag:function(a){for(var h=1.79769E308,e=XODText.sb.$e,c=1.79769E308,b=XODText.sb.$e,d=0;4>d;++d)var f=a[2*d],k=a[2*d+1],h=Math.min(h,f),e=Math.max(e,f),c=Math.min(c,k),b=Math.max(b,k);this.v=h;this.k=c;this.H=e;this.u=b},Zk:function(a,h){var e,c,b,d,f,k,q,l;a.v<a.H?(e=a.v,c=a.H):(e=a.H,c=a.v);a.k<a.u?(b=a.k,d=a.u):(b=a.u,d=a.k);h.v<h.H?(f=h.v,k=h.H):(f=h.H,k=h.v);h.k<h.u?(q=h.k,l=h.u):(q=h.u,l=h.k);if(c<f||(k<e||(d<q||l<b)))return this.v=this.H=this.k=this.u=0,!1;this.v=e<f?f:e;this.H=c<k?
c:k;this.k=b<q?q:b;this.u=d<l?d:l;return this.v===this.H||this.k===this.u?(this.v=this.H=this.k=this.u=0,!1):!0},vz:function(a){this.Qx(a,a)},Qx:function(a,h){this.normalize();this.v-=a;this.H+=a;this.k-=h;this.u+=h},union:function(a){a.v<this.v&&(this.v=a.v);a.k<this.k&&(this.k=a.k);a.H>this.H&&(this.H=a.H);a.u>this.u&&(this.u=a.u)},contains:function(a,h){if(this.v<this.H){if(a<this.v||a>this.H)return!1}else if(a<this.H||a>this.v)return!1;if(this.k<this.u){if(h<this.k||h>this.u)return!1}else if(h<
this.u||h>this.k)return!1;return!0},v:0,k:0,H:0,u:0};XODText.Q=function(){this.y=this.x=0};XODText.Q.Na=function(a,h){return a.x===h.x&&a.y===h.y};XODText.Q.gC=function(a,h){return a!==h};XODText.Q.As=function(a){var h=new XODText.Q;h.x=a.x/2;h.y=a.y/2;return h};XODText.Q.multiply=function(a,h){var e=new XODText.Q;e.init(a.x*h,a.y*h);return e};XODText.Q.qg=function(a,h){var e=new XODText.Q;e.init(a.x-h.x,a.y-h.y);return e};XODText.Q.ul=function(a,h){var e=new XODText.Q;e.init(a.x+h.x,a.y+h.y);return e};
XODText.Q.distance=function(a,h){var e=a.x-h.x,c=a.y-h.y;return Math.sqrt(e*e+c*c)};XODText.Q.prototype={x:0,y:0,init:function(a,h){this.x=a;this.y=h},Yk:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Pb:function(a){return this.x*a.x+this.y*a.y}};XODText.sb.ma("XODText.doubleData");XODText.nm.ma("XODText.Letter");
XODText.Yo.ma("XODText.nsIDOMTextMetrics");XODText.ml.ma("XODText.nsIDOMCanvasGradient");XODText.Fm.ma("XODText.SelectionContext");XODText.Pf.ma("XODText.SelectionInfo");XODText.ob.ma("XODText.Line");XODText.$a.ma("XODText.Word");XODText.na.ma("XODText.SelectionRect");XODText.Q.ma("XODText.SelectionPoint");XODText.sb.qe=1.79769E308;XODText.sb.$e=-1.79769E308;
(function(a){function h(a){if(a){if(a.length!==this.Yh)throw Error("Data is wrong size for zip header!");this.Ik=a=this.aA(a);if(a.Gl!==this.Sy)throw Error("Signature is wrong!");this.eg={};this.names=[]}}function e(a,f,k){this.source=a;this.Ak=this.Pn=!1;this.ready=!0;this.kd={};this.Oi=function(){};this.Ki=f;this.Ek=k;this.rs=_.isUndefined(k)||_.isUndefined(k.type)}function c(a){this.tg=a;this.started=!1;this.Ne=1}c.prototype={cancel:function(){}};e.prototype={Fd:"Document/FixedDocument.fdoc",ke:"Document/DocProps/core.xml",
Dd:"Document/Structure/DocStruct.struct",Tw:function(a){this.Oi=a},Lj:function(d){var f=this;this.Ah(function(k){if(k){a.utils.warn("Error loading document: "+k);f.Oi(k);if(d){d(k);return}throw k;}return f.Of([f.Fd,f.ke,f.Dd])})},lj:function(){return!1},Of:function(a){var f=this;if(!f.Pn)throw Error("Document must be loaded before requesting parts");_(a).each(function(a){f.Uy(a,function(a,k,d,b){return a?(k!==f.Dd&&f.Oi(a),f.trigger("partReady",{ea:k,Ce:!1,kc:!!a.uk,error:a})):f.trigger("partReady",
{ea:k,data:d,Ce:!1,kc:!1,error:null,zb:b})})})},Rw:function(a){this.Dk=a},Ln:function(a){var f=this;_(a).each(function(a){var d=f.kd[a];d&&(d.Ne--,0===d.Ne&&(delete f.kd[a],d.cancel()))})},Uy:function(a,f){if(this.kd[a])this.kd[a].Ne++;else return this.kd[a]=new c(a),this.Mt(a,f)}};_(e.prototype).extend(Backbone.Events);h.prototype={Ss:function(){return{start:this.Ik.zs,stop:this.Ik.zs+this.Ik.Ny}},qh:function(a){var f=this.eg[a],k=f.offset+this.qm+f.rg+f.Pi;return{start:k,stop:k+f.In,tg:a}},Rk:function(a){a=
this.qh(a);var f=Math.floor(a.start/102400),k=a.stop-a.start;return Math.min(k,102400*(f+1)-a.start)>k/2?f:f+1},cz:function(a){var f=this.Rk(a),k=this.names.indexOf(a),b=this.qh(a);a=[];var c;for(c=k-1;0<=c&&this.Rk(this.names[c])===f;--c);var b=c+1,e=this.qh(this.names[b]).start;for(c=k+1;c<this.names.length&&this.Rk(this.names[c])===f;++c);f=c-1;k=this.qh(this.names[f]).stop;for(c=b;c<=f;++c)b=this.qh(this.names[c]),b.start-=e,b.stop-=e,a.push(b);return{start:e,stop:k,Kt:a}},ls:function(a){return!!this.eg[a]},
kt:function(a){return 0!==this.eg[a].Vn},Lt:function(a){for(var f=10,k=this.av,b=this.Ik.LA,c=0;c<b;c++){var e=this.bA(a,f),f=f+k,h=a.substr(f,e.rg),f=f+(e.rg+e.Pi+e.ks+10);this.eg[h]=e;this.names[this.names.length]=h}},Yh:22,av:36,qm:30,ep:function(a,f,k){for(var b="",c=0;c<f;c++)var e=a.charCodeAt(c+k).toString(16),b=1===e.length?"0"+e+b:e+b;return parseInt(b,16)},bA:function(a,f){var k={},b=this.ep;k.Vn=b(a,2,f);k.In=b(a,4,f+10);k.MA=b(a,4,f+14);k.rg=b(a,2,f+18);k.Pi=b(a,2,f+20);k.ks=b(a,2,f+22);
k.offset=b(a,4,f+32);return k},aA:function(a){var f={},k=this.ep;f.Gl=k(a,4,0);f.QB=k(a,2,4);f.zB=k(a,2,6);f.hC=k(a,2,8);f.LA=k(a,2,10);f.Ny=k(a,4,12);f.zs=k(a,4,16);f.ks=k(a,2,20);return f},cA:function(a){var f={},k=this.ep;f.Gl=k(a,4,0);f.AC=k(a,2,4);f.RB=k(a,2,6);f.Vn=k(a,2,8);f.fC=k(a,2,10);f.eC=k(a,2,12);f.DB=k(a,4,14);f.In=k(a,4,18);f.MA=k(a,4,22);f.rg=k(a,2,26);f.Pi=k(a,2,28);return f},Sy:101010256,Lz:67324752,Mz:"PK\u0003\u0004"};h.inflate=function(b){return a.bf.inflate(b)};a.g=a.g||{};a.g.K=
a.g.K||{};var b=a.g.K;b.Hd=e;b.ri=h;b.wk=Array(1024);a.yo=function(d,f,k){f=f||0;k=k||!1;var c="";if(a.utils.ie&&!_.isUndefined(d.responseBody)){k=d.responseBody;var e=_.isArray(k)?k:(new a.VBArray(k)).toArray();k=e.length;d=Array(k);for(f=0;f<k;f++)d[f]=e[f]&255;f=k/1024+1;for(k=0;k<f;k++)c+=String.fromCharCode.apply(null,d.slice(1024*k,1024*k+1024))}else if(!a.Uint8Array||(_.isUndefined(d.response)||k))for(k=d.responseText,d=b.wk;f<k.length;){for(e=0;1024>e&&f<k.length;++e)d[e]=k.charCodeAt(f)&
255,++f;c+=String.fromCharCode.apply(null,d.slice(0,e))}else{k=d.response;var e=new a.Uint8Array(k),m=e.length;if(a.utils.typedArrayApply)for(;f<m;)d=e.subarray(f,f+1024),f+=1024,c+=String.fromCharCode.apply(null,d);else for(d=b.wk;f<m;){k=0;for(var h=Math.min(f+1024,m);f<h;k++,f++)d[k]=e[f];c+=String.fromCharCode.apply(null,1024>k?d.slice(0,k):d)}}return c};a.g.K.Hf={sm:0,Fp:1,Xv:2}})(window);
(function(a){function h(b,d,f){e.apply(this,arguments);if("xod"!==b.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||(!a.File||!a.Blob))throw Error("File API is not supported in this browser");this.file=b}var e=a.g.K.Hd,c=a.g.K.ri;h.prototype=new e;h.prototype=_(h.prototype).extend({Po:function(a,d,f){var k=new FileReader;k.onloadend=function(a,b){if(k.error){var c=k.error;if(c.code===c.ABORT_ERR){console.warn("Request for chunk "+d.start+"-"+d.stop+" was aborted");return}return f(c)}return f(!1,
b||a.target.result)};d&&(a=(a.slice||(a.webkitSlice||(a.mozSlice||a.jo))).call(a,d.start,d.stop));k.readAsBinaryString(a);return function(){k.abort()}},Ah:function(a){var d=this;d.Ak=!0;var f=c.prototype.Yh;d.Po(d.file,{start:-f,stop:d.file.size},function(k,e){if(k)return console.warn("Error loading end header: %s",k),a(k);if(e.length!==f)throw Error("Zip end header data is wrong size!");d.Tb=new c(e);var l=d.Tb.Ss();d.Po(d.file,l,function(f,k){if(f)return console.warn("Error loading central directory: %s",
f),a(f);if(k.length!==l.stop-l.start)throw Error("Zip central directory data is wrong size!");d.Tb.Lt(k);d.Pn=!0;d.Ak=!1;return a(!1)})})},Mt:function(a,d){var f=this,k=f.kd[a];if(!f.Tb.ls(a))return d(Error('File not found: "'+a+'"'),a);var c=f.Tb.qh(a),e=f.Po(f.file,c,function(k,e){delete f.kd[a];if(k)return console.warn('Error loading part "%s": %s',a,k),d(k);if(e.length!==c.stop-c.start)throw Error("Part data is wrong size!");var l=f.Tb.kt(a);d(!1,a,e,l)});k.started=!0;k.cancel=e}});a.g.K.Vv=h;
a.Gd=a.Gd||{};a.Gd.gB=function(a){return{name:a.value.split(/[\/\\]/).pop(),size:null,data:null,Ml:[],Go:!1,jo:function(a,f){return{Ct:this,jo:this.jo,start:a,stop:f}}}};a.Gd.hB=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(a){var d=a.Ct||a,f=this,k=encodeURI(d.name);if(d.data)return this.Bo(a);if(d.Go)return d.Ml.push(function(){f.Bo(a)});d.Go=!0;new JSIO.eB(k,function(k){d.Go=!1;if(k)return console.error('Failed to load file "%s"',d.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),
f.error=Error('Failed to load file "%s"',d.name),f.onloadend(f.error);d.size=this.fileSize;d.data=this.read(this.fileSize);f.Bo.call(f,a);for(k=0;k<d.Ml.length;k++)d.Ml[k]();d.Ml=[]})},Bo:function(a){var d=a.Ct||a,f=a.start||0;a=a.stop||d.size;null===f&&(f=d.size);null===a&&(a=d.size);0>f&&(f=d.size+f);0>a&&(a=d.size+a);d=d.data.slice(f,a);f="";for(a=0;a<d.length/1E3;a++)f+=String.fromCharCode.apply(null,d.slice(1E3*a,1E3*a+1E3));this.result=f;this.onloadend({},f)}}}})(window);
(function(a){function h(a,k,b,d){f.apply(this,[a,b,d]);this.Oe={};this.Jn=k;this.url=a}function e(){this.Ne=1}function c(f){var k=f.da,b=f.range;return function(d,c){if(d){if(d.code===k.Va.Df){a.utils.warn("Request for range "+b.start+"-"+b.stop+" was aborted");return}return f.ad.forEach(function(a){a("Error retrieving file: "+k.url+". Received return status "+d.status+".")})}return f.ad.forEach(function(a){a(!1,c,k)})}}function b(f,k,b){this.url=f;this.range=k;this.Dk=b;this.da=new XMLHttpRequest;
this.da.open("GET",this.url,!0);a.Uint8Array&&(!a.utils.ie&&(this.da.responseType="arraybuffer"));_.isUndefined(k.stop)?this.da.setRequestHeader("Range","bytes="+k.start):this.da.setRequestHeader("Range",["bytes=",k.start,"-",k.stop-1].join(""));this.da.setRequestHeader("X-Requested-With","XMLHttpRequest");if(b)for(var d in b)this.da.setRequestHeader(d,b[d]);this.da.overrideMimeType?this.da.overrideMimeType("text/plain; charset=x-user-defined"):this.da.setRequestHeader("Accept-Charset","x-user-defined");
this.status=this.Va.Kc}function d(f,k,b){for(var d=-1,c=0;c<b.length;c++)_.isEqual(b[c].range,k)&&(_.isEqual(b[c].url,f)&&(d=c));-1===d&&a.utils.warn(k+" not found in queue");return d}var f=a.g.K.Hd,k=a.g.K.ri,q=[],l=[];b.prototype={constructor:b,start:function(f){var k=this;this.da.onreadystatechange=function(){if(k.uk)return k.status=k.Va.Df,f({code:k.Va.Df});if(this.readyState===k.Lq.DONE)if(k.sh(),200===this.status||206===this.status){var b=a.yo(this);k.success(b,f)}else k.status=k.Va.Xh,f({code:k.status,
status:this.status})};this.da.send(null);this.status=this.Va.ve},success:function(a,f){this.status=this.Va.zw;if(f)return f(!1,a)},abort:function(){this.sh();this.uk=!0;this.da.abort()},sh:function(){var a=d(this.url,this.range,l);-1!==a&&l.splice(a,1);if(0<q.length){var a=q.shift(),f=new this.constructor(a.url,a.range,this.Dk);a.da=f;l.push(a);f.start(c(a))}},Lq:{sB:0,DONE:4},Va:{Kc:0,ve:1,zw:2,Xh:3,Df:4},extend:function(a){var f=$.extend({},this,a.prototype);f.constructor=a;return f}};a.BC=[];h.prototype=
{hj:b,jq:3,Ck:function(f,k,b){var d=-1===f.indexOf("?")?"?":"&";switch(b){case !1:case a.g.K.Hf.sm:f=f+d+"_="+_.uniqueId();break;case !0:case a.g.K.Hf.Fp:f=f+d+"_="+k.start+","+(_.isUndefined(k.stop)?"":k.stop)}return f},Ty:function(a,f,k,b,d){for(var c=0;c<q.length;c++)if(_.isEqual(q[c].range,f)&&_.isEqual(q[c].url,a))return q[c].ad.push(b),q[c].nl++,null;for(c=0;c<l.length;c++)if(_.isEqual(l[c].range,f)&&_.isEqual(l[c].url,a))return l[c].ad.push(b),l[c].nl++,null;k={url:a,range:f,Jn:k,ad:[b],nl:1,
da:{}};if(0===q.length&&l.length<this.jq)return l.push(k),k.da=new this.hj(a,f,d),k;q.push(k);return null},hl:function(a,f,k){var b=this.Ck(a,f,this.Jn);(a=this.Ty(b,f,this.Jn,k,this.Dk))&&a.da.start(c(a));return function(){var a=d(b,f,l),k;-1!==a?(k=--l[a].nl,0===k&&l[a].da.abort()):(a=d(b,f,q),-1!==a&&(k=--q[a].nl,0===k&&q.splice(a,1)))}},Us:function(){return{start:-k.prototype.Yh}},Ah:function(f){var b=this;b.Ak=!0;var d=k.prototype.Yh;b.hl(b.url,b.Us(),function(c,e){if(c)return a.utils.warn("Error loading end header: "+
c),f(c);if(e.length!==d)return f("Invalid XOD file: Zip end header data is wrong size!");try{b.Tb=new k(e)}catch(q){return f(q)}var l=b.Tb.Ss();b.hl(b.url,l,function(k,d){if(k)return a.utils.warn("Error loading central directory: "+k),f(k);if(d.length!==l.stop-l.start)return f("Invalid XOD file: Zip central directory data is wrong size! Should be "+(l.stop-l.start)+" but is "+d.length);b.Tb.Lt(d);b.Pn=!0;b.Ak=!1;return f(!1)})})},Mt:function(f,k){var b=this;if(!b.Tb.ls(f))return delete b.kd[f],k(Error('File not found: "'+
f+'"'),f);var d=b.Tb.Rk(f);if(d in b.Oe){var c=b.kd[f];c.mh=b.Oe[d];c.mh.Ne++;c.cancel=c.mh.cancel}else{var q=b.Tb.cz(f),l=b.hl(b.url,q,function(c,e){if(c)return a.utils.warn('Error loading part "'+f+'": '+c),k(c,f);if(e.length!==q.stop-q.start)return k(Error("Part data is wrong size!"),f);var l;do{if(!b.Oe[d])return;l=b.Oe[d].Ne;for(var h=q.Kt.length,s=0;s<h;++s){var w=q.Kt[s];k(!1,w.tg,e.substring(w.start,w.stop),b.Tb.kt(w.tg));w.tg in b.kd&&delete b.kd[w.tg]}}while(l!==b.Oe[d].Ne);delete b.Oe[d]}),
h=b.kd[f];h&&(h.started=!0,h.cancel=function(){h.mh.Ne--;0===h.mh.Ne&&(l(),delete b.Oe[d])},b.Oe[d]=new e,h.mh=b.Oe[d],h.mh.cancel=h.cancel)}}};h.prototype=$.extend(new f,h.prototype);a.g.K.Og=h;a.g.K.wj=b})(window);
(function(a){function h(a,b){e.apply(this,[a]);this.url=a;-1===b.indexOf("/",b.length-1)&&(b+="/");this.path=b}var e=a.g.K.Hd;h.prototype=new e;h.prototype=_(h.prototype).extend({Of:function(c){var b=this;_(c).each(function(d){var f=-1!==d.indexOf("Images/"),k=-1!==d.indexOf("Thumbs/"),c=-1!==d.indexOf("Fonts/");if(f||(k||c))return b.trigger("partReady",{ea:d,data:d,Ce:!0,kc:!1,error:null,zb:!1});$.ajax({url:b.path+d,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var a=$.ajaxSettings.xhr();
a&&(this.mz=function(){return a.responseBody});return a},success:function(f){var k=a.utils.ie?this.mz():f;f="";var c,e,q;if(a.utils.ie){k=(new a.VBArray(k)).toArray();q=k.length;c=Array(q);for(e=0;e<q;e++)c[e]=k[e]&255;k=q/1024+1;for(e=0;e<k;e++)f+=String.fromCharCode.apply(null,c.slice(1024*e,1024*e+1024))}else for(c=a.g.K.wk,e=0;e<k.length;){for(q=0;1024>q&&e<k.length;++q)c[q]=k.charCodeAt(e)&255,++e;f+=String.fromCharCode.apply(null,c.slice(0,q))}return b.trigger("partReady",{ea:d,data:f,Ce:!1,
kc:!1,error:null,zb:!0})},error:function(a,f,k){a=Error(f+" "+k);return b.trigger("partReady",{ea:d,Ce:!1,kc:!!a.uk,error:a})}})})},Ah:function(a){a()}});a.g.K.Yl=h})(window);
(function(a){function h(a,k,d,l){b.apply(this,[a,d,l]);this.url=a;this.rj=new c(a,k);this.Tb=new e}function e(){this.buffer="";this.state=0;this.op=4;this.Ke=null;this.Ch=d.prototype.qm;this.eg={}}function c(f,k){var b=-1===f.indexOf("?")?"?":"&";switch(k){case !1:case a.g.K.Hf.sm:this.url=f+b+"_="+_.uniqueId();break;default:this.url=f}this.da=new XMLHttpRequest;this.da.open("GET",this.url,!0);this.da.setRequestHeader("X-Requested-With","XMLHttpRequest");this.da.overrideMimeType?this.da.overrideMimeType("text/plain; charset=x-user-defined"):
this.da.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Va.Kc}var b=a.g.K.Hd,d=a.g.K.ri;c.prototype={start:function(f){var k=this,b=this.da,d;k.No=0;if(f)for(var c in f)this.da.setRequestHeader(c,f[c]);b.onreadystatechange=function(){if(4===b.readyState&&200!==b.status)k.trigger("done","Error received return status "+b.status);else if(a.utils.ie){if(4===b.readyState)return d=k.Vz(),k.trigger("data",d),k.trigger("done")}else 3<=b.readyState&&((d=k.$z())&&k.trigger("data",d),4===
b.readyState&&k.trigger("done"))};this.da.send(null);this.status=this.Va.ve},$z:function(){var f=this.da,k=f.responseText;if(this.No!==k.length)return f=a.yo(f,this.No,!0),this.No=k.length,f},Vz:function(){return a.yo(this.da,0,!0)},abort:function(){var f=this;this.da.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");f.status=f.Va.Df;return f.trigger("aborted")};this.da.abort()},finish:function(){var a=this;this.da.onreadystatechange=function(){a.status=a.Va.Zu;return a.trigger("done")};
this.da.abort()},Va:{Kc:0,ve:1,Zu:2,Xh:3,Df:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new d;e.prototype=_(e.prototype).extend({processData:function(a){var k;for(a=this.buffer+a;a.length>=this.Ch;)switch(this.state){case 0:this.Ke=k=this.cA(a.slice(0,this.Ch));if(k.Gl!==this.Lz)throw Error("Wrong signature in local header: "+k.Gl);a=a.slice(this.Ch);this.state=1;this.Ch=k.In+k.rg+k.Pi+this.op;this.trigger("header",k);break;case 1:this.Ke.name=a.slice(0,this.Ke.rg);this.eg[this.Ke.name]=
this.Ke;k=this.Ch-this.op;var b=a.slice(this.Ke.rg+this.Ke.Pi,k);this.trigger("file",this.Ke.name,b,this.Ke.Vn);a=a.slice(k);if(a.slice(0,this.op)===this.Mz)this.state=0,this.Ch=d.prototype.qm;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);h.prototype=new b;h.prototype=_(h.prototype).extend({Lj:function(){var a=this;this.Of([this.Fd,this.ke,this.Dd]);this.rj.bind("data",function(k){try{if(a.Tb.processData(k))return a.rj.finish()}catch(b){throw a.rj.abort(),
a.Oi(b),b;}});this.rj.bind("done",function(k){k&&a.Oi(k)});this.Tb.bind("header",_(this.eA).bind(this));this.Tb.bind("file",_(this.dA).bind(this));return this.rj.start(this.Dk)},lj:function(){return!0},Of:function(){},eA:function(){},dA:function(a,k,b){this.trigger("partReady",{ea:a,data:k,Ce:!1,kc:!1,error:null,zb:b})}});a.g.K.ox=h;a.g.K.qB=c})(window);
(function(a){function h(a){e.apply(this);this.db=a}var e=a.g.K.Hd;h.prototype=new e;h.prototype=_(h.prototype).extend({Of:function(a){var b=this;_(a).each(function(a){b.db.get(a,function(f,k,c){return f?b.trigger("partReady",{ea:a,error:f}):b.trigger("partReady",{ea:a,data:k,Ce:!1,kc:!1,error:null,zb:c})})})},Ah:function(a){a()}});a.g.K.pi=h})(window);
(function(a){function h(a,d,f,k){c.apply(this,arguments)}function e(b,d){this.url=b;this.range=d;this.da=new XMLHttpRequest;this.da.open("GET",this.url,!0);a.Uint8Array&&(this.da.responseType="arraybuffer");this.da.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Va.Kc}var c=a.g.K.Og;e.prototype=a.g.K.wj.prototype.extend(e);h.prototype={hj:e,Ck:function(a,d){return a+"/bytes="+d.start+","+(d.stop?d.stop:"")}};h.prototype=$.extend(new c,h.prototype);a.g.K.Au=h;a.g.K.dB=e})(window);
(function(a){function h(a,k,b,d){c.apply(this,arguments)}function e(a,k){this.url=a;this.range=k;this.status=this.Va.Kc}var c=a.g.K.Og,b=a.g.K.wj,d={};e.prototype={start:function(f){var k=this;d[this.range.start]={success:function(b){var d=atob(b),c,e=d.length;b=new Uint8Array(e);for(c=0;c<e;++c)b[c]=d.charCodeAt(c);d=b.length;c="";var q=0;if(a.utils.typedArrayApply)for(;q<d;)e=b.subarray(q,q+1024),q+=1024,c+=String.fromCharCode.apply(null,e);else for(e=Array(1024);q<d;){for(var h=0,u=Math.min(q+
1024,d);q<u;h++,q++)e[h]=b[q];c+=String.fromCharCode.apply(null,1024>h?e.slice(0,h):e)}k.success(c,f)},fail:function(){k.status=k.Va.Xh;f({code:k.status})}};var b=document.createElement("IFRAME");b.setAttribute("src",this.url);document.documentElement.appendChild(b);b.parentNode.removeChild(b);b=null;this.status=this.Va.ve;k.sh()}};e.prototype=b.prototype.extend(e);h.prototype={hj:e,Ck:function(a,k){return a+"#"+k.start+"&"+(k.stop?k.stop:"")}};h.prototype=$.extend(new c,h.prototype);a.g.K.bi=h;a.g.K.jB=
e;a.g.K.bi.wm=function(a,k){var b=d[k];delete d[k];b.success(a)};a.g.K.bi.vm=function(a,k){var b=d[k];delete d[k];b.fail()}})(window);
(function(a){function h(a,k,b,d){c.apply(this,arguments)}function e(a,k){this.url=a;this.range=k;this.status=this.Va.Kc}var c=a.g.K.Og,b=a.g.K.wj,d={};e.prototype={start:function(a){function k(){c.status=c.Va.Xh;a({code:c.status})}function b(k){var d=atob(k),e,q=d.length;k=new Uint8Array(q);for(e=0;e<q;++e)k[e]=d.charCodeAt(e);d=k.length;e="";for(var h=0;h<d;)q=k.subarray(h,h+1024),h+=1024,e+=String.fromCharCode.apply(null,q);c.success(e,a)}var c=this;"undefined"===typeof d[this.range.start]&&(d[this.range.start]=
{success:b,fail:k},window.external.notify(this.url),this.status=this.Va.ve);c.sh()}};e.prototype=b.prototype.extend(e);h.prototype={hj:e,Ck:function(a,k){return a+"?"+k.start+"&"+(k.stop?k.stop:"")}};h.prototype=$.extend(new c,h.prototype);a.g.K.qi=h;a.g.K.tB=e;a.g.K.qi.wm=function(a,k){var b=d[k];delete d[k];b.success(a)};a.g.K.qi.vm=function(a,k){var b=d[k];delete d[k];b.fail()}})(window);
(function(a){function h(){e.apply(this,arguments)}var e=a.g.K.Og;h.prototype=$.extend(new e,{Us:function(){return{start:this.Ks-a.g.K.ri.prototype.Yh,stop:this.Ks}},Ah:function(a){var b=this;this.hl(this.url,{start:0,stop:1},function(d,f,k){if(d)return a(d);d=k.da.getResponseHeader("Content-Range");b.Ks=d.split("/")[1];e.prototype.Ah.call(b,a)})}});a.g.K.Gu=h})(window);
(function(a){function h(b,f,k,e){c.apply(this,arguments);this.ready=!1;var l=this;$(document).ready(function(){var k=$("<div>").attr("id","slRequestPlugin").css("position","absolute").appendTo($("body"));$.getScript("../silverlight/Silverlight.js").done(function(){Silverlight.createObject("../silverlight/SLXMLHttpRequest.xap",k[0],"slRequestPlugin",{width:"0",height:"0",background:"white"},{onLoad:function(k,f,b){a.yw=b.getHost().Content.SLXMLHttpRequest;l.ready=!0},onError:function(){alert("error")}},
"",null)}).fail(function(){console.error("Error: Silverlight.js could not be loaded.")})})}function e(b,f){this.url=b;this.range=f;this.da=a.yw;this.da.open("GET",this.url,!0);f.stop?this.da.setRequestHeader("Range",["bytes=",f.start,"-",f.stop-1].join("")):this.da.setRequestHeader("Range","bytes="+f.start);this.status=this.Va.Kc}var c=a.g.K.Og,b=a.g.K.wj;e.prototype={start:function(b){var f=this,k=this.da;k.onreadystatechange=function(){if(f.uk)return f.status=f.Va.Df,b({code:f.Va.Df});if(k.readyState===
f.Lq.DONE)if(f.sh(),200===k.status||206===k.status){var c=a.Yy(k.responseText);f.success(c,b)}else f.status=f.Va.Xh,b({code:f.status,status:k.status})};this.da.send(null);this.status=this.Va.ve},abort:function(){this.sh()}};e.prototype=b.prototype.extend(e);a.Yy=function(b){b=a.md.us(b);for(var f="",k=a.g.K.wk,c=0;c<b.length;){for(var e=0;1024>e&&c<b.length;++e)k[e]=b.charCodeAt(c)&255,++c;f+=String.fromCharCode.apply(null,k.slice(0,e))}return f};h.prototype={hj:e,jq:1};h.prototype=$.extend(new c,
h.prototype);a.g.K.lx=h;a.g.K.pB=e})(window);
(function(a){function h(f){this.done=!1;this.Fc=new Worker(a.g.bq()+"CoreWorker.js");var k=null,b=null,d=this;this.index=f;this.Fc.addEventListener("message",function(a){switch(a.data.command){case "done":d.done=!0;b=null;break;case "nextChunk":k=a.data.resources;b=a.data.dataString;break;default:throw Error("Unknown message command "+a.data.command+" from worker");}d.done?(d.callback(null,[]),d.finish()):k&&(b&&(d.callback(b,k),b=k=null))},!1);this.UA()}var e=[],c=[],b="./",d=!1;h.prototype={setData:function(a){this.done=
!1;this.Fc.postMessage({command:"data",dataString:a})},cancel:function(){this.Fc.postMessage({command:"cancel"})},UA:function(){this.Fc.postMessage({command:"options",imageScaling:d})},Tz:function(a){this.callback=a;this.Fc.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(c.length){var a=c[0];c.shift();this.setData(a.data);a.xy(this)}}};a.rz=function(a,k){for(var b=e.length,d,m=0;m<b;++m)e[m].done&&(d=e[m]);d||4>b&&(d=e[b]=new h(b));d?(d.setData(a),k(d)):c.push({xy:k,data:a})};
a.g=a.g||{};a.g.bq=function(){return b};a.g.ix=function(a){a.indexOf("/")!==a.length-1&&(a+="/");b=a};a.g.Nw=function(a){d=a}})(window);
(function(a){function h(k,f,b){this.rc=k;this.pl=!1;this.cache=new c(a.Kp,k.lj());this.o=f;this.ej={};this.de={};this.Hn={};this.Yn={};this.no=[];this.Lk={};this.sp={};this.be=b;this.ql=_.bind(this.ql,this);k.bind("partReady",this.ql)}function e(a){window._indexedDB=window._indexedDB||(window.indexedDB||(window.mozIndexedDB||(window.webkitIndexedDB||window.msIndexedDB)));window._IDBTransaction=window._IDBTransaction||(window.IDBTransaction||window.webkitIDBTransaction);window._IDBTransaction&&(!window._IDBTransaction.READ_WRITE&&
(window._IDBTransaction.READ_WRITE="readwrite"));this.name=a;this.db=null;this.ts="1";this.Gk=this.kc=!1}function c(a,k){this.Nz=this.kj=a;this.queue=[];this.Wy=k}function b(a,k){this.sg=a;this.Ht=k;this.ad={};this.fd={};this.kc=!1;for(var f=0;f<k.length;f++)this.fd[k[f]]=!0}function d(){this.index=0;this.data={functions:[],ad:[],done:!1};this.lc=[]}function f(a){this.data=a;this.lc=[]}function k(a,k){for(var f=[],b=0;b<a.length;++b)-1===k.indexOf(a[b])&&f.push(a[b]);return f}function q(a,k){this.sg=
a;this.Hh={};this.Ud=null;this.mu={};this.Ya=k}var l=a.g.K.Yl;a.Jk=!1;f.prototype={init:function(k){if(this.data){var f=this;a.rz(this.data,function(a){f.Fc=a;f.mo();f.Bl=[];f.Ls=!1;f.data=null;k()})}else k()},cancel:function(){for(var a=0;a<this.lc.length;a++){for(var k=0;k<this.lc[a].saves;k++)this.lc[a].restore();this.lc[a].saves=0}this.lc=[];this.Fc&&this.Fc.cancel()},clone:function(){return new f(this.data)},run:function(a,k,f){return this.Il?(f&&this.mo(),-1===this.lc.indexOf(a)&&this.lc.push(a),
runEval(this.Il,a,k),!1):this.Ls=!0},pu:function(){var a=this.Bl;this.Bl=this.qs;return k(this.Bl,a)},qu:function(a){var f=this;this.init(function(){function b(){var d=k(f.Bl,f.Ls?[]:f.qs);a(d)}f.Ap?b():f.callback=b})},mo:function(){if(this.Fc.done)return!1;this.Ap=!1;var a=this;this.Fc.Tz(function(k,f){a.Il=k;a.qs=f;a.Ap=!0;var b=a.callback;a.callback=null;b&&b()})},oo:function(a){var k=this;this.init(function(){function f(){if(k.Il){var b=new Function("c","t",k.Il);k.mo();a(b)}else a()}k.Ap?f():
k.callback=f})}};d.prototype={clone:function(){var a=new d;a.data=this.data;a.index=0;return a},cancel:function(){for(var a=0;a<this.lc.length;a++){for(var k=0;k<this.lc[a].saves;k++)this.lc[a].restore();this.lc[a].saves=0}this.lc=[]},oo:function(a,k){function b(){c.oo(function(a){a?(d.data.functions.push(a),setTimeout(b,0)):(d.data.done=!0,k());a=d.data.ad.length;if(0<a){for(var f=0;f<a;++f)d.data.ad[f]();d.data.ad=[]}})}this.data.done=!1;var d=this,c=new f(a);d.data.functions=[];b();this.index=
0},pu:function(){return[]},qu:function(a){this.data.done||this.index<this.data.functions.length?a([]):this.data.ad.push(function(){a([])})},run:function(a,k,f){var b=this.data.functions[this.index];f&&this.index++;-1===this.lc.indexOf(a)&&this.lc.push(a);return b?(b(a,k),!1):!0}};b.prototype={Az:function(){return 0===_(this.fd).keys().length}};c.prototype={getItem:function(a){return(a=this[a])?a:null},setItem:function(a,k,f){if(a in this)this.queue.splice(this.queue.indexOf(a),1),this.queue.push(a);
else if(this.Wy)this[a]={data:k,zb:f},this.queue.push(a);else if(k.length<this.Nz/2){for(;this.kj<k.length;){var b=this.queue[0];this.kj+=this[b].data.length;delete this[b];this.queue.shift()}this.kj-=k.length;this[a]={data:k,zb:f};this.queue.push(a)}}};e.prototype={open:function(a,k){var f=this,b=window._indexedDB.open(f.name);if(_.isUndefined(b))k("User declined to increase space");else{b.onsuccess=function(){f.db=b.result;if(f.db.setVersion&&f.db.version!==f.ts){var a=f.db.setVersion(f.ts);a.onsuccess=
function(){f.db.objectStoreNames.contains(f.name)&&f.db.deleteObjectStore(f.name);f.db.createObjectStore(f.name,{keyPath:"partName"});a.result.oncomplete=d}}else d()};b.onupgradeneeded=function(a){f.db=a.target.result;f.db.objectStoreNames.contains(f.name)&&f.db.deleteObjectStore(f.name);f.db.createObjectStore(f.name,{keyPath:"partName"})};b.onerror=function(){k("Error opening database for offline mode")};var d=function(){f.get("NumParts",function(b,d){if(b)f.Gk=!1,a();else{var c=f.db.transaction([f.name]).objectStore(f.name).count();
c.onsuccess=function(){f.Gk=c.result===d;a()};c.onerror=function(){k("Error opening database for offline mode")}}})}}},ju:function(a,k,f,b){var d=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);d.oncomplete=function(){b&&b()};d.onerror=function(){b&&b();throw Error("Error adding "+a+" to the offline database");};d.objectStore(this.name).put({partName:a,partData:k,compressed:f})},zA:function(a,k,f,b,d){function c(k){a.sd(k,function(a){var k=h.indexOf(a.ea);-1<k&&delete h[k];e()||
q.ju(a.ea,a.data,a.zb,function(){e()||(l++,b(l/C),l===C&&(q.Gk=!0,f()))})},!0)}function e(){q.kc&&(!A&&(A=!0,d(h),f()));return A}var q=this;q.kc=!1;f=f||function(){};b=b||function(){};d=d||function(){};var l=0,h=Object.keys(k),C=h.length,A=!1;q.ju("NumParts",C+1,!1,function(){for(var a=0;a<C;a++)c(h[a])})},uy:function(){this.kc=!0},get:function(a,k){var f=this.db.transaction([this.name]).objectStore(this.name).get(a);f.onsuccess=function(){f.result?k(!1,f.result.partData,f.result.compressed):k("Part "+
a+" not found in the offline database")};f.onerror=function(){k("Error getting "+a+" from offline database")}}};h.prototype={sd:function(k,f,b){function d(a){a=$.extend({},a);f(a)}var c=this.cache.getItem(k);if(null!==c){var e=c.zb;c.zb&&!b?(b=a.bf.inflate(c.data),e=!1):b=c.data;f({ea:k,data:b,Ce:!0,kc:!1,error:null,zb:e});return f}this.bind(k,d);this.Hn[k]=!0;this.Yn[k]=!b;this.rc.Of([k]);return d},ql:function(k){if(k.error)console.error("Error reading part "+k.ea+": "+k.error),this.trigger(k.ea,
{ea:k.ea,error:k.error}),this.unbind(k.ea);else{var f=this,b=function(b){f.cache.setItem(k.ea,b,k.zb);if(f.Hn[k.ea]){var d=k.zb;k.zb&&(f.Yn[k.ea]&&(b=a.bf.inflate(b),d=!1));delete f.Hn[k.ea];delete f.Yn[k.ea];f.trigger(k.ea,{ea:k.ea,data:b,Ce:!1,kc:!1,error:null,zb:d});f.unbind(k.ea);delete f._callbacks[k.ea]}};this.rc.Ki?this.rc.rs?b(this.rc.Ki(k.data,this.rc.Ek,k.ea)):this.rc.Ki(k.data,this.rc.Ek,k.ea,b):b(k.data)}},Ao:function(a){return this.Lo?"Thumbs/"+(a+1)+".jpg":"Thumbs/"+(a+1)+".png"},zo:function(a,
k,f){var b=this;_.isUndefined(f)&&(f="page");var d=!1,c=this.sd(this.Ao(a),function(c){d=c.Ce;b.Nt(a,f);k(c)});d||(this.de[a]||(this.de[a]={}),this.de[a][f]=c)},bt:function(k,f){function d(a){if(a.error)return console.error("Failed to load part for page "+k+": "+a.error);delete z.fd[y];l.Di=e.Uz(a.ea,a.data);c()}function c(){if(z.Az()){if(null===B.Ud)throw Error("Functions have not been generated yet");z.kc||(A||(delete e.ej[k],e.trigger(k,!1,B),f(!1,B),A=!0,e.unbind(k+""),delete e._callbacks[k+""]))}}
var e=this;if(this.ej[k])return a.utils.warn("Duplicate request for page "+k),this.bind(k,function(a,k){var b=$.extend({},k);b.Ud=k.Ud.clone();b.Hh=$.extend(!0,{},b.Hh);f(a,b)});var l=e.o[k],h=l.Cl[2],y;y=this.pl?l.Cl[1]:"Annots.xfdf";var v=l.Cl[0],z;z=this.pl||0===k?new b(k,[v,y,h]):new b(k,[v,h]);this.ej[k]=z;var C=z.ad,A=!1,B=new q(k,e);C[h]=e.sd(h,function(f){if(f.error)return console.error("Failed to load part for page "+k+": "+f.error);f=e.Xz(f.ea,f.data);delete z.fd[h];_(f).each(function(a){z.fd[a.slice(1)]=
!0});_(f).each(function(f){f=f.slice(1);var b=-1!==f.indexOf(".odttf")||-1!==f.indexOf(".otf"),d=-1!==f.indexOf(".png")||-1!==f.indexOf(".jpg");a.Jk&&b?(delete z.fd[f],B.Hh[f]=e.dg(f)):b&&!e.be.bl(e.dg(f).name)?(z.Ht.push(f),C[f]=e.sd(f,function(a){if(a.error)return console.error("Failed to load part for page "+k+": "+a.error);delete z.fd[f];B.Hh[f]=e.dg(a.ea,a.data);c()})):d&&a.Jk?(delete z.fd[f],setTimeout(function(){e.sd(f,function(a){a=e.dg(a.ea,a.data);var f=new Image;f.src=a.data;$(f).css({position:"absolute",
"z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+k)})},0)):(delete z.fd[f],B.Hh[f]=e.dg(f),c())});c()});this.pl?C[y]=e.sd(y,d):0===k&&(C[y]=e.sd(y,function(a){if(a.error)return console.error("Failed to load part for page "+k+": "+a.error);delete z.fd[y];l.Di=a.data;c()}));if(k in e.Lk)return B.Ud=e.Lk[k].clone(),B.mu=e.sp[k],delete z.fd[v],c();C[v]=e.sd(v,function(f){if(f.error)return console.error("Failed to load part for page "+k+": "+f.error);e.Xy(f.data,z,B,function(){delete z.fd[v];
if(a.Jg){if(e.no.length>=a.Jg){var f=e.no.shift();delete e.Lk[f];delete e.sp[f]}e.no.push(k);e.Lk[k]=B.Ud;e.sp[k]=B.mu}c()})},!0)},Xy:function(k,b,c,e){a.Jg?(b=new d,b.oo(k,e),c.Ud=b):(c.Ud=new f(k),e())},vy:function(a){var k=this.ej[a];if(k){this.rc.Ln(k.Ht);k.kc=!0;var k=k.ad,f;for(f in k)k.hasOwnProperty(f)&&this.unbind(f,k[f]);this.unbind(a+"");delete this._callbacks[a+""];delete this.ej[a]}},wy:function(a,k){this.de[a]&&(this.de[a][k]&&(this.rc.Ln([this.Ao(a)]),this.Nt(a,k)))},Nt:function(a,
k){this.de[a]&&(this.unbind(this.Ao(a),this.de[a][k]),delete this.de[a][k],_.isEmpty(this.de[a])&&delete this.de[a])},dg:function(k,f){var b,d=k,c=k.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(c){case "png":case "jpg":k="i"+k.match(/Images\/(\d+)/)[1];if(f){l&&this.rc instanceof l?b=this.rc.path+f:(b=btoa(f),b="data:image/"+("jpg"===c?"jpeg":c)+";base64,"+b);break}break;case "odttf":var e;f&&(e=this.Jy(k,f));k="f"+parseInt(k.substr(34,8),16);f&&(b=new a.Jf.Kg(k,e,"opentype"),this.be.mt(k)||b.Ie());
c="font";break;case "otf":k=k.substr(0,k.length-4);k="f"+parseInt(k.substr(6),10);if(f){if(l&&this.rc instanceof l)c=this.rc.path;else throw Error("Use an external part retriever for documents with external fonts");b=new a.Jf.Kg(k,null,"opentype",c+f);this.be.mt(k)||b.Ie()}c="font";break;default:b=f}return{name:k,type:c,data:b,ea:d}},Xz:function(k,f){var b=[],d=new a.cf(f);for(d.oc();d.advance();){var c=d.mb("Target");null!==c?b.push(c):a.utils.warn("Corrupt rels part: %s",k)}0<b.length&&(_(b).last().match(/Thumbs/)&&
b.pop());return b},Uz:function(k,f){var b=[],d=new a.cf(f);for(d.oc();d.advance();){for(var c=d.Ee(),e=d.mb("BBox"),e=e.split(","),q=0;4>q;++q)e[q]=parseFloat(e[q]);"Hyperlink"===c?b[b.length]=new a.g.Mf(e,d.mb("Target")):"Link"===c&&(b[b.length]=new a.g.pe(e,d.mb("ID"),d.mb("Vpos"),d.mb("Hpos")))}return b},Jy:function(a,k){a=a.split("/")[1].split(".")[0];for(var f=a.split("-"),b=[],d=16,c=0;c<f.length;++c)for(var e=f[c],q=0;q<e.length;q+=2)b[--d]=parseInt(e.slice(q,q+2),16);for(f=0;16>f;++f)d=b[f],
b[f]=String.fromCharCode(k.charCodeAt(f)^d),b[f+16]=String.fromCharCode(k.charCodeAt(f+16)^d);return k=b.join("")+k.slice(32)}};_(h.prototype).extend(Backbone.Events);a.g.K.aw=h;a.g.bw=e;a.g.iB=f})(window);
(function(a){function h(){this.fg=[]}function e(a,b,d,f){_.isUndefined(f)?(f=this.Qz[d],b=btoa(b),b=["data:",f,";base64,",b].join("")):b="'"+f+"'";b=["url(",b,") format('",d,"');"].join("");this.iA=["@font-face { font-family:'",a,"';src:",b,"}"].join("");this.name=a}document.head||(document.head=document.getElementsByTagName("head")[0]);a.Zh={};e.prototype={qp:null,styleSheet:null,Qz:{woff:"application/x-font-woff",opentype:"font/opentype"},Ie:function(){if(!a.Zh[this.name]){if(!this.styleSheet){var c=
document.createElement("style");document.head.appendChild(c);e.prototype.styleSheet=c.sheet;e.prototype.qp=c}c=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.iA,c);a.Zh[this.name]=this.styleSheet.cssRules[c]}},remove:function(){if(!a.utils.ie){var c=a.Zh[this.name];if(!c)throw Error("CSS @font-face rule is not in use");var b,d=this.styleSheet.cssRules.length,f=this.styleSheet.cssRules;for(b=0;b<d;b++)if(f[b]===c){this.styleSheet.deleteRule(b);delete a.Zh[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");
}}};h.prototype={Jz:atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="),
Kz:0,ky:function(a){this.fg.push(a)},uz:function(){return 0!==this.fg.length},Iz:function(c){function b(a,k){return a.charCodeAt(k)<<24|a.charCodeAt(k+1)<<16|a.charCodeAt(k+2)<<8|a.charCodeAt(k+3)&255}function d(a,k){l++;30<l?(console.warn("Load test font never loaded."),k()):(e.font="30px "+a,e.fillText(".",0,20),0<e.getImageData(0,0,1,1).data[3]?k():setTimeout(_.bind(d,null,a,k)))}var f,k;f=document.createElement("canvas");f.width=1;f.height=1;var e=f.getContext("2d"),l=0,h="lt"+Date.now()+this.Kz++,
n=this.Jz,n=n.substr(0,976)+h+n.substr(976+h.length),p=b(n,16);f=0;for(k=h.length-3;f<k;f+=4)p=p-1482184792+b(h,f)|0;f<h.length&&(p=p-1482184792+b(h+"XXX",f)|0);var n=n.substr(0,16)+(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))+n.substr(20),r=new a.Jf.Kg(h,n,"opentype");r.Ie();n=[];f=0;for(k=this.fg.length;f<k;f++)n.push(this.fg[f].name);n.push(h);var s=document.createElement("div");s.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
f=0;for(k=n.length;f<k;++f)p=document.createElement("span"),p.textContent="Hi",p.style.fontFamily=n[f],s.appendChild(p);document.body.appendChild(s);var u=this;d(h,function(){document.body.removeChild(s);r.remove();for(var a=0;a<u.fg.length;a++)c(u.fg[a].name);u.fg=[]})},Gz:function(a,b,d){var f=document.createElement("div");f.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");f.innerHTML=""+('<span style="font-family:'+a+'">" + testString +"</span>');
document.body.appendChild(f);$.get(b,function(){setTimeout(function(){d();document.body.removeChild(f)},300)})}};a.Jf={Kg:e,cv:h}})(window);
(function(a){function h(a,b,d){this.page=a;this.vf=b;this.be=d;this.Js=b.Ya.rc.path;this.og=this.paused=!1}var e={Vd:0,Xd:1,nf:2,Wd:3};a.asc=function(a){var b=0.707106781*a.m_a+0.707106781*a.m_b;a=0.707106781*a.m_c+0.707106781*a.m_d;return Math.sqrt(b*b+a*a)};h.prototype={pause:function(){this.paused=!0;this.Sn()},Sn:function(){this.il=!1;clearTimeout(this.st)},Wn:function(c,b,d,f,k,q){function l(){z=!0;n.qu(function(){if(h.abort){if(v)return u&&(u=!1,f(p)),n=h.xf=null,h.Sn(),h.abort&&h.abort(),d(p);
n.pu();if(h.abort){++w;for(var a=0;a<r.length;a++)v=n.run(r[a],s[a],a===r.length-1);z=!1;h.il=!1;h.paused||h.Fl()}}})}var h=this;b=b||e.Vd;d=d||function(){};var n=this.vf.Ud;k&&(0<k&&(k=Math.round(k)));c=a.g.Sa.eu(this.page,c||1,b,q,k);var p=c.fs,r=c.ns,s=c.t,u=void 0!==f,w=0,y=setTimeout(function(){},a.Jg?2E3:6E3);h.abort=function(){z=!1;h.Sn();h.st=null;h.xf=null;n&&(n.cancel(),n=null);h.vf.Ud=null;clearTimeout(y);h.Fl=null;h.abort=null};var v=!1;h.xf=function(){!1!==z||(h.il||h.Fl());h.paused=
!1};h.Fl=function(){h.il=!0;h.st=setTimeout(l,0)};var z=!1;h.il=!1;h.paused||h.Fl()},ct:function(a){var b=[];if(a)for(var d=0;d<a.length;++d)b[d]=this.vf.Ya.dg(a[d]);else _(this.vf.Hh).each(function(a){b.push(a)});return b},Qo:function(c,b,d){function f(f){var b=l.be.bl(f.name);k(f);switch(f.type){case "png":case "jpg":if(a.ci[f.name]){if(b){e(f.name);break}a.ci[f.name].lf.push(function(){e(f.name)});break}var d=new Image;d.onload=function(){for(var a=0;a<this.lf.length;++a)this.lf[a]();d.lf=[];d=
d.onload=d.onerror=null};d.onerror=function(){a.utils.warn("img error "+f.name);for(var k=0;k<this.lf.length;++k)this.lf[k]();d.lf=[];d=d.onload=d.onerror=null};d.hres=f.hres;d.vres=f.vres;a.ci[f.name]=d;d.lf=[];d.lf[0]=function(){e(f.name)};d.rl=l.vf.sg;d.src=f.data;break;case "font":_.isUndefined(l.Js)?n.ky(f.data):n.Gz(f.name,l.Js+f.ea,function(){e(f.name)});break;default:a.utils.warn("unknown resource type: "+f.type),e(f.name)}}function k(a){d&&l.be.gy(a.name)}function e(a){l.be.loaded(a);if(l.og&&
1>--h)return l.og=!1,c(b[0])}if(this.og)throw Error("Multiple calls to loadResource");var l=this;b=this.ct(b);var h=b.length;this.og=!0;var n=new a.Jf.cv,p=!0;_(b).each(function(a){p=!1;l.be.bl(a.name)?(k(a),e(a.name)):a.data?f(a):l.vf.Ya.sd(a.ea,function(b){l.be.bl(a.name)?(k(a),e(a.name)):f(l.vf.Ya.dg(b.ea,b.data))})});n.uz()&&n.Iz(_(e).bind(this));p&&(c(),this.og=!1)},es:function(){this.og&&(this.og=!1)},zp:function(c){var b=this;b.es();c=this.ct(c);_(c).each(function(d){if("font"!==d.type&&b.be.release(d.name))switch(d.type){case "png":case "jpg":delete a.ci[d.name];
break;case "font":d.data&&d.data.remove()}})}};a.Gd=a.Gd||{};a.Gd.rw=h;a.Gd.uq=function(){var a={};return{gy:function(b){b in a?a[b].c++:a[b]={c:1,l:!1}},loaded:function(b){b in a&&(a[b].l=!0)},mt:function(b){return b in a?!0:!1},bl:function(b){return b in a?a[b].l:!1},release:function(b){if(!(b in a))return!1;a[b].c-=1;return a[b].c?!1:(delete a[b],!0)}}};a.g.sa=e;a.Kf=function(c,b,d,f,k,q){f=f||{x:0,y:0};var l=new XODText.Pa;_.isUndefined(k)&&(k=!0);k&&(k=q||a.utils.getCanvasMultiplier(d.width*
c,d.height*c,c),c*=k,f.x*=k,f.y*=k);l.hb(c,0,0,c,f.x,f.y);b!==e.Vd&&(c=new XODText.Pa,b===e.Xd?c.hb(1,0,0,1,d.height,0):b===e.nf?c.hb(1,0,0,1,d.width,d.height):b===e.Wd&&c.hb(1,0,0,1,0,d.width),l.concat(c),l.concat(XODText.Pa.mj(Math.PI/2*(4-b))));return l}})(window);
(function(a){var h=window.g,e=a.g.K.ri,c=a.g.K.Yl;a.ci=a.ci||{};a.g.Gm=function(b){a.Gf=524288*b*b;a.Kp=524288*b*b;a.Jg=3*b;switch(b){case 0:a.Jg=0;a.Gf=0;a.Kp=0;break;case 1:a.Jg=0,a.Gf=0}};a.g.yq=function(b){a.So=1+2*(b-1);a.To=b-1;0>a.So&&(a.So=0);0>a.To&&(a.To=0)};a.g.Gm(6);a.g.yq(5);h.Mf=function(a,f){this.cg=a;this.target=f;this.Rect=a};h.Mf.prototype={em:function(){return this.cg},zv:function(){return this.target}};h.pe=function(a,f,k,b,c,e){this.cg=a;this.Ll=k||0;this.Wk=b||0;this.hd=f;this.co=
c;this.Mb=e;this.Rect=a};h.pe.prototype={em:function(){return this.cg},hm:function(){return this.Ll},fm:function(){return this.Wk},jb:function(){return this.hd}};h.Ff=function(a,f,k,b,c,e,h){this.children=a;this.name=f;this.sg=k;this.parent=b;this.Nh=c||0;this.yh=e||0;this.url=h};h.Ff.prototype={ov:function(){return this.name},jb:function(){return this.sg},Dv:function(){return this.url},hm:function(){return this.Nh},fm:function(){return this.yh}};var b=Backbone.Model.extend({defaults:{title:"",HB:null,
zC:null,cC:null,GB:null,Vo:null,description:null,sC:null}});h.Ka=function(b){this.Wg=this.rb=null;this.wn=new a.Gd.uq;this.id=b;this.ol=!1;this.Sc=null;this.kf={};this.$o=_.bind(this.$o,this);this.Kk=null;this.Ph=1};h.Ka.prototype={Fd:"Document/FixedDocument.fdoc",ke:"Document/DocProps/core.xml",Dd:"Document/Structure/DocStruct.struct",$u:"Struct/font.xml",qx:"Struct/",px:"Text/",gi:function(d,f){this.rb=d;this.Hi=[];this.xt=new b;this.o=[];this.Sb={};this.Sb[this.Fd]=0;this.Sb[this.ke]=0;this.Sb[this.Dd]=
0;this.rb.lj()&&(this.gj={});d.bind("partReady",this.$o);this.bind("documentReady",f);if(d instanceof a.g.K.pi){this.ol=!0;var k=this;this.gq(function(){d.db=k.Sc;d.Lj(f)})}else d.Lj(f)},om:function(b,f){var k=this;if(!this.Ya)throw Error("Document is not initialized!");1.2===this.Ph&&(this.Ya.pl=!0);this.Ya.bt(b,function(c,e){var h=new a.Gd.rw(k.o[b],e,k.wn);f(c,h)})},pm:function(a,f){if(!this.Ya)throw Error("Document is not initialized!");return this.Ya.sd(a,f)},Hz:function(a){var f=this;null===
f.Kk?f.pm(f.$u,function(k){if(k.error)throw Error("SELECT: Error getting part "+k.ea+": "+k.error);var b=new XODText.bm;b.fp(k.data);f.Kk=b.lo;a(f.Kk)}):a(f.Kk)},Bh:function(a,f){var k=this;1.4>k.Ph?null===k.o[a].text?k.pm(k.px+(a+1)+".xml",function(b){if(b.error)throw Error("SELECT: Error getting part "+b.ea+": "+b.error);var c=new XODTextOld.Pf;c.xz(b.data);k.o[a].text=c;f(c)}):f(k.o[a].text):k.Hz(function(b){null===k.o[a].text?k.pm(k.qx+(a+1)+".xml",function(c){var e=new XODText.Pf,h=new XODText.Pa;
h.hb(1,0,0,1,0,0);var p=new XODText.Fm(b);k.Ya.bt(a,function(b,q){var u=q.Ud.clone(),w=!1;try{do w=u.run(p,h,!0);while(!w)}catch(y){console.warn("Custom Canvas has encountered an error: "+y.message);return}e.fp(c.data,p);k.o[a].text=e;f(e)})}):f(k.o[a].text)})},Tv:function(a,f){this.Bh(a,function(a){f(a.bb)})},Av:function(a,f,k,b){if(k<=f)return console.error("End index must be greater than start index");this.Bh(a,function(a){a=a.lg();var d=8*f,c=8*k;if(d>a.length||c>a.length)return console.error("Index out of bounds");
for(var e=[];d<c;d+=8)e.push({x1:a[d],y1:a[d+1],x2:a[d+2],y2:a[d+3],x3:a[d+4],y3:a[d+5],x4:a[d+6],y4:a[d+7]});b(e)})},Nv:function(){return this.Eo},Sv:function(a,f,k,b,c,e){var h=this,p=_.uniqueId();h.kf[p]={ng:null,paused:!1};h.om(a,function(r,s){if(r)throw Error("Error loading page %d:",a);_.isUndefined(h.kf[p])||(h.kf[p].ng=s,h.kf[p].paused&&s.pause(),s.Qo(function(){s.Wn(f,k,function(k){b(k,a)},function(k){c(k,a)},e)},void 0,!0))});return p},mw:function(a){if(a=this.kf[a])a.paused=!0,a.ng&&a.ng.pause()},
tw:function(a){if(a=this.kf[a])a.paused=!1,a.ng&&(a.ng.xf&&a.ng.xf())},tx:function(a){this.Hp(a)},Hp:function(a){var f=this.kf[a];f&&((f=f.ng)&&(this.yk(f.vf.sg),f.zp(),f.abort&&f.abort()));delete this.kf[a]},iq:function(b,f,k){if(!this.Ya)throw Error("Document is not initialized!");var e=this;this.Eo?this.Ya.zo(b,function(a){var k=new Image;a=c&&e.rb instanceof c?e.rb.path+a.data:"data:image/png;base64,"+btoa(a.data);k.onload=function(){f(k);k=k.onload=null};k.src=a},k):this.om(b,function(k,c){if(k)throw Error("Error loading page %d:",
b);c.Qo(function(){var k=e.o[b];c.Wn(k.width>k.height?150/k.width:150/k.height,a.g.sa.Vd,function(a){a[0].style.backgroundColor="white";c.zp();f(a[0])})},void 0,!0)})},gq:function(b){if(null===this.Sc){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=a.top.location.href;for(var f=a.top.location.hash.substring(1).split("&"),k=0;k<f.length;k++){var c=f[k].split("=");if("d"===c[0]){this.id=c[1];break}}}var e=this;this.Sc=new a.g.bw(this.id);this.Sc.open(b,function(a){e.Sc=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),
b()},nx:function(b,f){if(!this.Ya)throw b(),Error("Document is not initialized!");if(!this.Sc)throw b(),Error("Offline DB is not initialized!");if(this.rb instanceof a.g.K.pi)throw b(),Error("Can't download file while in offline mode!");var k=this;this.Sc.zA(k.Ya,k.rb.Tb.eg,b,f,function(a){k.rb.Ln(a)})},Ov:function(){if(!this.Sc)throw Error("Offline DB is not initialized!");return this.Sc.Gk},Iu:function(){if(!this.Sc)throw Error("Offline DB is not initialized!");this.Sc.uy()},qv:function(){return this.ol},
Xw:function(b){if(!this.Sc)throw Error("Offline DB is not initialized!");this.ol!==b&&(!(this.ol=b)||(this.Wg instanceof a.g.K.pi||(this.Wg=new a.g.K.pi(this.Sc),this.Wg.bind("partReady",this.Ya.ql))),this.FA())},FA:function(){if(null!==this.Wg){var a=this.Wg;this.Wg=this.rb;this.rb=a;this.Ya.rc=this.rb}},yk:function(a){if(!this.Ya)throw Error("Document is not initialized!");this.Ya.vy(a)},Ip:function(a,f){if(!this.Ya)throw Error("Document is not initialized!");this.Ya.wy(a,f)},TA:function(a,f){if(!f)return a;
for(var k="",b=0,c=0,e=0,h=0;b<a.length;)c=a.charCodeAt(b),128>c?(k+=String.fromCharCode(c),b++):191<c&&224>c?(e=a.charCodeAt(b+1),k+=String.fromCharCode((c&31)<<6|e&63),b+=2):(e=a.charCodeAt(b+1),h=a.charCodeAt(b+2),k+=String.fromCharCode((c&15)<<12|(e&63)<<6|h&63),b+=3);return k},$o:function(d){if(d.error)return this.Sb[d.ea]=3,this.br();var f;f=this.rb.Ki?this.rb.rs?this.rb.Ki(d.data,this.rb.Ek,d.ea):a.g.Ig.Ru(d.data,this.rb.Ek,d.ea):d.data;this.rb.lj()&&(this.gj[d.ea]={data:f,zb:d.zb});d.zb&&
(f=e.inflate(f));switch(d.ea){case this.Fd:f=new a.cf(f);f.oc();f.advance();d=f.mb("JPGThumbs");this.Lo="true"===d;d=f.mb("IncludesThumbs");this.Eo=null===d||"false"!==d;d=f.mb("Version");this.Ph=parseFloat(d);if(1.2>this.Ph)throw this.Sb[this.Fd]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");for(d=this.Sb[this.Fd]=1;f.advance();++d){var k=new a.hi(parseFloat(f.mb("Width")),parseFloat(f.mb("Height")));
k.Cl=["Pages/"+d+".xaml","Annot/"+d+".xml","Pages/_rels/"+d+".xaml.rels"];this.o.push(k)}break;case this.ke:this.Sb[this.ke]=1;f=new a.cf(f);f.oc();for(this.xt=new b;f.advance();)d=f.Ee().split(":"),this.xt.attributes[1===d.length?d[0]:d[1]]=f.hg();break;case this.Dd:this.Sb[this.Dd]=1;this.Hi=[];f=new a.cf(f);f.oc();f.advance();f.oc();f.advance();f.oc();for(var c=0,h=null;f.advance();){var k=parseInt(f.mb("OutlineLevel"),10),m=new a.CoreControls.Bookmark;m.children=[];m.name=this.TA(f.mb("Description"),
d.zb);if(c<k)m.parent=h;else for(m.parent=h.parent;c>k;)m.parent=m.parent.parent,--c;m.Nh=f.mb("trn:Vpos");m.Nh=null===m.Nh?0:parseFloat(m.Nh);m.yh=f.mb("trn:Hpos");m.yh=null===m.yh?0:parseFloat(m.yh);c=f.mb("OutlineTarget").split("#");1===c.length||0===c[1].length?m.url=c[0]:m.sg=parseInt(c[1],10);null!==m.parent?m.parent.children[m.parent.children.length]=m:this.Hi[this.Hi.length]=m;c=k;h=m}break;default:if(this.Sb[this.Fd])return this.Sb[this.ke]=this.Sb[this.ke]||2,this.Sb[this.Dd]=this.Sb[this.Dd]||
2,this.kr(d)}this.br()},fv:function(){return this.Hi},nv:function(a){return 1.2===this.Ph?this.o[a].Di:this.o[a].links},Fj:function(){return this.o.length},Xp:function(a){var f={};f.width=this.o[a].width;f.height=this.o[a].height;return f},rv:function(a,f,k){f={x:f,y:k};return this.o[a].pg.inverse().za(f)},Ev:function(a,f,k){return this.o[a].pg.za({x:f,y:k})},Iq:function(){a.ci={};a.Zh={};var b=a.Jf.Kg.prototype.qp;null!==b&&(document.head.removeChild(b),a.Jf.Kg.prototype.styleSheet=null,a.Jf.Kg.prototype.qp=
null);this.wn=new a.Gd.uq;this.gr()},gr:function(){this.rb.unbind("partReady");this.Ya=new a.g.K.aw(this.rb,this.o,this.wn);this.Ya.Lo=this.Lo},br:function(){this.Sb[this.Fd]&&(this.Sb[this.ke]&&(this.Sb[this.Dd]&&this.kr()))},kr:function(a){function f(){b.trigger("documentReady",3===b.Sb[b.Fd])}this.gr();if(this.rb.lj()){for(var k in this.gj)this.Ya.cache.setItem(k,this.gj[k].data,this.gj[k].zb);delete this.gj}var b=this;1.2===this.Ph?(this.Vx(),f()):this.Ya.sd("Annots.xfdf",function(a){b.Wx(a.data);
setTimeout(f,0)});a&&this.rb.trigger("partReady",a)},Vx:function(){var a=new XODText.Pa;a.hb(4/3,0,0,-4/3,0,this.o[0].height);for(var f=this.o.length,k=0;k<f;++k)this.o[k].pg=a},Wx:function(a){"string"===typeof a&&(a=(new DOMParser).parseFromString(a,"text/xml"));if(a&&0<a.getElementsByTagName("pages").length){var f=a.getElementsByTagName("pages")[0],k;for(a=0;a<f.childNodes.length;++a){var b=f.childNodes[a].localName;if(b){var c=f.childNodes[a];if("defmtx"===b){var e=c.getAttribute("matrix").split(",");
k=new XODText.Pa;k.hb(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5]))}"pgmtx"===b&&(b=parseInt(c.getAttribute("page"),10),c=c.getAttribute("matrix").split(","),e=new XODText.Pa,e.hb(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]),parseFloat(c[4]),parseFloat(c[5])),this.o[b].pg=e)}}f=this.o.length;for(a=0;a<f;++a)null===this.o[a].pg&&(this.o[a].pg=k)}}};_(h.Ka.prototype).extend(Backbone.Events);a.hi=function(a,f){this.width=
a;this.height=f;this.text=null;this.Cl=[];this.links=[];this.pg=null}})(window);self.Ma.zl("XODText");XODText.am=function(){this.ar={};this.sn=1E3;this.Fr=200};XODText.am.prototype={Gr:0,Hr:0,sn:0,Fr:0,Qs:function(a){var h=new XODText.na;h.xd(this.ar[a]);return h},Fn:function(a,h,e){var c=new XODText.na;c.set(h,this.Gr,e,this.Hr);this.ar[a]=c},oA:function(a,h){this.Gr=a;this.Hr=h},rA:function(a){this.sn=a}};XODText.bm=function(){this.lo={};this.qc=!1};
$.extend(XODText.bm.prototype,{qc:!1,isReady:function(){return this.qc},SB:function(){return this.lo},fp:function(a){try{var h=new window.cf(a);console.assert("FontInfo"===h.Ee(),"Root element is incorrect.");"FontInfo"===h.Ee()&&(h.oc(),this._parse(h))}catch(e){console.warn("Font Parser has encountered an error: "+e.message);return}this.qc=!0},$j:function(a){var h="",e=0,c=0,b=0,d=0;for(2<=a.length&&("{"===a.charAt(0)&&("}"===a.charAt(1)&&(a=a.substr(2))));e<a.length;)c=a.charCodeAt(e),128>c?(h+=
String.fromCharCode(c),e++):191<c&&224>c?(b=a.charCodeAt(e+1),h+=String.fromCharCode((c&31)<<6|b&63),e+=2):(b=a.charCodeAt(e+1),d=a.charCodeAt(e+2),h+=String.fromCharCode((c&15)<<12|(b&63)<<6|d&63),e+=3);return h},$x:function(a){a=a.mb("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return a="f"+parseInt("0x"+a.substr(28,8))},Zx:function(a,h){console.assert(null!=h,"Font bbox file is corrupted.");var e=a.mb("height");console.assert(null!=
e,"Height attribute is missing.");e=e.split(":");h.oA(parseFloat(e[0]),parseFloat(e[1]))},ay:function(a,h){var e=a.mb("units_per_em");null!=e&&h.rA(parseInt(e))},Yx:function(a,h){console.assert(null!=h,"Font bbox file is corrupted.");var e=a.mb("bbox");console.assert(null!=e,"Character width is missing.");var c=e.split(":"),e=parseFloat(c[0]),c=parseFloat(c[1]),b=this.$j(a.hg());console.assert(0<b.length,"Char value is empty.");h.Fn(b,e,c)},_parse:function(a){do{for(var h=null;a.advance();){var e=
a.Ee();"Font"===e?(h=new XODText.am,e=this.$x(a),this.Zx(a,h),this.ay(a,h),this.lo[e]=h,a.oc()):"c"===e?this.Yx(a,h):console.warn("Font XML parser has encountered a tag it can't process.")}a.Zn()}while(a.depth)}});XODText.am.ma("XODText.Font");XODText.bm.ma("XODText.FontParser");self.Ma.zl("XODText");XODText.ak=function(){};XODText.Ub=function(a,h){this.x=a;this.y=h};XODText.Ub.prototype={x:0,y:0};XODText.Ua=function(){this.ge=this.ee=this.Qh=this.Oh=this.u=this.H=this.k=this.v=0};
XODText.Ua.lk=function(a,h,e,c){var b=new XODText.Q;b.init(0,0);var d=new XODText.Q;d.init(0,0);var f=new XODText.Q;f.init(0,0);var k=new XODText.Q;k.init(0,0);for(var q=0;4>q;++q){XODText.Ua.et(b,a,q);if(!b.normalize()&&e)return!1;q?2===q?f=XODText.Q.qg(f,b):1===q?k=XODText.Q.ul(k,b):3===q&&(k=XODText.Q.qg(k,b)):f=XODText.Q.ul(f,b);for(var l=Array(8),m=0;1>m;++m){for(var n=0;8>n;++n)l[n]=h[8*m+n];XODText.Ua.et(d,l,q);if(!d.normalize()&&e)return!1;q?2===q?f=XODText.Q.qg(f,d):1===q?k=XODText.Q.ul(k,
d):3===q&&(k=XODText.Q.qg(k,d)):f=XODText.Q.ul(f,d)}if(e&&Math.abs(b.Pb(d))<XODText.Ua.Cy)return!1}f=XODText.Q.As(f);k=XODText.Q.As(k);if(!f.normalize()&&e||(!k.normalize()&&e||e&&!XODText.Ua.Oz(a,h,f,k,c,c/10)))return!1;XODText.Ua.inflate(a,h,1,f,k);return!0};XODText.Ua.et=function(a,h,e){var c=(e+1)%4;a.x=h[2*c]-h[2*e];a.y=h[2*c+1]-h[2*e+1]};
XODText.Ua.Oz=function(a,h,e,c,b,d){var f=new XODText.Q;f.init(a[0],a[1]);var k=new XODText.Q;k.init(a[2],a[3]);var q=new XODText.Q;q.init(h[0],h[1]);var l=new XODText.Q;l.init(h[2],h[3]);var m=f.Pb(e),n=k.Pb(e),p=q.Pb(e);e=l.Pb(e);if(m>n)var r=m,m=n,n=r;p>e&&(r=p,p=e,e=r);if(p-n>b||m-e>b)return!1;f.x=a[2];f.y=a[3];k.x=a[4];k.y=a[5];q.x=h[2];q.y=h[3];l.x=h[4];l.y=h[5];m=f.Pb(c);n=k.Pb(c);p=q.Pb(c);e=l.Pb(c);m>n&&(r=m,m=n,n=r);p>e&&(r=p,p=e,e=r);return Math.abs(m-p)>d||Math.abs(n-e)>d?!1:!0};
XODText.Ua.inflate=function(a,h,e,c,b){for(var d=XODText.sb.qe,f=XODText.sb.$e,k=XODText.sb.qe,q=XODText.sb.$e,l=0,m=0,n=0,p=0,r=0;4>r;++r){var s=new XODText.Q;s.init(a[2*r],a[2*r+1]);l=s.Pb(c);m=s.Pb(b);r?(d>l&&(d=l,n=s.x),f<l&&(f=l),k>m&&(k=m,p=s.y),q<m&&(q=m)):(d=f=l,k=q=m,n=s.x,p=s.y);for(s=0;s<e;++s){var u=new XODText.Q;u.init(h[8*s+2*r],h[8*s+2*r+1]);l=u.Pb(c);m=u.Pb(b);d>l&&(d=l,n=u.x);f<l&&(f=l);k>m&&(k=m,p=u.y);q<m&&(q=m)}}h=new XODText.Q;h.init(n,p);p=h.Pb(b);n=XODText.Q.multiply(c,d-h.Pb(c));
p=XODText.Q.multiply(b,k-p);h.x+=n.x+p.x;h.y+=n.y+p.y;a[0]=h.x;a[1]=h.y;d=f-d;k=q-k;a[2]=a[0]+d*c.x;a[3]=a[1]+d*c.y;a[4]=a[2]+k*b.x;a[5]=a[3]+k*b.y;a[6]=a[0]+k*b.x;a[7]=a[1]+k*b.y};
XODText.Ua.prototype={_init:function(a,h,e,c,b,d,f,k){this.v=a;this.k=h;this.H=e;this.u=c;this.Oh=b;this.Qh=d;this.ee=f;this.ge=k},ey:function(a,h,e,c,b,d,f,k){this.v=a;this.k=h;this.H=e;this.u=c;this.Oh=b;this.Qh=d;this.ee=f;this.ge=k},Yp:function(){return{x1:this.v,y1:this.k,x2:this.H,y2:this.u,x3:this.Oh,y3:this.Qh,x4:this.ee,y4:this.ge}},v:0,k:0,H:0,u:0,Oh:0,Qh:0,ee:0,ge:0};XODText.Pa=function(){};
XODText.Pa.mj=function(a){var h=Math.cos(a);a=Math.sin(a);var e=new XODText.Pa;e.hb(h,-a,a,h,0,0);return e};
XODText.Pa.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,Xk:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},hb:function(a,h,e,c,b,d){this.m_a=a;this.m_b=h;this.m_c=e;this.m_d=c;this.m_h=b;this.m_v=d},set:function(a,h,e,c,b,d){this.m_a=a;this.m_b=h;this.m_c=e;this.m_d=c;this.m_h=b;this.m_v=d},inverse:function(){var a=new XODText.Pa,h=this.m_a*this.m_d-this.m_b*this.m_c;if(!h)return a;a.m_a=this.m_d/h;a.m_c=-this.m_c/h;a.m_h=(this.m_c*this.m_v-
this.m_h*this.m_d)/h;a.m_b=-this.m_b/h;a.m_d=this.m_a/h;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/h;return a},za:function(a){var h=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=h*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var h=this.m_a,e=this.m_b,c=this.m_c,b=this.m_d;this.m_a=a.m_a*h+a.m_b*c;this.m_b=a.m_a*e+a.m_b*b;this.m_c=a.m_c*h+a.m_d*c;this.m_d=a.m_c*e+a.m_d*b;this.m_h=a.m_h*h+a.m_v*c+this.m_h;this.m_v=a.m_h*e+a.m_v*b+this.m_v},io:function(a){return this.m_a==a.m_a&&(this.m_b==
a.m_b&&(this.m_c==a.m_c&&(this.m_d==a.m_d&&(this.m_h==a.m_h&&this.m_v==a.m_v))))},tu:function(a){var h=new XODText.Ub(a[0],a[1]),e=new XODText.Ub(a[2],a[3]),c=new XODText.Ub(a[4],a[5]),b=new XODText.Ub(a[6],a[7]),h=this.za(h),e=this.za(e),c=this.za(c),b=this.za(b);a[0]=h.x;a[1]=h.y;a[2]=e.x;a[3]=e.y;a[4]=c.x;a[5]=c.y;a[6]=b.x;a[7]=b.y},su:function(a){var h=Array(8);h[0]=a.v;h[1]=a.k;h[2]=a.H;h[3]=a.k;h[4]=a.H;h[5]=a.u;h[6]=a.v;h[7]=a.u;this.tu(h);a.Ag(h)}};XODText.ah=function(){};
XODText.ah.Gx=function(a,h){return a.Ib<h.Ib||(a.Ib===h.Ib&&a._position<h._position||a.Ib===h.Ib&&(a._position===h._position&&a.Xf<h.Xf))?-1:a.Ib===h.Ib&&(a._position===h._position&&a.Xf===h.Xf)?0:1};
XODText.ah.prototype={_init:function(){this.ek=[]},_add:function(a){this.ek.add(a)},_clear:function(){this.ek.clear()},Hx:function(a,h){h.clear();for(var e=[],c=D.Xc.Dc(this.ek);c.Me();){var b=c.current;e.add(b)}e.sort(XODText.ah.Gx);for(var c="",d=[],f=[],k=[],q=XODText.ak.Mq,l=0;l<e.length;++l)if(b=e[l],!(0>b.Ib||(b.Ib>=a.length||(0>b._position||0>=b.Xf)))){if(-1!==b.Ib){f=a[b.Ib].text;if(!f.ready())return!1;c=f.bb;d=f.pc;f=f.lg();if(!c.length||(c.length!==d.length||8*c.length!==f.length))continue;
for(var q=XODText.ak.Mq,m=D.Xc.Dc(d);m.Me();){var n=m.current;n>q&&(q=n)}k.clear();for(var p=0;p<q+1;++p)k.add(-1);for(p=0;p<d.length;++p)m=d[p],0<=m&&(k[m]=p)}d=Array(8);for(m=b._position;m<b._position+b.Xf&&!(m>q);++m)if(n=k[m],!(0>n)){for(p=0;8>p;++p)d[p]=f[8*n+p];var r=!1;if(1<=h.length&&(p=h[h.length-1],p.Ib===b.Ib)){var s=d[0]-d[2],u=d[1]-d[3];XODText.Ua.lk(p.qd,d,!0,Math.sqrt(s*s+u*u))&&(r=c.charAt(n),p.En.Ie(p.En.length,r),r=!0)}r||(r=c.charAt(n),n=new XODText.cn,n.ti(b.Ib,r,d),h.add(n))}}return 0<
h.length},ek:null};XODText.si=function(){};XODText.si.prototype={ti:function(a,h,e){this.Ib=a;this._position=h;this.Xf=e},Ib:0,_position:0,Xf:0};XODText.cn=function(){};XODText.cn.prototype={ti:function(a,h,e){this.Ib=a;this.En=h;this.qd=Array(8);for(a=0;8>a;++a)this.qd[a]=e[a]},Ib:0,En:null,qd:null};XODText.sk=function(){this.Nd=new XODText.na;this.gk=new XODText.na};XODText.sk.prototype={Nd:null,gk:null,hk:null,ik:null};XODText.fb=function(){};XODText.eb=function(){};
XODText.zc=function(){this.vn={};this.Ae=0;this.Ea=this.dh=this.dk=this.Wb=-1;this.qn=this.ff=this.fk=this.Yf=!1;this.$c=[];this.xb=[];this.od=[];this.Ha=this.oa="";this.Xb=[];this.Ld=[];this.fh=[];this.nn=[];this.la={};this.la[" "]=null;this.la["\t"]=null;this.la["\n"]=null;this.la["."]=null;this.la[","]=null;this.la["?"]=null;this.la[":"]=null;this.la[";"]=null;this.la['"']=null;this.la["'"]=null;this.la["<"]=null;this.la[">"]=null;this.la["`"]=null;this.la["~"]=null;this.la["!"]=null;this.la["@"]=
null;this.la["#"]=null;this.la.$=null;this.la["%"]=null;this.la["^"]=null;this.la["&"]=null;this.la["("]=null;this.la[")"]=null;this.la["["]=null;this.la["]"]=null;this.la["{"]=null;this.la["}"]=null;this.la["|"]=null;this.la._=null;this.la["\\"]=null;this.la["-"]=null;this.la["="]=null;this.la["+"]=null;this.la["/"]=null;this.la["*"]=null};
XODText.zc.Qd=function(a,h){for(var e=0,c=a.length-1,b=Math.floor((e+c)/2);a[b]!==h&&e<c;)h<a[b]?c=b-1:h>a[b]&&(e=b+1),b=Math.floor((e+c)/2);return a[b]!==h?!1:!0};
XODText.zc.prototype={ry:function(a,h,e,c,b){this.fk=!1;this.hc=a.o;if(0>this.hc.length||(0>h.length||0<=c&&c>b))return!1;this.Ae=e;if(!this.Tr(h))return!1;a=c;h=this.hc.length;if(0>a)if(0>b)a=0,b=h-1;else return!1;else if(b<a)return!1;console.assert(0<=a&&a<=b);if(a>=h||b>=h)return!1;this.dk=a;this.dh=b;this.Wb=this.Yd()?this.dh:this.dk;++this.dh;this.Ha=this.oa="";this.Ld.clear();this.fh.clear();this.$c.clear();this.xb.clear();this.fk=!0;this.Ea=-1;this.Yf=!1;return!0},run:function(a){var h=-1,
e=-1,c=-1,b="",d="",f=new XODText.ah;f._init();f._clear();if(!this.fk||0>=this.pd.length)return new XODText.ue(XODText.eb.pf,c,b,d,h,e);var k="",q=-1,l=-1;for((new XODText.ah)._init();;){if(this.Wb===this.dh)return new XODText.ue(XODText.eb.pf,c,b,d,h,e);var m=!0;if(!this.oa.length||this.Ea===this.oa.length){if(!this.Yd()){if(this.Ea===this.oa.length){if(this.nt()&&!this.Yf)return this.Yf=!0,c=this.Wb,new XODText.ue(XODText.eb.Hk,c,b,d,h,e);++this.Wb}if(this.Wb===this.dh)return new XODText.ue(XODText.eb.pf,
c,b,d,h,e)}else if(this.Ea===this.oa.length){if(this.nt()&&!this.Yf)return this.Yf=!0,c=this.Wb,new XODText.ue(XODText.eb.Hk,c,b,d,h,e);if(this.Wb===this.dk)return new XODText.ue(XODText.eb.pf,c,b,d,h,e);--this.Wb}(m=this.Zm(this.Wb))?this.Yd()?(this.Ea=this.oa.length,--this.Ea):this.Ea=0:this.Ea=0}this.Yf=!1;m&&(console.assert(this.Ea!==this.oa.length),e=this.Nx(k,q,l,d,f),k=e.bn,q=e.Zj,l=e.Yj,d=e.Um,h=e.rk,e=e.qk);if(m&&q!==this.oa.length){console.assert(0<k.length);b=k;c=this.Wb;this.Yd()?(this.Ea=
q)?--this.Ea:this.Ea=this.oa.length:this.Ea=l;if(this.Zi())for(a.clear(),k=[],f.Hx(this.hc,k),f=0;f<k.length;++f)q=new XODText.Ua,l=k[f],q.v=l.qd[0],q.k=l.qd[1],q.H=l.qd[2],q.u=l.qd[3],q.Oh=l.qd[4],q.Qh=l.qd[5],q.ee=l.qd[6],q.ge=l.qd[7],a.add(q);return new XODText.ue(XODText.eb.Mi,c,b,d,h,e)}this.Ea=this.oa.length}},Tr:function(a){if(0>=a.length)return!1;for(var h="",e=a.length,c=!1,b=0;b<e;++b){var d=this.mk(a.charAt(b));" "===d?c||(h+=d,c=!0):(c=!1,h+=d)}this.Cr=h;this.od.clear();a="";for(b=0;b<
h.length;++b)d=h.charAt(b),this.Wf(d)?this.od.add(a.length-1):a+=d;this.pd=a;this.$k()||(this.pd=this.pd.toLowerCase());b=this.ff;this.pd.length?this.ff=!1:(this.pd=h,this.od.clear(),this.ff=!0);this.ff!==b&&(0<this.oa.length&&(!this.Zm(this.Wb)&&(this.Ea=this.oa.length)));return!0},setMode:function(a){var h=this.Zi(),e=this.$k(),c=this.Yd();this.Ae=a;var b=this.Zi();a=this.$k();var d=this.Yd(),f=!1;e!==a&&this.Tr(this.Cr);if(!(0>=this.oa.length)){h!==b&&(b&&(!f&&(console.assert(0<=this.Ea&&this.Ea<=
this.oa.length),this.Zm(this.Wb),f=!0)));if(e!==a&&!f){console.assert(this.Xb.length===this.oa.length);console.assert(this.Xb.length<=this.Ha.length);h=this.oa.length;e="";for(b=0;b<h;++b)console.assert(0<=this.Xb[b]&&this.Xb[b]<this.Ha.length),e+=this.mk(this.Ha.charAt(this.Xb[b]));this.oa=e;a||(this.oa=this.oa.toLowerCase())}if(c!==d)if(console.assert(0<=this.Ea&&this.Ea<=this.oa.length),this.Ea!==this.oa.length)if(d)for(b=0;2>b;++b)this.Ea&&--this.Ea;else for(b=0;2>b;++b)this.Ea!==this.oa.length&&
++this.Ea;else d?(this.Ea=this.oa.length,--this.Ea):this.Ea=0}},Zi:function(){return 0<(this.Ae&XODText.fb.Ds)},zz:function(){return 0<(this.Ae&XODText.fb.Bs)},$k:function(){return 0<(this.Ae&XODText.fb.Cs)},Cz:function(){return 0<(this.Ae&XODText.fb.Fs)},Yd:function(){return 0<(this.Ae&XODText.fb.ho)},nt:function(){return 0<(this.Ae&XODText.fb.Es)},Nx:function(a,h,e,c,b){var d=this.Ax(-1,-1);h=d.Zj;e=d.Yj;var f=d.rk,k=d.qk;if(h===this.oa.length)return d;var q,l;a=this.Kx(0,0,h,e);q=a.Rr;l=a.lr;c=
"";for(var m=q;m<l;++m)c+=this.Ha.charAt(m);a=c;c="";if(this.zz()){var n=q,p=l,f=this.Ha.length,m=k=0,r=!1,s=!1,u=!1;if(n)for(--n;n;){var w=this.Ha.charAt(n);r&&(this.ye(w)&&m++);r||(!u||(this.ye(w)||(r=s=!0)));if(30<=k||0<m){n++;break}if(this.Ld.length>n&&-2===this.Ld[n]){var y=this.Ha.charAt(n+1);if("A"<=y&&"Z">=y){++n;s=!0;break}}--n;k++;u=u||(this.ye(w)||"\n"===w)}s||(n=q);r=p;for(m=0;p!==f;){this.ye(this.Ha.charAt(p))&&(r=p-1,m++);if(10<=m||70<=k){p===f-1||(this.ye(this.Ha.charAt(p+1))||(p=r));
break}p++}p===f&&--p;for(m=n;m<=p;++m)f=this.Ha.charAt(m),c="\n"===f?c+" ":c+f;f=q-n;k=l-n}if(this.Zi()){console.assert(this.Ha.length===this.Ld.length);n=q;p=l;console.assert(p>=n);q=p-n;l=[];for(m=n;m<p;++m)l.Ie(l.length,this.Ld[m]);for(m=0;m<q&&0>l[m];)++m;for(s=r=m;m<q;)if(n=l[m],m===q-1)u=this.Wb,n=l[s],p=l[m],0>p&&(p=l[r]),console.assert(0<=u&&(0<=n&&p>=n)),w=new XODText.si,w.ti(u,n,p-n+1),b._add(w),++m;else if(-1===n)console.assert(0<=l[r]),++m;else if(-2===n){console.assert(0<=l[r]);u=this.Wb;
n=l[s];p=l[r];console.assert(0<=u&&(0<=n&&p>=n));w=new XODText.si;w.ti(u,n,p-n+1);b._add(w);for(++m;m<q&&0>l[m];)++m;s=r=m}else 0<=n&&(console.assert(0<=l[r]),r===m||this.Jx(l,r,m)?(r=m,++m):(u=this.Wb,n=l[s],p=l[r],console.assert(0<=u&&(0<=n&&p>=n)),w=new XODText.si,w.ti(u,n,p-n+1),b._add(w),s=r=m))}d.bn=a;d.Zj=h;d.Yj=e;d.Um=c;d.rk=f;d.qk=k;return d},mn:null,hh:null,Lx:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},cy:function(a,h,e){Object.Mo(this.vn,a)?this.hh=this.vn[a]:(this.hh=
RegExp(this.Lx(a),"g"),this.vn[a]=this.hh);this.hh.lastIndex=e;this.mn=this.hh.exec(h);return null!=this.mn?this.hh.lastIndex-this.mn[0].length:-1},Ax:function(a,h){h=0;var e,c;e=this.Ea;for(a=c=this.oa.length;;){var b=!1;console.assert(0<this.pd.length);if(this.Yd()){if(e===c){a=h=c;break}a=this.oa.lastIndexOf(this.pd,e)}else a=this.cy(this.pd,this.oa,e);if(0>a){a=h=c;break}h=a+this.pd.length;this.Yd()?(e=a,0!==e?--e:e=c):e=h;if(!this.ff)if(0<this.od.length)if(this.$c.length||this.xb.length){for(var d=
this.xb.length,f=this.$c.length,k=a-0,q=D.Xc.Dc(this.od);q.Me();){var l=q.current,l=k+l;if(!XODText.zc.Qd(this.$c,l)&&!XODText.zc.Qd(this.xb,l)){b=!0;break}}if(b)continue;for(var q=a-0,m=h-0-1,n=l=this.ln(this.xb,q);n!==d;++n){var p=this.xb[n];if(p>=q&&(p<m&&(l=p-k,!XODText.zc.Qd(this.od,l)))){b=!0;break}if(p>=m)break}if(b)continue;for(n=l=this.ln(this.$c,q);n!==f;++n){p=this.$c[n];if(p>=q&&(p<m&&(l=p-k,!XODText.zc.Qd(this.od,l)))){b=!0;break}if(p>=m)break}if(b)continue}else continue;else if(this.xb.length)for(q=
a-0,m=h-0-1,d=this.xb.length,n=l=this.ln(this.xb,q);n!==d&&(p=this.xb[n],p>=q&&p<m||!(p>=m));++n);if(this.Cz()){if(0!==a&&(p=a-0-1,!(XODText.zc.Qd(this.$c,p)||(XODText.zc.Qd(this.xb,p)||(this.ye(this.oa.charAt(a))||this.ye(this.oa.charAt(a-1)))))))continue;if(h!==c&&(p=h-0-1,!(XODText.zc.Qd(this.$c,p)||(XODText.zc.Qd(this.xb,p)||(this.ye(this.oa.charAt(h-1))||this.ye(this.oa.charAt(h)))))))continue}break}return new XODText.zm("",a,h,"",-1,-1)},ye:function(a){return Object.Mo(this.la,a)?!0:this.ck(a)||
this.Ux(a)},ln:function(a,h){var e=a.indexOf(h);0>e&&(e=~e);return e},mk:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||(8220===a||8221===a))a=34;return String.fromCharCode(a)},Wf:function(a){var h=a;a=a.charCodeAt(0);return"-"===h||(8208===a||(8209===a||(65293===a||173===a)))},Tx:function(a){var h=a;a=a.charCodeAt(0);return","===h||(65292===a||65294===a)},Ux:function(a){var h=a;a=a.charCodeAt(0);return 32<a&&48>a||(57<a&&65>a||(90<a&&97>a||(122<a&&127>a||(this.Tx(h)||(this.Wf(h)||
(173===a||1642<=a&&(1645>=a||(8210<=a&&8231>=a||(8240<=a&&8269>=a||(8592<=a&&9215>=a||(12441<=a&&12444>=a||(65281<=a&&65291>=a||(65295===a||(65306<=a&&65312>=a||(65344===a||65371<=a&&65374>=a)))))))))))))))?!0:!1},ck:function(a){a=a.charCodeAt(0);return 32===a||(1<=a&&31>=a||(160===a||8192<=a&&(8207>=a||(8232<=a&&8239>=a||8298<=a&&8303>=a))))?!0:!1},Zm:function(a){if(0>a||a>=this.hc.length)return!1;this.Ha=this.oa="";this.Xb.clear();this.$c.clear();this.xb.clear();var h=this.Zi(),e=[],c=[];if(h){var b=
this.hc[a].text;if(!b.ready())return!1;a=b.bb;e=b.pc;c=b.lg();console.assert(a.length===e.length);this.Ld.clear();this.qn&&this.nn.clear()}else{b=this.hc[a].text;if(!b.ready())return!1;a=b.bb}if(0>=a.length)return!1;for(var b="",d=a.length,f=-1,k=0;k<d;++k){var q=a.charAt(k),l=-1;h&&(l=e[k]);if("\n"===q){for(q=k-1;0<=q&&" "===a.charAt(q);)--q;if(!(0>q||this.Wf(a.charAt(q)))){for(q=k+1;q<d&&" "===a.charAt(q);)++q;q>=d||(this.Wf(a.charAt(q))||(b+=" ",this.Xb.add(this.Ha.length),this.Ha+=" ",h&&(f=f<
l?l:f,this.Tm(l,c,8*k))))}}else if(" "===q)k<d-1&&("\n"===a.charAt(k+1)||" "===a.charAt(k+1))||(b+=q,this.Xb.add(this.Ha.length),this.Ha+=q,h&&(f=f<l?l:f,this.Tm(l,c,8*k)));else{if(this.Wf(q))if(this.ff)b+=this.mk(q),this.Xb.add(this.Ha.length);else{var m=b.length-1;k<d-1&&"\n"===a.charAt(k+1)?this.$c.add(m):this.xb.length&&m===this.xb[this.xb.length-1]||this.xb.add(m)}else b+=this.mk(q),this.Xb.add(this.Ha.length);this.Ha+=q;h&&(f=f<l?l:f,this.Tm(l,c,8*k))}}console.assert(b.length===this.Xb.length);
this.oa=b;if(h){d=this.Ld.length;this.fh.clear();for(k=0;k<f+1;++k)this.fh.add(!0);for(k=0;k<d;++k)l=this.Ld[k],0<=l&&(this.fh[l]=!1)}this.$k()||(this.oa=this.oa.toLowerCase());this.$c.sort();this.xb.sort();this.od.sort();return!0},Tm:function(a,h,e){this.Ld.add(a);if(this.qn)for(a=e;a<e+8;++a)this.nn.add(h[a])},Kx:function(a,h,e,c){e?(a=this.Xb[e-1],++a):a=0;c<this.Xb.length?h=this.Xb[c]:(h=this.Xb[c-1],h===this.Ha.length-1&&++h);console.assert(a>=e&&(h>=c&&h>=a));if(!this.ff){if(!XODText.zc.Qd(this.od,
this.pd.length-1))for(;0<h&&this.Wf(this.Ha.charAt(h-1));)--h;e=this.Ha.length;if(!XODText.zc.Qd(this.od,-1))for(;a<e-1&&this.Wf(this.Ha.charAt(a));)++a;h<a&&(console.assert(!1),h=a)}return new XODText.ym(a,h)},Jx:function(a,h,e){console.assert(0<=h&&(h<=e&&(h<a.length&&e<a.length)));h=a[h];a=a[e];if(h===a||h+1===a)return!0;for(e=!0;0<=h&&h<a-1;)if(!this.fh[++h]){e=!1;break}return e},fk:!1,hc:null,Ae:0,la:null,Wb:0,dk:0,dh:0,Ea:0,Yf:!1,Ha:null,oa:null,Xb:null,Ld:null,fh:null,pd:null,ff:!1,Cr:null,
$c:null,xb:null,od:null,nn:null,qn:!1};XODText.Pj=function(a){this.W="";this.Md=-1;this.ga=[];this.Fa="";this.hc=a.o;this.Xa=new XODText.Pf;this.Xa.ib();this.Cc=[]};
XODText.Pj.prototype={lg:function(){for(var a=this.ga.length/8,h=[],e=0;e<a;++e){var c=new XODText.Ua,b=8*e;c.ey(this.ga[b],this.ga[b+1],this.ga[b+2],this.ga[b+3],this.ga[b+4],this.ga[b+5],this.ga[b+6],this.ga[b+7]);h.add(c)}return h},ck:function(a){a=a.charCodeAt(0);return 32===a||(1<=a&&31>=a||(160===a||8192<=a&&(8207>=a||(8232<=a&&8239>=a||8298<=a&&8303>=a))))?!0:!1},dy:function(a,h){this.ga.clear();this.Fa="";var e=this.hc.length;if(0>a||a>=e)return!1;h.normalize();if(0>=this.Md||this.Md!==a){e=
this.hc[a].text;if(!e.ready())return!1;this.Xa=e;this.W=this.Xa.bb;this.Xm();this.Wm();this.Md=a}var e=new XODText.na,c=Array(8),b,d,f,k=new XODText.ob;k.ib();var q,l=new XODText.$a;l.ib();var m=[],n=!1;for(f=this.Xa.Ri();!f.Na(k);f=f.sf())if(f.bc(e),e.normalize(),!h.aj(e)){for(q=f.Oc();!q.Na(l);q=q.Qc())if(q.Rb(c),e.Ag(c),!h.aj(e)){b=q.vd();var p=q.wd();d=m.length;if(0<b&&0<d){n&&("\n"!==m[0]&&(this.ck(m[d-1])?m[d-1]="\n":m.add("\n")),n=!1);for(d=0;d<m.length;++d)this.Fa+=m[d];m.clear()}for(d=0;d<=
b;++d)p+d<this.W.length&&(d<b?this.Fa+=this.W.charAt(p+d):m.add(this.W.charAt(p+d)));0<b&&(p=e.H-e.v,d=e.u-e.k,this.Od(c,Math.sqrt(p*p+d*d)/b*3))}n=!0}return 0<this.ga.length},Xm:function(){var a,h=new XODText.ob;h.ib();var e=Array(8),c=Array(8),b=0.1,d=-100;for(a=this.Xa.Ri();!a.Na(h);a=a.sf()){var f=new XODText.Q,k=new XODText.Q,q=new XODText.$a;q.ib();var l=a.Oc(),m=new XODText.$a;m.ib();for(var n=a.Oc();!n.Na(q);n=n.Qc())m=n;l.Qb(0,e);f.x=(e[0]+e[2]+e[4]+e[6])/4;f.y=(e[1]+e[3]+e[5]+e[7])/4;m.Qb(m.Fe()-
1,c);k.x=(c[0]+c[2]+c[4]+c[6])/4;k.y=(c[1]+c[3]+c[5]+c[7])/4;q=XODText.Q.distance(f,k);q>b&&(d=Math.atan2(k.y-f.y,k.x-f.x),d*=180/3.1415926,0>d&&(d+=360),b=q)}this.qb=d;this.pn=2>Math.abs(this.qb)||2>Math.abs(this.qb-180)},mA:function(a,h){this.ga.clear();this.Fa="";var e=this.hc.length;if(0>a||a>=e)return!1;h.normalize();if(0>=this.Md||this.Md!==a){e=this.hc[a].text;if(!e.ready())return!1;this.Xa=e;this.W=this.Xa.bb;this.Xm();this.Wm();this.Md=a}var e=new XODText.na,c=Array(8),b,d,f,k=new XODText.ob;
k.ib();var q,l=new XODText.$a;l.ib();var m=[],n=!1;for(f=this.Xa.Ri();!f.Na(k);f=f.sf())if(f.bc(e),e.normalize(),!h.aj(e)){for(q=f.Oc();!q.Na(l);q=q.Qc())if(q.Rb(c),e.Ag(c),!h.aj(e)){b=q.vd();var p=q.wd(),r=m.length;if(0<b&&0<r){n&&("\n"!==m[0]&&(this.ck(m[r-1])?m[r-1]="\n":m.add("\n")),n=!1);for(r=0;r<m.length;++r)this.Fa+=m[r];m.clear()}var r=0,s=Array(8),u=Array(8),w=!1,y=!1;for(d=0;d<=b;++d)if(p+d<this.W.length){var v=Array(8),z=new XODText.na;q.Qb(d,v);z.Ag(v);h.aj(z)?0===r?w=!0:y=!0:(r++,1===
r&&(w&&q.Qb(d,s)),q.Qb(d,u),d<b?this.Fa+=this.W.charAt(p+d):m.add(this.W.charAt(p+d)))}0<r&&(w&&this.Vf(c,s,!0),y&&this.Vf(c,u,!1),e.Ag(c),b=e.H-e.v,p=e.u-e.k,this.Od(c,Math.sqrt(b*b+p*p)/r*3))}n=!0}return 0<this.ga.length},kA:function(a,h){this.ga.clear();this.Fa="";var e=this.hc.length;if(0>a||a>=e)return!1;if(0>=this.Md||this.Md!==a){e=this.hc[a].text;if(null==e||!e.ready())return!1;this.Xa=e;this.W=this.Xa.bb;this.Xm();this.Wm();this.Md=a}var c=XODText.sb.qe,b=XODText.sb.qe,d,f,e=Array(8),k=Array(8),
q=new XODText.na,l=new XODText.ob,m=new XODText.ob;l.ib();m.ib();var n=this.pn,p=this.pn,r,s=new XODText.ob;s.ib();var u=new XODText.$a;u.ib();var w=new XODText.Q;w.init(h.v,h.k);var y=new XODText.Q;y.init(h.H,h.u);m=this.Mx(w,y,l,m);l=m.sr;m=m.Br;if(l.Na(s)||m.Na(s))return!1;y=new XODText.$a;w=new XODText.$a;y.ib();w.ib();for(var b=c=XODText.sb.qe,v=l.Oc();!v.Na(u);v=v.Qc())v.bc(e),n?(f=h.v,r=h.k):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,f=h.k,r=h.v),d=(e[3]+e[1])/2,e[2]<=f?(f=e[2]-f,d-=
r,d=f*f+d*d):e[0]>=f?(f=e[0]-f,d-=r,d=f*f+d*d):(d-=r,d*=d),d<c&&(c=d,y=v);for(v=m.Oc();!v.Na(u);v=v.Qc())v.bc(e),p?(c=h.H,r=h.u):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,c=h.u,r=h.H),d=(e[3]+e[1])/2,e[2]<=c?(f=e[2]-c,d-=r,d=f*f+d*d):e[0]>=c?(f=e[0]-c,d-=r,d=f*f+d*d):(d-=r,d*=d),d<b&&(b=d,w=v);if(y.Na(u)||w.Na(u))return!1;r=v=0;var z,b=c=XODText.sb.qe,C=y.Fe();for(z=0;z<C;++z)y.Qb(z,e),f=(e[0]+e[2]+e[4]+e[6])/4,d=(e[1]+e[3]+e[5]+e[7])/4,f-=h.v,d-=h.k,d=f*f+d*d,d<c&&(c=d,v=z);C=w.Fe();for(z=
0;z<C;++z)w.Qb(z,e),f=(e[0]+e[2]+e[4]+e[6])/4,d=(e[1]+e[3]+e[5]+e[7])/4,f-=h.H,d-=h.u,d=f*f+d*d,d<b&&(b=d,r=z);f=l.Qa;z=m.Qa;b=y.Qa;c=w.Qa;d=-1;if(f===z){b>c&&(d=y,y=w,w=d,d=v,v=r,r=d);l.bc(q);if(b===c&&(v===r&&(d=new XODText.na,!d.Zk(q,h))))return!1;b===c?(r<v&&(d=v,v=r,r=d),d=r):d=y.vd();y.Qb(v,e);console.assert(n===p);n=y.wd();console.assert(v<=d);for(p=v;p<=d;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<=d&&(y.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/(d+1)*3,this.Vf(k,
e,!0),b===c&&(q=Array(8),w.Qb(r,q),this.Vf(k,q,!1)),this.Od(k,n));for(v=y=y.Qc();!v.Na(u)&&v.Qa<w.Qa;v=v.Qc()){d=v.vd();n=v.wd();for(p=0;p<=d;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(v.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/d*3,this.Od(k,n))}w.Qb(r,e);d=w.vd();if(b!==c){n=w.wd();console.assert(r<=d);for(p=0;p<=r;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(w.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/d*3,this.Vf(k,e,!1),this.Od(k,n))}}else{f>
z&&(n=l,l=m,m=n,d=y,y=w,w=d,d=v,v=r,r=d);l.bc(q);d=new XODText.na;d.Zk(q,h)||(y=l.Oc(),v=0);y.Qb(v,e);d=y.vd();n=y.wd();console.assert(v<=d);for(p=v;p<=d;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(y.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/d*3,this.Vf(k,e,!0),this.Od(k,n));for(v=y=y.Qc();!v.Na(u);v=v.Qc()){d=v.vd();n=v.wd();for(p=0;p<=d;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(v.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/d*3,this.Od(k,n))}for(l=
l.sf();!l.Na(m)&&!l.Na(s);l=l.sf())if(this.yn(l.Qk()))for(l.bc(q),v=l.Oc();!v.Na(u);v=v.Qc()){d=v.vd();n=v.wd();for(p=0;p<=d;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(v.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/d*3,this.Od(k,n))}m.bc(q);d=new XODText.na;d.Zk(q,h)||(w=m.ft(m.ig()-1),r=w.Fe()-1);for(v=m.Oc();!v.Na(u)&&!v.Na(w);v=v.Qc()){d=v.vd();n=v.wd();for(p=0;p<=d;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(v.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*
n+p*p),n=n/d*3,this.Od(k,n))}w.Qb(r,e);d=w.vd();n=w.wd();console.assert(r<=d);for(p=0;p<=r;++p)n+p<this.W.length&&(this.Fa+=this.W.charAt(n+p));0<d&&(w.Rb(k),n=k[0]-k[2],p=k[1]-k[3],n=Math.sqrt(n*n+p*p),n=n/d*3,this.Vf(k,e,!1),this.Od(k,n))}return 0<this.ga.length},Od:function(a,h){var e=this.ga.length/8;if(e){for(var c=Array(8),e=8*(e-1),b=0;8>b;++b)c[b]=this.ga[e+b];if(XODText.Ua.lk(c,a,!0,h))for(b=0;8>b;++b)this.ga[e+b]=c[b];else for(b=0;8>b;++b)this.ga.add(a[b])}else for(var b=0;8>b;++b)this.ga.add(a[b])},
Vf:function(a,h,e){var c=new XODText.Q;c.init(a[0],a[1]);var b=new XODText.Q;b.init(a[2],a[3]);var d=XODText.Q.qg(b,c);d.normalize()&&(e?(b=new XODText.Q,b.init(h[0],h[1]),h=XODText.Q.qg(b,c),h=h.Pb(d),d=XODText.Q.multiply(d,h),a[0]+=d.x,a[1]+=d.y,a[6]+=d.x,a[7]+=d.y):(c=new XODText.Q,c.init(h[2],h[3]),h=XODText.Q.qg(c,b),h=h.Pb(d),d=XODText.Q.multiply(d,h),a[2]+=d.x,a[3]+=d.y,a[4]+=d.x,a[5]+=d.y))},wr:function(a){var h=XODText.Pa.mj(0),e=XODText.Pa.mj(1.570796325),c=XODText.Pa.mj(3.14159265),b=XODText.Pa.mj(3.14159265*
1.5);switch(parseInt(a/90+0.1)){case 0:return h;case 1:return e;case 2:return c;case 3:return b;case 4:return h;default:return h}},yn:function(){return!0},Wr:function(a,h){var e=this.wr(h),c=new XODText.Ub(a.v,a.k),c=e.za(c);a.v=c.x;a.k=c.y;c=new XODText.Ub(a.H,a.u);c=e.za(c);a.H=c.x;a.u=c.y;a.normalize()},Wm:function(){this.Cc.clear();var a,h=new XODText.ob;h.ib();var e=new XODText.na,c=new XODText.sk,b=!1,d=new XODText.na;for(a=this.Xa.Ri();!a.Na(h);a=a.sf())if(this.yn(a.Qk())){a.bc(e);e.normalize();
var f=new XODText.na;f.xd(e);this.Wr(e,this.qb);if(b){var k=!0;e.k>d.k&&(k=!1);if(e.H<d.v||e.v>d.H)k=!1;var q=e.width()/d.width(),l=e.height()/d.height();if(1.6<q||(0.7>q||(1.4<l||0.7>l)))k=!1;k?(c.gk.union(f),c.Nd.union(e)):(this.Cc.add(c),c=new XODText.sk,c.gk.xd(f),c.Nd.xd(e),c.hk=a);c.ik=a}else c.gk.xd(f),c.Nd.xd(e),c.hk=a,c.ik=a,b=!0;d.xd(e)}b&&this.Cc.add(c)},rr:function(a,h){for(var e=XODText.sb.qe,c=new XODText.na,b=a.hk,d=a.hk;;d=d.sf()){if(!this.yn(d.Qk()))if(d.Na(a.ik))break;else continue;
d.bc(c);this.Wr(c,this.qb);var f=(c.k+c.u)/2;Math.abs(f-h.y)<e&&(b=d,e=Math.abs(f-h.y));if(d.Na(a.ik))break}return b},Mx:function(a,h,e,c){var b=-1,d=-1,f=!1,k=!1,q=this.wr(this.qb),l=new XODText.Q,m=new XODText.Q;l.Yk(a);m.Yk(h);a=new XODText.Ub(l.x,l.y);a=q.za(a);l.x=a.x;l.y=a.y;a=new XODText.Ub(m.x,m.y);a=q.za(a);m.x=a.x;m.y=a.y;h=0;for(var n=this.Cc.length;h<n;++h)q=this.Cc[h],0>b&&(q.Nd.contains(l.x,l.y)&&(b=h,k=!0)),0>d&&(q.Nd.contains(m.x,m.y)&&(d=h,f=!0));if(!k||!f){a=[];for(q=0;q<this.Cc.length;++q)a.add(0);
var q=Math.max(b,d),p=new XODText.na;p.hb(l.x,l.y,m.x,m.y);p.vz(0.1);0<=q&&p.union(this.Cc[q].Nd);var r=new XODText.na;h=0;for(n=this.Cc.length;h<n;++h){var s=new XODText.na;s.xd(this.Cc[h].Nd);r.Zk(s,p)&&(a[h]=1)}h=a.indexOf(1);for(p=n=a.indexOf(1);-1!==n;){p=n;n++;if(n>=a.length)break;n=a.indexOf(1,n)}a=p;if(0>h)return new XODText.Mj(e,c);0>q?(b=h,d=a,f=new XODText.na,f.xd(this.Cc[b].Nd),k=(l.x-f.v)*(l.x-f.H),k=0<k?Math.min(Math.abs(l.x-f.v),Math.abs(l.x-f.H)):0,q=(l.y-f.k)*(l.y-f.u),q=0<q?Math.min(Math.abs(l.y-
f.k),Math.abs(l.y-f.u)):0,k=k*k+q*q,q=(m.x-f.v)*(m.x-f.H),q=0<q?Math.min(Math.abs(m.x-f.v),Math.abs(m.x-f.H)):0,a=(m.y-f.k)*(m.y-f.u),a=0<a?Math.min(Math.abs(m.y-f.k),Math.abs(m.y-f.u)):0,k>q*q+a*a&&(f=b,b=d,d=f)):(n=new XODText.na,n.xd(this.Cc[q].Nd),p=new XODText.Q,k?p.Yk(m):p.Yk(l),console.assert(!(k&&f)&&!(!k&&!f)),console.assert(!n.contains(p.x,p.y)),q-h>Math.max(a-q,0)?(k||(b=Math.min(q,h)),f||(d=Math.min(q,h))):(k||(b=Math.max(q,a)),f||(d=Math.max(q,a))))}0<=b&&(0<=d&&(e=this.rr(this.Cc[b],
l,e),c=this.rr(this.Cc[d],m,c)));return new XODText.Mj(e,c)},ga:null,Fa:null,hc:null,Xa:null,Md:0,qb:0,pn:!1,Cc:null};XODText.ue=function(a,h,e,c,b,d){this.Dl=a;this.tl=h;this.hp=e;this.$r=c;this.Tt=b;this.St=d};XODText.ue.prototype={Dl:0,tl:0,hp:null,$r:null,Tt:0,St:0};XODText.Mj=function(a,h){this.sr=a;this.Br=h};XODText.Mj.prototype={sr:null,Br:null};XODText.ym=function(a,h){this.Rr=a;this.lr=h};XODText.ym.prototype={Rr:0,lr:0};
XODText.zm=function(a,h,e,c,b,d){this.bn=a;this.Zj=h;this.Yj=e;this.Um=c;this.rk=b;this.qk=d};XODText.zm.prototype={bn:null,Zj:0,Yj:0,Um:null,rk:0,qk:0};XODText.ak.ma("XODText._intData");XODText.Ub.ma("XODText.Point2D");XODText.Ua.ma("XODText.Quad");XODText.Pa.ma("XODText.Matrix2D");XODText.ah.ma("XODText._highlights");XODText.si.ma("XODText._highlight");XODText.cn.ma("XODText._highlightDocInfo");XODText.sk.ma("XODText._selectionTextBlock");XODText.fb.ma("XODText.SearchMode");XODText.eb.ma("XODText.ResultCode");
XODText.zc.ma("XODText.TextSearchLowlevel");XODText.Pj.ma("XODText.TextLocator");XODText.ue.ma("XODText.ResultRun");XODText.Mj.ma("XODText.ResultFindStructuralBounds");XODText.ym.ma("XODText.ResultDetermineOriRange");XODText.zm.ma("XODText.ResultFindTexts");XODText.ak.Mq=-2147483648;XODText.Ua.Cy=Math.cos(3.14159265/180*2);XODText.fb.Cs=1;XODText.fb.Fs=2;XODText.fb.ho=4;XODText.fb.Es=8;XODText.fb.Ds=16;XODText.fb.Bs=32;XODText.eb.pf=0;XODText.eb.Hk=1;XODText.eb.Mi=2;
(function(a){a.Annotations=a.Annotations||{};var h=a.Annotations;h.Color=function(a,c,b,d){this.R="undefined"===typeof a?0:a;this.G="undefined"===typeof c?0:c;this.B="undefined"===typeof b?0:b;this.A="undefined"===typeof d?1:d};h.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},IA:function(){return h.xa.toFixed(this.R/255,3)+" "+h.xa.toFixed(this.G/255,3)+" "+h.xa.toFixed(this.B/255,3)+" rg"}};h.Point=
function(a,c){this.x=a;this.y=c;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof c&&(this.y=parseFloat(c))};h.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};h.Ua=function(a,c,b,d,f,k,q,h){this.x1=a;this.y1=c;this.x2=b;this.y2=d;this.x3=f;this.y3=k;this.x4=q;this.y4=h};h.Ua.prototype={normalize:function(){}};h.ta=function(a,c,b,d){this.x1=a;this.y1=c;this.x2=b;this.y2=d};h.ta.prototype={dd:function(){return this.x2-this.x1},Pc:function(){return this.y2-
this.y1},translate:function(a,c){this.x1+=a;this.y1+=c;this.x2+=a;this.y2+=c},Ms:function(a){var c=0,b=0;if(this.dd()<a.dd()){var d=a.x2-this.x2;0>d&&(c=d);d=a.x1-this.x1;0<d&&(c=d)}this.Pc()<a.Pc()&&(d=a.y2-this.y2,0>d&&(b=d),a=a.y1-this.y1,0<a&&(b=a));this.translate(c,b)},normalize:function(){var a;0>this.dd()&&(a=this.x1,this.x1=this.x2,this.x2=a);0>this.Pc()&&(a=this.y1,this.y1=this.y2,this.y2=a)},Is:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,
this.y1=this.y2,this.y2=a)}};h.wa={};h.wa.Pz=function(a,c){return!a instanceof h.Point||!c instanceof h.Point?null:new h.Point((a.x+c.x)/2,(a.y+c.y)/2)};h.wa.distance=function(a,c){if(!a instanceof h.Point||!c instanceof h.Point)return null;var b=a.x-c.x,d=a.y-c.y;return Math.sqrt(b*b+d*d)};h.ControlHandle=function(a,c,b,d){this.x=a;this.y=c;this.width=b;this.height=d};h.ControlHandle.handleWidth=8;h.ControlHandle.handleHeight=8;h.ControlHandle.selectionAccuracyPadding=1;h.ControlHandle.prototype=
{testSelection:function(a,c,b,d,f){a=this.getDimensions(a,c,b);c=0;1<h.ControlHandle.selectionAccuracyPadding&&(c=h.ControlHandle.selectionAccuracyPadding);return d>=a.x1-c&&(d<=a.x1+a.dd()+c&&(f>=a.y1-c&&f<=a.y1+a.Pc()+c))},draw:function(a,c,b,d){"undefined"===typeof d&&(d=1);this.Cb(a,d);var f=this.getDimensions(c,b,d);c=f.x1;b=f.y1;d=f.dd();f=f.Pc();a.beginPath();a.arc(c+d/2,b+f/2,d/2,0,2*Math.PI);a.stroke();a.fill()},Cb:function(a,c){a.strokeStyle=h.SelectionModel.defaultSelectionOutlineColor.toString();
a.fillStyle="rgb(255, 255, 255)";a.lineWidth=h.SelectionModel.selectionOutlineThickness/c},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new h.ta(0,0,0,0)}};h.Wc=function(a,c,b,d){this.width=a;this.height=c;this.Yi=b;this.tj=d};h.Wc.prototype={getDimensions:function(a,c,b){a=c.x1;var d=c.y1,f=this.width/b;b=this.height/b;this.Yi===h.ia.Ic.left?a+=-(f/2):this.Yi===h.ia.Ic.Nn?a+=(c.dd()-
f)/2:this.Yi===h.ia.Ic.right?a+=c.dd()-f/2:console.warn("Invalid HorizonalAlignment");this.tj===h.ia.Nc.top?d+=-(b/2):this.tj===h.ia.Nc.Uo?d+=(c.Pc()-b)/2:this.tj===h.ia.Nc.bottom?d+=c.Pc()-b/2:console.warn("Invalid VerticalAlignment");return new h.ta(a,d,a+f,d+b)},move:function(a,c,b,d,f){c=!1;b=a.ud();this.tj===h.ia.Nc.bottom&&(c=b.y2!==f.y,b.y2=f.y);this.tj===h.ia.Nc.top&&(c=b.y1!==f.y,b.y1=f.y);this.Yi===h.ia.Ic.right&&(c=b.x2!==f.x,b.x2=f.x);this.Yi===h.ia.Ic.left&&(c=b.x1!==f.x,b.x1=f.x);c&&
a.resize(b);return c}};h.Wc.prototype=$.extend(!0,new h.ControlHandle,h.Wc.prototype);h.Ug=function(a,c,b,d,f){this.x=a;this.y=c;this.width=b;this.height=d;this.al=f};h.Ug.prototype={getDimensions:function(a,c,b){a=this.width/b;b=this.height/b;return new h.ta(this.x-0.5*a,this.y-0.5*b,this.x+0.5*a,this.y+0.5*b)},move:function(a,c,b,d,f,k){b=a.gb[0];if("undefined"===typeof b)return!1;c=a.gb[a.gb.length-1];k=new window.La.Kd(k);k.annotation=a;k.pageCoordinates[0]=f;d=Math.min(b.x1,b.x2,b.x3,b.x4);a=
Math.max(c.x1,c.x2,c.x3,c.x4);b=Math.min(b.y1,b.y2,b.y3,b.y4);c=Math.max(c.y1,c.y2,c.y3,c.y4);this.al?b={x:d+1,y:b,pageIndex:f.pageIndex}:(b=f,f={x:a-1,y:c,pageIndex:f.pageIndex});if(f.y<b.y)return!1;(b.x<f.x||b.y<f.y)&&k.select(b,f);return!0},draw:function(a,c,b,d){var f,k,q,l;this.Cb(a,d);l=this.getDimensions(c,b,d).Pc();var m;this.al?(m=c.gb[c.gb.length-1],f=m.x2,k=m.y2,q=m.x3,l=m.y3-0.5*l):(m=c.gb[0],f=m.x1,k=m.y1+0.5*l,q=m.x4,l=m.y4);a.beginPath();a.moveTo(f,k);a.lineTo(q,l);a.stroke();h.ControlHandle.prototype.draw.call(this,
a,c,b,d)}};h.Ug.prototype=$.extend(!0,new h.ControlHandle,h.Ug.prototype);h.Nf=function(a,c,b,d,f){this.x=a;this.y=c;this.width=b;this.height=d;this.Tc=f};h.Nf.prototype={getDimensions:function(a,c,b){a=this.width/b;b=this.height/b;c=this.x-0.5*a;var d=this.y-0.5*b;return new h.ta(c,d,c+a,d+b)},move:function(a,c,b){var d=a.uf(this.Tc);a.Bd(this.Tc,d.x+c,d.y+b);return!0}};h.Nf.prototype=$.extend(!0,new h.ControlHandle,h.Nf.prototype);h.xj=function(a,c,b,d,f){this.x=a;this.y=c;this.width=b;this.height=
d;this.Tc=f};h.xj.prototype={move:function(a,c,b){var d=a.uf(2),f=a.uf(3),k=a.uf(4);if(3===this.Tc){if(k.y<f.y+b||k.x<f.x+c)return}else if(4===this.Tc&&(k.y+b<f.y||k.x+c<f.x))return;c=h.Nf.prototype.move.call(this,a,c,b);3===this.Tc&&(k.y<f.y&&a.Bd(3,f.x,k.y),k.x<f.x&&a.Bd(3,k.x,f.y),a.Bd(2,f.x,f.y+0.5*(k.y-f.y)),c=!0);4===this.Tc&&(k.y<f.y&&a.Bd(3,k.x,f.y),k.x<f.x&&a.Bd(3,f.x,k.y),a.Bd(2,d.x,f.y+0.5*(k.y-f.y)),c=!0);var q=a.po()/2;b=a.uf(1);var l=h.wa.Pz(f,k),f=[new h.Point(f.x+q,l.y),new h.Point(k.x-
q,l.y),new h.Point(l.x,f.y+q),new h.Point(l.x,k.y-q)],k=[h.wa.distance(b,f[0]),h.wa.distance(b,f[1]),h.wa.distance(b,f[2]),h.wa.distance(b,f[3])],k=k.indexOf(Math.min.apply(Math,k));if(d.x!==f[k].x||d.y!==f[k].y)a.Bd(2,f[k].x,f[k].y),c=!0;return c}};h.xj.prototype=$.extend(!0,new h.Nf,h.xj.prototype);h.Pg=function(a,c,b,d,f){this.x=a;this.y=c;this.width=b;this.height=d;this.al=f};h.Pg.prototype={getDimensions:function(a,c,b){a=this.width/b;b=this.height/b;c=this.x-0.5*a;var d=this.y-0.5*b;return new h.ta(c,
d,c+a,d+b)},move:function(a,c,b){this.al?(a.End.x+=c,a.End.y+=b):(a.Start.x+=c,a.Start.y+=b);a.adjustRect();return!0}};h.Pg.prototype=$.extend(!0,new h.ControlHandle,h.Pg.prototype);h.SelectionModel=function(a,c,b){this.bd=[];this.Vm=c;this.kn=b};h.SelectionModel.selectionOutlineThickness=2;h.SelectionModel.selectionAccuracyPadding=2;h.SelectionModel.defaultSelectionOutlineColor=new h.Color(0,0,255);h.SelectionModel.defaultNoPermissionSelectionOutlineColor=new h.Color(255,0,0);h.SelectionModel.selectionOutlineDashSize=
4;h.SelectionModel.prototype={testSelection:function(a,c,b){return h.Hb.lh(a,c,b)},rp:function(a,c,b,d){for(var f=this.bd.length-1;0<=f;f--){var k=this.bd[f];if(k.testSelection(a,this.getDimensions(a),c,b,d))return k}},$y:function(){return this.bd},getDimensions:function(a){return new h.ta(a.X,a.Y,a.X+a.Width,a.Y+a.Height)},Kn:function(){return this.Vm},draw:function(a,c,b){a.save();this.drawSelectionOutline(a,c,b);a.restore();for(var d=0;d<this.bd.length;d++)this.bd[d]&&this.bd[d].draw(a,c,this.getDimensions(c),
b)},drawSelectionOutline:function(a,c,b){a.save();c=this.getDimensions(c);"undefined"===typeof b&&(b=1);a.lineWidth=h.SelectionModel.selectionOutlineThickness/b;a.strokeStyle=this.Kn()?h.SelectionModel.defaultSelectionOutlineColor.toString():h.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(c.x1,c.y1);a.lineTo(c.x2,c.y1);a.lineTo(c.x2,c.y2);a.lineTo(c.x1,c.y2);a.closePath();a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=h.SelectionModel.selectionOutlineDashSize/
b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(c.x1,c.y1);a.lineTo(c.x2,c.y1);a.lineTo(c.x2,c.y2);a.lineTo(c.x1,c.y2);a.closePath();a.stroke();a.restore()},drawPopupTail:function(e,c,b,d,f){var k=b=c=0;b=Math.abs(d.x1-d.x2);k=Math.abs(d.y1-d.y2);f.x>=d.x1+0.5*b&&f.y<d.y1+0.5*k?c={x:d.x1+b,y:d.y1}:f.x<d.x1+0.5*b&&f.y<d.y1+0.5*k?c={x:d.x1,y:d.y1}:f.x<d.x1+0.5*b&&f.y>=d.y1+0.5*k?c={x:d.x1,y:d.y1+k}:f.x>=d.x1+0.5*b&&(f.y>=
d.y1+0.5*k&&(c={x:d.x1+b,y:d.y1+k}));d=a.Ba.wa.Mk(c,f);f=a.Ba.wa.vo(c,f);b={x:c.x+f,y:c.y-5};k={x:c.x+f,y:c.y+5};b=a.Ba.wa.xg(b,d,c);k=a.Ba.wa.xg(k,d,c);e.save();e.strokeStyle="rgba(0,0,0,0.8)";e.beginPath();e.moveTo(c.x,c.y);e.lineTo(b.x,b.y);e.lineTo(k.x,k.y);e.closePath();e.shadowColor="#bbb";e.shadowBlur=10;e.shadowOffsetX=5;e.shadowOffsetY=5;e.stroke();e.fillStyle="rgba(255, 255, 0, 0.7)";e.beginPath();e.moveTo(c.x,c.y);e.lineTo(b.x,b.y);e.lineTo(k.x,k.y);e.closePath();e.fill();e.restore()}};
h.ia=function(a,c,b){h.SelectionModel.call(this,0,c,b);a=h.ControlHandle.handleWidth;b=h.ControlHandle.handleHeight;this.bd=(this.Vm=c)?[new h.Wc(a,b,h.ia.Ic.left,h.ia.Nc.top),new h.Wc(a,b,h.ia.Ic.left,h.ia.Nc.Uo),new h.Wc(a,b,h.ia.Ic.left,h.ia.Nc.bottom),new h.Wc(a,b,h.ia.Ic.Nn,h.ia.Nc.top),new h.Wc(a,b,h.ia.Ic.Nn,h.ia.Nc.bottom),new h.Wc(a,b,h.ia.Ic.right,h.ia.Nc.top),new h.Wc(a,b,h.ia.Ic.right,h.ia.Nc.Uo),new h.Wc(a,b,h.ia.Ic.right,h.ia.Nc.bottom)]:[]};h.ia.Ic={left:1,Nn:2,right:4};h.ia.Nc={top:16,
Uo:32,bottom:64};h.ia.prototype={testSelection:function(a,c,b){return this.kn?h.Hb.lh(a,c,b):h.Hb.zk(a,c,b)},getDimensions:function(a){return new h.ta(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};h.ia.prototype=$.extend(!0,new h.SelectionModel,h.ia.prototype);h.Qg=function(a,c,b){h.SelectionModel.call(this,0,c,b);if(c)for(a=a.getPath(),c=0;c<a.length;c++)b=a[c],this.bd.push(new h.Nf(b.x,b.y,h.ControlHandle.handleWidth,h.ControlHandle.handleHeight,c))};h.Qg.prototype={testSelection:function(a,c,b){return this.kn?
h.Hb.lh(a,c,b):h.Hb.zk(a,c,b)},draw:function(a,c,b){h.SelectionModel.prototype.draw.call(this,a,c,b)}};h.Qg.prototype=$.extend(!0,new h.SelectionModel,h.Qg.prototype);h.fi=function(a,c,b){h.SelectionModel.call(this,0,c,b);this.bd=c?[new h.Pg(a.Start.x,a.Start.y,h.ControlHandle.handleWidth,h.ControlHandle.handleHeight,0),new h.Pg(a.End.x,a.End.y,h.ControlHandle.handleWidth,h.ControlHandle.handleHeight,1)]:[]};h.fi.prototype={drawSelectionOutline:function(a,c,b){"undefined"===typeof b&&(b=1);a.lineWidth=
h.SelectionModel.selectionOutlineThickness/b;var d=Math.atan((c.End.y-c.Start.y)/(c.End.x-c.Start.x)),f=Math.max(0.5*c.StrokeThickness,1)*Math.sin(d),d=Math.max(0.5*c.StrokeThickness,1)*Math.cos(d);a.strokeStyle=this.Kn()?h.SelectionModel.defaultSelectionOutlineColor.toString():h.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(c.Start.x+f,c.Start.y-d);a.lineTo(c.End.x+f,c.End.y-d);a.stroke();a.beginPath();a.moveTo(c.Start.x-f,c.Start.y+d);a.lineTo(c.End.x-
f,c.End.y+d);a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=h.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(c.Start.x+f,c.Start.y-d);a.lineTo(c.End.x+f,c.End.y-d);a.stroke();a.beginPath();a.moveTo(c.Start.x-f,c.Start.y+d);a.lineTo(c.End.x-f,c.End.y+d);a.stroke()},drawPopupTail:function(e,c,b,d,f){var k=d=b=0;b=h.wa.distance(c.Start,f);d=h.wa.distance(c.End,
f);c=b>d?c.End:c.Start;b={x:c.x,y:c.y};c=a.Ba.wa.Mk(b,f);f=a.Ba.wa.vo(b,f);d={x:b.x+f,y:b.y-5};k={x:b.x+f,y:b.y+5};d=a.Ba.wa.xg(d,c,b);k=a.Ba.wa.xg(k,c,b);e.strokeStyle="rgba(0,0,0,0.8)";e.beginPath();e.moveTo(b.x,b.y);e.lineTo(d.x,d.y);e.lineTo(k.x,k.y);e.closePath();e.stroke();e.fillStyle="rgba(255, 255, 0, 0.7)";e.beginPath();e.moveTo(b.x,b.y);e.lineTo(d.x,d.y);e.lineTo(k.x,k.y);e.closePath();e.fill()}};h.fi.prototype=$.extend(!0,new h.ia,h.fi.prototype);h.$h=function(a,c,b){h.ia.apply(this,arguments)};
h.$h.prototype={getDimensions:function(a){return h.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(a,c,b){return h.Hb.lh(a,c,b)}};h.$h.prototype=$.extend(!0,new h.ia,h.$h.prototype);h.yj=function(a,c,b){h.SelectionModel.call(this,0,c,b);if(c)for(a=a.getPath(),c=0;c<a.length;c++)2!==c&&(b=a[c],this.bd.push(new h.xj(b.x,b.y,h.ControlHandle.handleWidth,h.ControlHandle.handleHeight,c)))};h.yj.prototype={testSelection:function(a,c,b){return this.kn?h.Hb.lh(a,c,b):h.Hb.zk(a,
c,b)}};h.yj.prototype=$.extend(!0,new h.SelectionModel,h.yj.prototype);h.ni=function(a,c,b){h.SelectionModel.call(this,0,c,b);this.Vm=c;a.gb&&(this.bd=[],c&&(c=a.gb[0],a=a.gb[a.gb.length-1],c&&(this.bd=[new h.Ug(c.x1,c.y1,h.ControlHandle.handleWidth,h.ControlHandle.handleHeight,!1),new h.Ug(a.x3,a.y3,h.ControlHandle.handleWidth,h.ControlHandle.handleHeight,!0)])))};h.ni.prototype={testSelection:function(a,c,b){return h.Hb.nu(a,c,b)},getDimensions:function(a){var c=a.X-2,b=a.Y-2;return new h.ta(c,
b,c+(a.Width+4),b+(a.Height+4))}};h.ni.prototype=$.extend(!0,new h.SelectionModel,h.ni.prototype);h.Oj=function(a,c,b){h.SelectionModel.call(this,0,c,b)};h.Oj.prototype={testSelection:function(a,c,b,d){d=a.NoZoom?d:1;a=new h.ta(a.Ve(),a.We(),a.Ve()+a.Ta()/d,a.We()+a.Oa()/d);return c>=a.x1&&(c<=a.x2&&(b>=a.y1&&b<=a.y2))}};h.Oj.prototype=$.extend(!0,new h.SelectionModel,h.Oj.prototype);h.Hb={lh:function(a,c,b){a=a.ud();return c>=a.x1&&(c<=a.x2&&(b>=a.y1&&b<=a.y2))},zk:function(a,c,b){var d;h.Hb.jt?
d=h.Hb.jt:(d=document.createElement("canvas"),h.Hb.jt=d);var f=d.getContext("2d");d.width=100;d.height=100;f.setTransform(1,0,0,1,-(c-a.Xe()),-(b-a.Ye()));c=a.StrokeThickness;a.Uf=c+h.Hb.canvasVisibilityPadding;f.translate(-1*a.Xe(),-1*a.Ye());a.draw(f);b=1<f.getImageData(0,0,1,1).data[3];f.setTransform(1,0,0,1,0,0);f.clearRect(0,0,2,2);a.Uf=c;return b},nu:function(a,c,b){a=a.Quads;for(var d=0;d<a.length;d++){var f=a[d],k=Math.min(f.y1,f.y2,f.y3,f.y4),q=Math.max(f.y1,f.y2,f.y3,f.y4),h=Math.min(f.x1,
f.x2,f.x3,f.x4),f=Math.max(f.x1,f.x2,f.x3,f.x4);if(c>=h&&(c<=f&&(b>=k&&b<=q)))return!0}return!1}};h.Hb.canvasVisibilityPadding=5})(window);
(function(a){var h=XODText;a.La=function(){};var e=a.La;e.nB={};e.Tool=function(a){this.ub=this.cc=null;this.h=this.docViewer=a;this.pageCoordinates=[]};e.Tool.prototype={Tk:function(a){var c={},f=this.h.Bb();a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],c.x=f.scrollLeft()+a.clientX,c.y=f.scrollTop()+a.clientY):(c.x=f.scrollLeft()+a.pageX,c.y=f.scrollTop()+a.pageY);return c},mouseLeftDown:function(a){var c=
this.Tk(a);this.cc={x:c.x,y:c.y};this.ub={x:c.x,y:c.y};this.pageCoordinates[0]=this.Ge(this.cc);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[0]}},mouseLeftUp:function(a){var c=this.Tk(a);this.ub=c;this.pageCoordinates[1]=this.Ge(this.ub);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var c=this.Tk(a);this.ub=c;if(null!==this.cc){var f=this.Ge(this.cc);if(null===f)return;
var k=f.pageIndex,f=this.h.kg(k),e=this.h.jg(k),k=this.Ge(this.ub,k);0>k.x&&(k.x=0);0>k.y&&(k.y=0);k.x>f&&(k.x=f);k.y>e&&(k.y=e);this.pageCoordinates[1]=k}else this.pageCoordinates[1]=this.Ge(this.ub);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseDoubleClick:function(a){var c=this.Tk(a);this.cc={x:c.x,y:c.y};this.ub={x:c.x,y:c.y};var c=this.h.ca,f=this.Ge(this.ub);f&&(this.jh=f.x,this.kh=f.y,(a=c.Nk(a))&&(!a.ed()&&(f=c.Jl(a),c.trigger("annotationDoubleClicked",
a),f&&c.Qi(a))))},mouseLeave:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){this.h.el.css("cursor","default");this.h.ca.Gg()},az:function(){return this.h},Ge:function(a,c){var f=this.docViewer.ai().dt(a,a);if("undefined"===typeof c){if(f=null===f.first?f.last:f.first,null===f)return null}else f=c;f=this.docViewer.ai().uj(a,f);return{pageIndex:f.pageIndex,x:f.x,y:f.y}}};var c=e.Tool;e.ii=function(a){c.call(this,a);this.Dn={x:0,y:0};this.bk=!1};
e.ii.prototype=$.extend(new c,{switchIn:function(){this.h.el.css("cursor","url(Resources/hand.png), url(Resources/hand.cur), pointer")},mouseLeftDown:function(a){var c=this.h.Bb();this.Dn={x:c.scrollLeft()+a.pageX,y:c.scrollTop()+a.pageY};this.bk=!0;this.h.el.css("cursor","url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer")},mouseLeftUp:function(){this.bk=!1;this.h.el.css("cursor","url(Resources/hand.png),url(Resources/hand.cur), pointer")},mouseMove:function(a){if(this.bk){var c=
this.h.Bb(),f=this.Dn.x-(c.scrollLeft()+a.pageX);a=this.Dn.y-(c.scrollTop()+a.pageY);this.h.scrollTo(c.scrollLeft()+f,c.scrollTop()+a)}},mouseLeave:function(){this.bk=!1;this.h.el.css("cursor","url(Resources/hand.png),url(Resources/hand.cur), pointer")}});e.um=function(a){e.ii.call(this,a);this.Vj=new e.ra(a);this.nk=new e.ii(a)};e.um.prototype=$.extend(new e.ii,{mouseLeftDown:function(a){c.prototype.mouseLeftDown.call(this,a);var d=this.h.ca;if(a.originalEvent.touches&&1<a.originalEvent.touches.length)return!0;
(this.Tj=d.Nk(a))?this.Vj.mouseLeftDown(a):(d.Gg(),this.nk.mouseLeftDown(a))},mouseLeftUp:function(a){this.Tj?this.Vj.mouseLeftUp(a):this.nk.mouseLeftUp(a)},mouseMove:function(a){if(a.originalEvent.touches&&1<a.originalEvent.touches.length)return!0;this.Tj?this.Vj.mouseMove(a):this.nk.mouseMove(a)},keyDown:function(a){this.Tj?this.Vj.keyDown(a):this.nk.keyDown(a)}});e.Ac=function(a){c.call(this,a);this.Le=!1};e.Ac.SELECTION_MODE="structural";e.Ac.prototype={switchIn:function(){this.Qn(null,this.h.kb());
this.h.on("rotationUpdated",this.Qn)},switchOut:function(a){c.prototype.switchOut.call(this,a);this.h.off("rotationUpdated",this.Qn)},Qn:function(b,c){var f;f=null===b?this.h:b.target;c===a.g.sa.Xd||c===a.g.sa.Wd?f.el.css("cursor","vertical-text"):f.el.css("cursor","text")},mouseLeftDown:function(a){c.prototype.mouseLeftDown.call(this,a);this.Le=!0;this.h.Ul()},mouseMove:function(a){!0===this.Le&&(1!==a.which&&0!==a.which?this.Le=!1:(c.prototype.mouseMove.call(this,a),a.data&&(this.pageCoordinates[1]=
this.Ge(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],this.pageCoordinates[1])))},select:function(a,c){var f=this.h;if(a&&c){this.ae=[];this.ce=[];var k,e;c.pageIndex>=a.pageIndex?(k=a,e=c):(k=c,e=a);var l=k.pageIndex,m=e.pageIndex;if(null!==l&&null!==m){var n=new h.na;if(1<=m-l){var p=f.J.o[l];n.hb(k.x,k.y,p.width,p.height)}else n.hb(k.x,k.y,e.x,e.y);this.h.Ih(l,n,_.bind(this.textSelected,this));for(k=l+1;k<m;k++)n=new h.na,n.hb(0,0,f.J.o[k].width,f.J.o[k].height),f.Ih(k,n,_.bind(this.textSelected,
this));l!==m&&(n=new h.na,n.hb(0,0,e.x,e.y),f.Ih(m,n,_.bind(this.textSelected,this)))}}},textSelected:function(){},mouseLeftUp:function(a){c.prototype.mouseLeftUp.call(this,a);this.Le=!1}};e.Ac.prototype=$.extend(new c,e.Ac.prototype);e.Fq=function(a){e.Ac.call(this,a)};e.Fq.prototype=$.extend(new e.Ac,{textSelected:function(a,c,f){this.h.yl(a,c,f)},mouseDoubleClick:function(){var a=this.pageCoordinates[0];this.h.lA(a.pageIndex,a,_.bind(this.textSelected,this))}});e.Za=function(a,d,f){c.call(this,
a);this.annotation=null;this.Gn=d;this.Ay=f};e.Za.prototype=$.extend(new c,{switchIn:function(){this.h.el.css("cursor","crosshair");this.h.mi({ag:!0})},switchOut:function(a){c.prototype.switchOut.call(this,a);this.h.mi({ag:!1})},mouseLeftDown:function(a){if(!this.annotation&&(c.prototype.mouseLeftDown.call(this,a),a=this.pageCoordinates[0])){var d=this.h.ca;this.annotation=new this.Gn(this.Ay);this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=
d.Ng();null!==this.annotation.StrokeColor&&(this.annotation.StrokeColor=new Annotations.Color(d.defaultStrokeColor.R,d.defaultStrokeColor.G,d.defaultStrokeColor.B,d.defaultStrokeColor.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=d.defaultStrokeThickness);null!==this.annotation.FillColor&&(this.annotation.FillColor=new Annotations.Color(d.defaultFillColor.R,d.defaultFillColor.G,d.defaultFillColor.B,d.defaultFillColor.A))}},mouseLeftUp:function(){if(this.annotation){var a=
this.annotation.Oa();0===this.annotation.Ta()&&0===a?this.h.ca.Ue(this.annotation):this.h.ca.he(this.annotation);this.annotation=null}},mouseMove:function(a){if(this.annotation&&(c.prototype.mouseMove.call(this,a),"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var d=this.pageCoordinates[1];null!==d&&(null!==a&&(a.pageIndex===d.pageIndex&&(a=new Annotations.ta(a.x,a.y,d.x,d.y),a.normalize(),this.annotation.Bg(a),this.h.ca.Vb(this.annotation))))}},finish:function(){if(this.annotation){var a=
this.annotation.Oa();0===this.annotation.Ta()&&0===a?this.h.ca.Ue(this.annotation):this.h.ca.he(this.annotation);this.annotation=null}}});new e.Za;e.ra=function(a){c.call(this,a);this.kh=this.jh=0;this.gf={x:0,y:0};this.ll=this.Wo=this.mf=this.ab=null;this.state=e.ra.pb.NONE;this.rd=NaN;this.mousedown=!1};e.ra.pb={NONE:0,Vl:1,sq:2,rm:3,Aj:4};e.ra.PAGE_PADDING=new Annotations.ta(2,2,2,2);e.ra.prototype=$.extend(new c,{switchIn:function(){this.h.el.css("cursor","default")},switchOut:function(a){c.prototype.switchOut.call(this,
a)},mouseLeftDown:function(a){c.prototype.mouseLeftDown.call(this,a);this.mousedown=!0;this.state=e.ra.pb.NONE;var d=this.h.ca,f=this.Ge(this.ub);if(f){this.rd=f.pageIndex;this.jh=f.x;this.kh=f.y;this.gf.x=this.jh;this.gf.y=this.kh;for(var k=d.Lf(),q=0;q<k.length;q++){var h=k[q];if("undefined"!==typeof h.selectionModel){var m=(new h.selectionModel(h,d.Hc(h))).rp(h,this.h.Ga(h.ba()),f.x,f.y);if(m){this.ab=h;this.mf=m;this.state=e.ra.pb.Aj;this.state=!this.ab.NoResize&&d.Hc(this.ab)?e.ra.pb.Aj:e.ra.pb.NONE;
return}}else if(console.warn("no selection model for annotation"),this.mf=d.Rs(this.rd,f)){this.ab=this.mf.Ra;this.state=!this.ab.NoResize&&d.Hc(this.ab)?e.ra.pb.sq:e.ra.pb.NONE;return}}(this.ab=d.Nk(a))&&!this.ab.ed()?(f=d.di(this.ab),a.ctrlKey?f?d.Mp(this.ab):d.Dm(this.ab):(f||(d.Gg(),d.Dm(this.ab)),d.Qi(this.ab)),this.state=!this.ab.NoMove&&d.Hc(this.ab)?e.ra.pb.Vl:e.ra.pb.NONE):(d.Gg(),this.state=(this.Wo=this.h.qf(this.rd))?e.ra.pb.rm:e.ra.pb.NONE)}},mouseMove:function(b){if(this.state===e.ra.pb.NONE)this.mousedown?
this.h.el.css("cursor","not-allowed"):this.h.el.css("cursor","default");else{var d=this.h.ca;c.prototype.mouseMove.call(this,b);if((b=this.pageCoordinates[1])&&this.rd===b.pageIndex){var f=b.x-this.gf.x,k=b.y-this.gf.y;if(this.state===e.ra.pb.Vl&&this.ab){this.h.el.css("cursor","move");var q=d.Lf(),h,m,n,p,r,s,u,w=!1;for(h=0;h<q.length;h++)n=q[h],d.Hc(n)&&(!n.NoMove&&(m=n.ud(),w?(m.x1<p&&(p=m.x1),m.y1<r&&(r=m.y1),m.x2>s&&(s=m.x2),m.y2>u&&(u=m.y2)):(p=m.x1,r=m.y1,s=m.x2,u=m.y2,w=!0)));m=this.h.kg(this.rd);
n=this.h.jg(this.rd);h=new Annotations.ta;var y=this.h.Ga(this.ab.ba()),y=1;h.x1=e.ra.PAGE_PADDING.x1*y;h.y1=e.ra.PAGE_PADDING.y1*y;h.x2=m-e.ra.PAGE_PADDING.x2*y;h.y2=n-e.ra.PAGE_PADDING.y2*y;p=Math.max(0+e.ra.PAGE_PADDING.x1,p);r=Math.max(0+e.ra.PAGE_PADDING.y1,r);s=Math.min(s,m-e.ra.PAGE_PADDING.x2);u=Math.min(u,n-e.ra.PAGE_PADDING.y2);if(w){p=p+f>=h.x1?f:h.x1-p;r=r+k>=h.y1?k:h.y1-r;s=s+f<=h.x2?f:h.x2-s;u=u+k<=h.y2?k:h.y2-u;f=0<=f?Math.min(p,s):Math.max(p,s);k=0<=k?Math.min(r,u):Math.max(r,u);this.gf.x=
b.x;this.gf.y=b.y;b={};for(h=0;h<q.length;h++)if(n=q[h],d.Hc(n)&&(!n.NoMove&&(m=n.ud(),m.x1+=f,m.y1+=k,m.x2+=f,m.y2+=k,0!==f||0!==k)))n.resize(m),n.as=!0,b[n.jb()]=!0;for(var v in b)this.h.ca.wb(v)}}else this.state===e.ra.pb.Aj&&(this.mf&&this.ab)?(d=this.mf.move(this.ab,f,k,this.Ge(new Annotations.Point(this.cc.x,this.cc.y)),b,this.h),this.gf.x=b.x,this.gf.y=b.y,d&&this.h.ca.Vb(this.ab)):this.state===e.ra.pb.rm&&(v=b.x,q=b.y,d=0>v-this.jh?v:this.jh,b=0>q-this.kh?q:this.kh,v=Math.abs(v-this.jh),q=
Math.abs(q-this.kh),k=$("#annoteditselectrect"),0===k.length&&(k=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.h.el)),u=this.ub.x-this.cc.x,f=this.ub.y-this.cc.y,s=this.h.Bb(),p=this.cc.x-s.scrollLeft(),r=this.cc.y-s.scrollTop(),m=this.ub.x-s.scrollLeft(),n=this.ub.y-s.scrollTop(),w=this.h.kg(this.rd),h=this.h.jg(this.rd),r=Math.min(n,r),p=Math.min(m,p),m=this.docViewer.ai().zd({x:0,y:0},this.rd),y=this.docViewer.ai().zd({x:w,y:h},this.rd),w=Math.min(m.x,y.x),
h=Math.min(m.y,y.y),n=Math.max(m.x,y.x),m=Math.max(m.y,y.y),w-=s.scrollLeft(),h-=s.scrollTop(),h>r&&(f+=h-r,r=h),w>p&&(u+=w-p,p=w),n-=s.scrollLeft(),m-=s.scrollTop(),u=a.Ba.wa.Bk(Math.abs(u),0,n-p),f=a.Ba.wa.Bk(Math.abs(f),0,m-r),k.css({width:u,height:f,top:r,left:p,"z-index":"44",position:"absolute",border:"1px dotted black",display:"inline"}),this.ll=a.Ba.vt(d,b,v,q))}}},mouseLeftUp:function(){function a(){c.Wo=null;c.ll=null;c.state=e.ra.pb.NONE;$("#annoteditselectrect").css("display","none")}
var c=this;this.mousedown=!1;var f=this.h.ca;if(this.state===e.ra.pb.Vl)for(var k=f.Lf(),q=0;q<k.length;q++){var h=k[q];h.as&&(h.as=void 0,f.trigger("annotationChanged",[[h],"modify"]))}else this.state===e.ra.pb.sq?(k=this.mf.Ra,this.mf&&f.trigger("annotationChanged",[[k],"modify"])):this.state===e.ra.pb.Aj&&(this.ab&&f.trigger("annotationChanged",[[this.ab],"modify"]));if(this.state===e.ra.pb.rm){if(!this.ll){a();return}f=this.Ox(this.rd,this.ll);this.h.ca.Em(f)}a()},keyDown:function(b){46!==b.which&&
8!==b.which||(a.utils.isEditableElement($(b.target))||(b=this.h.ca.Lf(),this.h.ca.Vh(b)))},Ox:function(b,c){for(var f,k=[],e=this.h.ca.jc.filter(function(a){return a.ba()===b&&!a.ed()}),h=0;h<e.length;h++){f=e[h];var m=1;!0===f.NoZoom&&(m=this.h.Ga(f.ba()));a.Ba.fA(c,a.Ba.vt(f.Ve(),f.We(),f.Ta()/m,f.Oa()/m))&&k.push(f)}return k}});e.hq=function(b){e.Za.call(this,b,a.Annotations.yc)};e.hq.prototype=$.extend(new e.Za,{mouseLeftDown:function(a){this.annotation||(e.Za.prototype.mouseLeftDown.call(this,
a),this.annotation.Start={x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(a){if(this.annotation&&(c.prototype.mouseMove.call(this,a),"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var d=this.pageCoordinates[1];null!==d&&(null!==a&&(a.pageIndex===d.pageIndex&&(this.annotation.End={x:d.x,y:d.y},this.annotation.adjustRect(),this.h.ca.Vb(this.annotation))))}}});e.tq=function(b){e.Za.call(this,b,a.Annotations.Rg)};e.tq.prototype=new e.Za;e.Qp=function(b){e.Za.call(this,
b,a.Annotations.Hg)};e.Qp.prototype=new e.Za;e.FreeHandCreateTool=function(b){e.Za.call(this,b,a.Annotations.FreeHandAnnotation);this.Tc=0;this.Xn=null;this.Le=!1};e.FreeHandCreateTool.prototype=$.extend(new e.Za,{createDelay:1500,mouseLeftDown:function(a){c.prototype.mouseLeftDown.call(this,a);this.pageCoordinates[0]&&(this.Le=!0,this.annotation?this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1?this.annotation.Kb(this.pageCoordinates[0].x,this.pageCoordinates[0].y,this.Tc):(this.complete(),
e.FreeHandCreateTool.prototype.mouseLeftDown.call(this,a)):e.Za.prototype.mouseLeftDown.call(this,a),clearTimeout(this.Xn))},complete:function(){this.annotation&&0<this.annotation.Si().length?(this.annotation.finish(),e.Za.prototype.mouseLeftUp.call(this,null),this.Tc=0,this.Le=!1,clearTimeout(this.Xn)):this.annotation=null},kl:function(){this.complete()},switchOut:function(a){this.complete();e.Za.prototype.switchOut.call(this,a)},mouseLeftUp:function(){this.Le=!1;if(this.annotation){var a=this.h.ca,
c=this.annotation.getPath(this.Tc);c&&(4>c.length?(this.annotation.Si().pop(),this.annotation.adjustRect(),a.Vb(this.annotation)):(this.annotation.xA(0.75),a.Vb(this.annotation),this.Tc++),this.Xn=setTimeout(_.bind(this.complete,this),this.createDelay))}},mouseMove:function(a){!1!==this.Le&&(c.prototype.mouseMove.call(this,a),this.annotation&&(null!==this.pageCoordinates&&(null!==this.pageCoordinates[1]&&(this.pageCoordinates[0].pageIndex===this.pageCoordinates[1].pageIndex&&(this.annotation.Kb(this.pageCoordinates[1].x,
this.pageCoordinates[1].y,this.Tc),this.h.ca.Vb(this.annotation))))))},contextMenu:function(a){a.preventDefault()}});e.Kd=function(a,c){e.Ac.call(this,a);this.text=this.annotation=null;this.Gn=c};e.Kd.prototype=$.extend(new e.Ac,{switchIn:function(a){e.Ac.prototype.switchIn.call(this,a);this.h.mi({ag:!0})},switchOut:function(a){e.Ac.prototype.switchOut.call(this,a);this.h.mi({ag:!1})},mouseLeftDown:function(a){this.annotation||(e.Ac.prototype.mouseLeftDown.call(this,a),this.pageCoordinates&&(a=this.h.ca,
this.annotation=new this.Gn,this.annotation.Author=a.Ng()))},textSelected:function(a,c,f){this.annotation&&(this.pageCoordinates[0].pageIndex===a&&(0<c.length&&(this.annotation.lp(c.map(function(a){return a.Yp()})),this.annotation.PageNumber=a+1,this.text=f,this.h.ca.Vb(this.annotation))))},mouseLeftUp:function(a){this.annotation&&(e.Ac.prototype.mouseLeftUp.call(this,a),a=this.h.ca,!this.text||1>this.text.length?a.Ue(this.annotation):a.he(this.annotation),this.annotation=this.text=null)}});e.Dq=
function(b){e.Kd.call(this,b,a.Annotations.we)};e.Dq.prototype=new e.Kd;e.Hq=function(b){e.Kd.call(this,b,a.Annotations.Vg)};e.Hq.prototype=new e.Kd;e.Gq=function(b){e.Kd.call(this,b,a.Annotations.Rf)};e.Gq.prototype=$.extend(new e.Kd,{mouseLeftUp:function(){var a=this.annotation;e.Kd.prototype.mouseLeftUp.apply(this,arguments);var c=this.h.ca;a&&(c.Ze(a)&&(c.Qi(a),c.Vb(a)))}});e.Aq=function(a){c.call(this,a);this.annotation=null};e.Aq.prototype=$.extend(new e.Tool,{switchIn:function(){this.h.el.css("cursor",
"crosshair")},mouseLeftDown:function(b){if(!this.annotation&&(c.prototype.mouseLeftDown.call(this,b),b=this.pageCoordinates[0])){var d=this.h.ca;this.annotation=new Annotations.Jd;this.annotation.Author=d.nh;this.annotation.X=b.x;this.annotation.Y=b.y;this.annotation.PageNumber=b.pageIndex+1;this.annotation.Author=d.Ng();d.he(this.annotation);d.Vb(this.annotation);var f=this.annotation;setTimeout(function(){d.Qi(f)},500);this.annotation=null;this.h.Jm(a.La.ra)}}});e.kq=function(a){e.Tool.call(this,
a);this.annotation=null};e.kq.prototype=$.extend(new c,{switchIn:function(){this.h.el.css("cursor","crosshair")},mouseLeftDown:function(a){this.annotation||(c.prototype.mouseLeftDown.call(this,a),a=this.h.ca,this.annotation=new Annotations.Jd,this.annotation.Author=a.nh,this.annotation.Author=a.Ng())},mouseLeftUp:function(a){var d=this.pageCoordinates[1];null!==d&&(this.annotation&&(c.prototype.mouseLeftUp.call(this,a),this.annotation.PageNumber=d.pageIndex+1,this.annotation.X=d.x,this.annotation.Y=
d.y,a=this.h.ca,a.he(this.annotation),a.Vb(this.annotation)));this.annotation=null}});e.ji=function(c){e.Za.call(this,c,a.Annotations.Kj);this.annotation=null;this.ug=!1};e.ji.prototype=$.extend(new e.Za,{mouseLeftDown:function(a){var c;this.annotation?(e.Tool.prototype.mouseLeftDown.call(this,a),c=a.data.pageCoordinate,null!==c.x&&(null!==c.y&&(c.pageIndex!==this.annotation.ba()?this.mouseDoubleClick(a):(0===this.annotation.aa.length?this.annotation.Kb(c.x,c.y):this.ug||(this.annotation.Fh(),this.annotation.Kb(c.x,
c.y)),this.ug=!0)))):(e.Za.prototype.mouseLeftDown.call(this,a),this.annotation.X=0,this.annotation.Y=0,c=a.data.pageCoordinate,null!==c&&(null!==c.x&&(null!==c.y&&(this.annotation.Kb(c.x,c.y),this.ug=!0))))},mouseLeftUp:function(){},mouseMove:function(a){if(this.annotation&&(e.Tool.prototype.mouseMove.call(this,a),a=a.data.pageCoordinate,null!==a&&(null!==a.x&&(null!==a.y&&a.pageIndex===this.annotation.ba())))){this.ug||this.annotation.Fh();var c=this.annotation.getPath();0===c.length?(this.annotation.Kb(a.x,
a.y),this.ug=!1):0<c.length&&((c[c.length-1].x!==a.x||c[c.length-1].y!==a.y)&&(this.annotation.Kb(a.x,a.y),this.ug=!1));this.annotation.X=this.annotation.Da.x;this.annotation.Y=this.annotation.Da.y;this.h.ca.Vb(this.annotation)}},mouseDoubleClick:function(){if(this.annotation){this.annotation.finish();var a=this.annotation.Oa();0===this.annotation.Ta()&&0===a?this.h.ca.Ue(this.annotation):this.h.ca.he(this.annotation);this.annotation=null}},kl:function(a){this.annotation&&this.mouseDoubleClick(a)},
contextMenu:function(a){a.preventDefault()}});e.Jj=function(c){e.Za.call(this,c,a.Annotations.te);this.annotation=null;this.ug=!1};e.Jj.prototype={};e.Jj.prototype=$.extend(new e.ji,e.Jj.prototype);e.Sl=function(c){e.Za.call(this,c,a.Annotations.Aa,Annotations.Aa.Jc.FreeTextCallout)};e.Sl.prototype={};$.extend(e.Sl.prototype,e.ji.prototype,{mouseLeftDown:function(a){e.ji.prototype.mouseLeftDown.call(this,a);if(null!==this.annotation&&3<=this.annotation.getPath().length){4===this.annotation.getPath().length&&
this.annotation.Fh();var c=this.annotation.getPath()[2],f=this.h.jg(this.annotation.ba());c.x+150>this.h.kg(this.annotation.ba())&&(c.x-=150);c.y+15>f?c.y-=15:0>c.y-15&&(c.y+=15);this.annotation.Kb(c.x,c.y-15);this.annotation.Kb(c.x+150,c.y+15);this.h.ca.Vb(this.annotation);this.finish();a.preventDefault()}},mouseDoubleClick:function(){},kl:function(){if(null!==this.annotation){var a=this.annotation.jb();this.annotation=null;this.h.ca.wb(a)}},contextMenu:function(a){a.preventDefault()}});e.Up=function(c){e.Za.call(this,
c,a.Annotations.Aa)};e.Up.prototype=$.extend(new e.Za,{initialText:"Insert text here",mouseLeftDown:function(a){this.annotation||(e.Za.prototype.mouseLeftDown.call(this,a),this.annotation.FillColor=new Annotations.Color(200,220,250,0.2),this.annotation.pj(Annotations.Aa.Jc.FreeText),this.annotation.Jh(this.initialText))},mouseMove:function(a){if(this.annotation&&(c.prototype.mouseMove.call(this,a),"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var d=this.pageCoordinates[1];
null!==d&&(null!==a&&(a.pageIndex===d.pageIndex&&(a=new Annotations.ta(a.x,a.y,d.x,d.y),a.normalize(),this.annotation.Bg(a),this.annotation.Lh(new Annotations.ta(0,0,0,0)),this.h.ca.Vb(this.annotation))))}},mouseLeftUp:function(a){e.Tool.prototype.mouseLeftUp.call(this,a);if(this.annotation){var c=this.annotation.Oa();a=this.h.ca;0===this.annotation.Ta()&&0===c?a.Ue(this.annotation):(c=this.annotation.getRectPadding(),this.annotation.Lh(new Annotations.ta(c,c,c,c)),this.annotation.StrokeThickness=
0,this.annotation.FillColor=new Annotations.Color(255,255,255,0),this.h.ca.he(this.annotation),this.h.ca.Vb(this.annotation),a.Qi(this.annotation));this.annotation=null}}})})(window);
(function(a){function h(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}var e;if(!(e=!Object.defineProperty)){var c;try{Object.defineProperty({},"x",{}),c=!0}catch(b){c=!1}e=!c}e&&(Object.defineProperty=function(a,k,c){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&("get"in c&&Object.prototype.__defineGetter__.call(a,k,c.get));Object.prototype.__defineSetter__&&
("set"in c&&Object.prototype.__defineSetter__.call(a,k,c.set));"value"in c&&(a[k]=c.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,k){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var c in k)Object.prototype.hasOwnProperty.call(k,c)&&Object.defineProperty(a,c,k[c]);return a});a.Annotations=a.Annotations||{};var d=a.Annotations;d.Annotation=function(){this.Subject="Annotation";this.Nm=this.Qm=this.Sm=this.Rm=
this.Vq=0;this.Pq=void 0;this.$v=this.lB=this.Zv=!1;this.Zq=void 0;this.$m=new Date;this.xr=h();this.en=!0;this.Zg=this.Ar=this.jn=!1;this.xn=!0;this.pk=[]};d.Annotation.prototype={elementName:"annotation",draw:function(){},Bg:function(a){var k=this.ud();a=new d.ta(a.x1,a.y1,a.x2,a.y2);0>a.dd()&&(a.x1=k.x1,a.x2=k.x2);0>a.Pc()&&(a.y1=k.y1,a.y2=k.y2);this.X=a.x1;this.Y=a.y1;this.Width=a.dd();this.Height=a.Pc()},adjustRect:function(){},resize:function(a){this.Bg(a)},Xe:function(){return this.X},jx:function(a){this.X=
parseFloat(a)},Ye:function(){return this.Y},kx:function(a){this.Y=parseFloat(a)},Ta:function(){return this.Width},hx:function(a){this.Width=parseFloat(a)},Oa:function(){return this.Height},Uw:function(a){this.Height=parseFloat(a)},ud:function(){return new d.ta(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},jb:function(){return this.PageNumber},ba:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},xq:function(a){this.PageNumber=
parseInt(a,10)},Ve:function(){return this.Xe()},Zp:function(){return this.Ve()+this.Width},We:function(){return this.Ye()},Vp:function(){return this.We()+this.Height},gv:function(){return this.Custom},Qw:function(a){this.Custom=a},vv:function(){return this.rf()},cx:function(a){this.Jh(a)},rf:function(){return this.Zz},Jh:function(a){this.Zz=a;this.Uc()},$f:function(a){this.pk.push(a)},ao:function(a){a=this.pk.indexOf(a);-1<a&&this.pk.splice(a,1)},Ti:function(){return this.pk},ed:function(){return!(_.isUndefined(this.InReplyTo)||
_.isNull(this.InReplyTo))},Uc:function(){this.isImporting||(this.$m=new Date);this.en||(this.jn=!0)},serialize:function(f,k){var c=$(f),b=d.xa,e=this.ud();e.Is();e={subject:this.Subject,page:this.ba(),rect:b.El(e,k)};this.Id&&(e.name=this.Id);this.Author&&(e.title=this.Author);this.DateModified&&(e.date=b.tp(this.DateModified));c.attr(e);if(b=this.rf()){var e=document.createElementNS("","contents-richtext"),h;if(a.utils.xmlSerializerNamespaceSupported){h=document.createElementNS("http://www.w3.org/1999/xhtml",
"body");var p=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");p.nodeValue="2.0.2";h.setAttributeNodeNS(p);p=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");p.nodeValue="Acrobat:10.1.3";h.setAttributeNodeNS(p);h=$(h)}else h=$("<body>").attr({xmlns:"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});h.appendTo($(e));h=$('<p dir="ltr"></p>').appendTo(h);
p=";font-weight:normal;font-style:normal";p=this instanceof d.Aa?d.xa.Zt(this)+p:"font-size:10.0pt;text-align:left;color:#000000"+p;$('<span dir="ltr" style="'+p+'"></span>').text(b).appendTo(h);c.append(e);b=$(document.createElementNS("","contents")).text(b);c.append(b)}return f},ty:function(a){return(a=$(a).prop("nodeName"))&&this.elementName?a.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(a,k){var c=$(a),b=d.xa,e=$(a).attr("page"),e=parseInt(e,10);this.PageNumber=e+1;
e=c.attr("rect")||"0,0,100,100";e=b.ys(e,k);e.normalize();this.Bg(e);this.Id=c.attr("name");this.Author=c.attr("title");"undefined"!==typeof c.attr("subject")&&(this.Subject=c.attr("subject"));e=c.attr("flags");"undefined"!==typeof e&&(this.NoZoom=-1!==e.indexOf("nozoom"),this.NoRotate=-1!==e.indexOf("norotate"),this.Hidden=-1!==e.indexOf("hidden"));(c=c.attr("date"))&&(this.DateModified=b.Fk(c));b="";e=a.getElementsByTagName("contents-richtext");if(0<e.length)if(c=e[0].getElementsByTagName("body"),
0<c.length)if(e=c[0].getElementsByTagName("span"),0<e.length)for(c=0;c<e.length;++c)b+=$(e[c]).text();else b=$(c[0]).text();else b=$(e[0]).text();else c=a.getElementsByTagName("contents"),0<c.length&&(b=$(c[0]).text());this.Jh(b)}};Object.defineProperties(d.Annotation.prototype,{X:{get:function(){return this.Rm},set:function(a){this.Rm=parseFloat(a);this.Uc()}},Y:{get:function(){return this.Sm},set:function(a){this.Sm=parseFloat(a);this.Uc()}},Width:{get:function(){return this.Qm},set:function(a){this.Qm=
parseFloat(a);this.Uc()}},Height:{get:function(){return this.Nm},set:function(a){this.Nm=parseFloat(a);this.Uc()}},NoMove:{get:function(){return this.Tq},set:function(a){this.Tq=!0===a||"true"===a}},NoResize:{get:function(){return this.Uq},set:function(a){this.Uq=!0===a||"true"===a}},PageNumber:{get:function(){return this.Vq},set:function(a){this.Vq=parseInt(a,10)}},DateModified:{get:function(){return this.$m},set:function(a){this.$m=a instanceof Date?a:new Date(a)}},Id:{get:function(){return this.xr},
set:function(a){this.xr=a}},Author:{get:function(){return this.Zq},set:function(a){this.Zq=a}},IsAdded:{get:function(){return this.en},set:function(a){this.en=a}},IsModified:{get:function(){return this.jn},set:function(a){this.jn=a}},IsDeleted:{get:function(){return this.Ar},set:function(a){this.Ar=a}},Filtered:{get:function(){return this.Zg},set:function(a){this.Zg=a}},Custom:{get:function(){return this.Pq},set:function(a){this.Pq=a}}});d.Bc=function(){d.Annotation.call(this);this.ir=this.qr=this.pr=
void 0;this.Kr=this.Qr=this.Or=!1;this.Pr=[];this.nr=void 0;this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"]};d.Bc.prototype={};d.Bc.prototype=$.extend(!0,new d.Annotation,d.Bc.prototype);Object.defineProperties(d.Bc.prototype,{FieldName:{get:function(){return this.pr},set:function(a){this.pr=a}},FieldValue:{get:function(){return this.qr},set:function(a){this.qr=a}},DefaultValue:{get:function(){return this.ir},set:function(a){this.ir=a}},ReadOnly:{get:function(){return this.Or},set:function(a){this.Or=
a}},Required:{get:function(){return this.Qr},set:function(a){this.Qr=a}},NoExport:{get:function(){return this.Kr},set:function(a){this.Kr=a}},Rect:{get:function(){return this.Pr},set:function(a){this.Pr=a}},Element:{get:function(){return this.nr},set:function(a){this.nr=a}}});d.xe=function(){d.Bc.call(this);this.jr=this.Nr=this.Jr=!1};d.xe.prototype={};d.xe.prototype=$.extend(new d.Bc,d.xe.prototype);Object.defineProperties(d.xe.prototype,{Multiline:{get:function(){return this.Jr},set:function(a){this.Jr=
a}},Password:{get:function(){return this.Nr},set:function(a){this.Nr=a}},DoNotScroll:{get:function(){return this.jr},set:function(a){this.jr=a}}});d.le=function(){d.Bc.call(this);this.yr=void 0;this.Mr=[]};d.le.prototype={};d.le.prototype=$.extend(new d.Bc,d.le.prototype);Object.defineProperties(d.le.prototype,{IsCombo:{get:function(){return this.yr},set:function(a){this.yr=a}},Options:{get:function(){return this.Mr},set:function(a){this.Mr=a}}});d.je=function(){d.Bc.call(this);this.$q=void 0};d.je.prototype=
{};d.je.prototype=$.extend(new d.Bc,d.je.prototype);Object.defineProperties(d.je.prototype,{ButtonType:{get:function(){return this.$q},set:function(a){this.$q=a}}});d.Nj=function(){d.Bc.call(this)};d.Nj.prototype=$.extend(new d.Bc,d.Bc.prototype);d.af=function(){d.Annotation.call(this);this._isOpen=!1};d.af.prototype={isOpen:function(){return this._isOpen},Kh:function(a){this._isOpen=a},deserialize:function(a,k){d.Annotation.prototype.deserialize.apply(this,arguments);var c=a.getAttribute("open");
this.Kh(c&&"yes"===c)}};d.af.prototype=$.extend(new d.Annotation,d.af.prototype);d.fa=function(){d.Annotation.call(this);this.gc=new d.Color(0,0,0,0);this.Tf=new d.Color(0,0,0);this.Uf=1;this.hr=new Date;this.xi=null};d.fa.prototype={Cb:function(a){null!==this.Opacity&&(a.globalAlpha=this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===this.StrokeThickness?0.001:this.po()},He:function(){return this.xi},
kp:function(a){this.xi=a},po:function(){return 4/3*this.StrokeThickness},serialize:function(a,k){var c=d.Annotation.prototype.serialize.apply(this,arguments),b=d.xa,e={},h=b.nj(this.StrokeColor);null!==h&&(e.color=h);b=b.nj(this.FillColor);null!==b&&(e["interior-color"]=b);_.isUndefined(this.StrokeThickness)||(_.isNull(this.StrokeThickness)||(e.width=this.StrokeThickness));_.isUndefined(this.Opacity)||(_.isNull(this.Opacity)||(e.opacity=this.Opacity));this.fringe&&(e.fringe=d.xa.ip(this.fringe,k));
this.DateCreated&&(e.creationdate=d.xa.tp(this.DateCreated));$(c).attr(e);this.xi&&(e=this.xi.isOpen()?"yes":"no",b=$(document.createElementNS("","popup")),h=this.xi.ud(),h.Is(),b.attr({flags:"print,nozoom,norotate",page:this.ba(),rect:d.xa.El(h,k)}).appendTo($(c)),b[0].setAttribute("open",e));return c},deserialize:function(a,k){d.Annotation.prototype.deserialize.apply(this,arguments);var c=$(a),b=d.xa,e=c.attr("opacity");"undefined"!==typeof e&&(this.Opacity=parseFloat(e));e=c.attr("width");"undefined"!==
typeof e&&(this.Uf=parseFloat(e));e=c.attr("fringe");"undefined"!==typeof e&&(this.fringe=b.My(e,k));e=b.oh(c.attr("color"));null!==e&&(this.StrokeColor=e);e=b.oh(c.attr("interior-color"));this.FillColor=null!==e?e:new d.Color(0,0,0,0);(e=c.attr("creationdate"))&&(this.DateCreated=b.Fk(e));c=c.find("popup");b=this.He()||new d.af;0<c.length?b.deserialize(c[0],k):(b.PageNumber=this.PageNumber,b.Bg(new d.ta(0,0,150,100)));this.kp(b)},selectionModel:d.ia};d.fa.prototype=$.extend(!0,new d.Annotation,d.fa.prototype);
Object.defineProperties(d.fa.prototype,{FillColor:{get:function(){return this.gc},set:function(a){a instanceof d.Color&&(this.gc=a,this.Uc())}},StrokeColor:{get:function(){return this.Tf},set:function(a){a instanceof d.Color&&(this.Tf=a,this.Uc())}},StrokeThickness:{get:function(){return this.Uf},set:function(a){this.Uf=parseFloat(a);this.Uc();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=parseFloat(a);this.Uc()}},DateCreated:{get:function(){return this.hr},
set:function(a){this.hr=a instanceof Date?a:new Date(a)}}});d.yc=function(){d.fa.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.ih=this.Wj=this.End=this.Start=this.gc=null};d.yc.prototype={elementName:"line",resize:function(a){var k=a.x1;a=a.y1;var c=k-this.X,b=a-this.Y;if(0!==c||0!==b)this.Start.x+=c,this.Start.y+=b,this.End.x+=c,this.End.y+=b,this.X=k,this.Y=a},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){var a=this.getRectPadding();
this.X=Math.min(this.Start.x,this.End.x)-a;this.Y=Math.min(this.Start.y,this.End.y)-a;this.Width=Math.abs(this.Start.x-this.End.x)+2*a;this.Height=Math.abs(this.Start.y-this.End.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},du:function(a,k){this.Start=new d.Point(a,k)},oz:function(){return this.Start},setEndPoint:function(a,k){this.End=new d.Point(a,k)},bz:function(){return this.End},Mh:function(a){this.ih=a},Vi:function(){return this.ih},au:function(a){this.Wj=a},Vs:function(){return this.Wj},
draw:function(a){this.Cb(a);this.Start&&this.End?(this.Cb(a),a.beginPath(),a.moveTo(this.Start.x,this.Start.y),a.lineTo(this.End.x,this.End.y),a.stroke(),_.isNull(this.ih)||("None"===this.ih||d.Lm.fo(a,this.Start,this.End,this.StrokeThickness)),_.isNull(this.Wj)||("None"===this.Wj||d.Lm.fo(a,this.End,this.Start,this.StrokeThickness))):(this.Cb(a),a.beginPath(),a.moveTo(0,0),a.lineTo(this.Ta(),this.Oa()),a.stroke())},serialize:function(a,k){a=d.fa.prototype.serialize.apply(this,arguments);var c=new d.Point(this.Start.x,
this.Start.y),b=new d.Point(this.End.x,this.End.y),e=d.xa;$(a).attr({start:e.jp(c,k),end:e.jp(b,k),head:this.Vi(),tail:this.Vs()});return a},deserialize:function(a,k){d.fa.prototype.deserialize.apply(this,arguments);var c=d.xa,b=$(a),e=c.xs(b.attr("start"),k);null!==e&&this.du(e.x,e.y);c=c.xs(b.attr("end"),k);null!==c&&this.setEndPoint(c.x,c.y);this.Mh(b.attr("head")||"None");this.au(b.attr("tail")||"None");this.adjustRect();this.gc=null},selectionModel:d.fi};d.yc.prototype=$.extend(new d.fa,d.yc.prototype);
d.Rg=function(){d.fa.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var a=this.getRectPadding();this.fringe=new d.ta(a,a,a,a)};d.Rg.prototype={elementName:"square",draw:function(a){this.Cb(a);a.lineWidth*=2;a.beginPath();var k=this.ud();k.x1+=this.fringe.x1;k.y1+=this.fringe.y1;k.x2-=this.fringe.x2;k.y2-=this.fringe.y2;a.moveTo(k.x1,k.y1);a.lineTo(k.x2,k.y1);a.lineTo(k.x2,k.y2);a.lineTo(k.x1,k.y2);a.closePath();a.clip();a.fill();a.stroke()},getRectPadding:function(){return 0}};
d.Rg.prototype=$.extend(new d.fa,d.Rg.prototype);d.Th=function(){d.fa.call(this);this["_xsi:type"]="Caret";this.Subject=i18n.t("annotations.types.caret");this.gc=null};d.Th.prototype={elementName:"caret",draw:function(a){this.Cb(a);a.beginPath();a.fillStyle=this.StrokeColor.toString();var k=this.ud(),c=(k.x1+k.x2)/2,b=k.y1+3*this.Height/4;a.moveTo(c,k.y1);a.quadraticCurveTo(c,b,k.x1,k.y2);a.lineTo(k.x2,k.y2);a.quadraticCurveTo(c,b,c,k.y1);a.closePath();a.fill();a.stroke()},selectionModel:d.ia};d.Th.prototype=
$.extend(new d.fa,d.Th.prototype);d.Hg=function(){d.fa.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var a=this.getRectPadding();this.fringe=new d.ta(a,a,a,a)};d.Hg.prototype={elementName:"circle",draw:function(a){this.Cb(a);var k=this.X+this.fringe.x1,c=this.Y+this.fringe.y1,b=this.Ta()-this.fringe.x1-this.fringe.x2,d=this.Oa()-this.fringe.y1-this.fringe.y2,e=Math.min(b,d);a.lineWidth>=e&&(a.lineWidth=e-1);e=(b-a.lineWidth)/(d-a.lineWidth);isNaN(e)||(Infinity===
e||(a.save(),a.translate(k+(1-e)*b/2,c),a.scale(e,1),a.beginPath(),a.arc(0.5*b,0.5*d,Math.max(0.5*d-a.lineWidth/2,0),0,2*Math.PI,!1),a.restore(),a.fill(),a.stroke()))},getRectPadding:function(){return 0},selectionModel:d.ia};d.Hg.prototype=$.extend(new d.fa,d.Hg.prototype);d.Tg=function(){d.fa.call(this);this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");this.Icon="Draft";this.Tf=this.gc=null;this.Hy="bold italic "+this.ku+"px Verdana"};d.Tg.prototype={elementName:"stamp",padding:20,
ku:30,$n:10,draw:function(a){this.Cb(a);a.translate(this.X,this.Y);if(this.image)a.drawImage(this.image,0,0,this.Width,this.Height);else if("SHAccepted"===this.Icon)a.lineWidth=0.2*Math.min(this.Width,this.Height),a.strokeStyle="#426922",a.beginPath(),a.moveTo(0.05*this.Width,0.5*this.Height),a.lineTo(0.4*this.Width,0.85*this.Height),a.lineTo(0.95*this.Width,0.05*this.Height),a.stroke();else if("SBRejected"===this.Icon)a.lineWidth=0.2*Math.min(this.Width,this.Height),a.strokeStyle="#8F110F",a.beginPath(),
a.moveTo(0.05*this.Width,0.05*this.Height),a.lineTo(0.95*this.Width,0.95*this.Height),a.moveTo(0.95*this.Width,0.05*this.Height),a.lineTo(0.05*this.Width,0.95*this.Height),a.stroke();else{var k=this.Zy();a.fillStyle=k.fill;a.strokeStyle=k.jl;a.lineWidth=1;var c=this.$n;if(this.Ta()<=2*this.$n||this.Oa()<=2*this.$n)c=Math.min(this.Ta()/2,this.Oa()/2);this.Qy(a,0,0,this.Ta(),this.Oa(),c);a.font=this.Hy;a.fillStyle=k.jl;k=this.hu.toUpperCase();c=a.measureText(k).width+2*this.padding;a.save();var c=this.Ta()/
c,b=this.Oa()/(1.5*this.ku);a.scale(c,b);a.textBaseline="middle";a.textAlign="center";a.fillText(k,this.Ta()/(2*c),this.Oa()/(2*b));a.restore()}},qz:function(){var a=this.Icon;if(this.Eb[a])return this.Eb[a];if(0===a.indexOf("SB")||0===a.indexOf("SH")){var k=this.Eb[a.substring(2)];if(k)return k}return a},Zy:function(){var a=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),k={jl:"rgba(145, 15, 5, "+a+")",fill:"rgba(242, 230, 227, "+0.7*a+")"},c={jl:"rgba(65, 106, 28, "+a+")",fill:"rgba(215, 226, 207, "+
0.7*a+")"},a={jl:"rgba(24, 37, 100, "+a+")",fill:"rgba(224, 235, 246, "+0.7*a+")"};switch(this.hu){case this.Eb.Approved:case this.Eb.Completed:case this.Eb.Final:return c;case this.Eb.Asis:case this.Eb.Confidential:case this.Eb.Departmental:case this.Eb.Draft:case this.Eb.Experimental:case this.Eb.ForComment:case this.Eb.ForPublicRelease:case this.Eb.NotForPublicRelease:case this.Eb.Sold:case this.Eb.TopSecret:return a;case this.Eb.Expired:case this.Eb.NotApproved:case this.Eb.Void:return k;default:return a}},
Eb:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},Qy:function(a,k,c,b,d,e){a.beginPath();a.moveTo(k+e,c);
a.lineTo(k+b-e,c);a.quadraticCurveTo(k+b,c,k+b,c+e);a.lineTo(k+b,c+d-e);a.quadraticCurveTo(k+b,c+d,k+b-e,c+d);a.lineTo(k+e,c+d);a.quadraticCurveTo(k,c+d,k,c+d-e);a.lineTo(k,c+e);a.quadraticCurveTo(k,c,k+e,c);a.closePath();a.fill();a.stroke()},serialize:function(a,k){var c=d.fa.prototype.serialize.apply(this,arguments),b=$(c);b.attr("icon",this.Icon);this.image&&$(document.createElementNS("","imagedata")).text(this.image.src).appendTo(b);return c},deserialize:function(a,k){d.fa.prototype.deserialize.apply(this,
arguments);var c=$(a),b=c.attr("icon");b?this.Icon=b:this.Subject&&(this.Icon=this.Subject);c=c.find("imagedata");0<c.length&&(this.ImageData=c.text())}};d.Tg.prototype=$.extend(new d.fa,d.Tg.prototype,a.utils.eventHandler);Object.defineProperties(d.Tg.prototype,{Icon:{get:function(){return this.Cx},set:function(a){this.Cx=a;this.hu=this.qz();this.Uc()}},ImageData:{get:function(){return this.image.src},set:function(a){this.image||(this.image=new Image);this.xn=!1;this.image.src=a;var k=this;this.image.onload=
function(){k.xn=!0;k.trigger("resourcesLoaded")};this.Uc()}},FillColor:{get:function(){return this.gc},set:function(){}},StrokeColor:{get:function(){return this.Tf},set:function(){}}});d.wc=function(){d.fa.call(this);this.aa=[];this.Da={x:0,y:0};this.Wa={x:0,y:0}};d.wc.prototype={Kb:function(a,k){var c=this.getRectPadding();this.aa.push(new d.Point(a,k));1===this.aa.length?(this.Da={x:a,y:k},this.Wa={x:a,y:k},this.X=a-c,this.Y=k-c):(a>this.Wa.x&&(this.Width=a-this.Da.x+2*c,this.Wa.x=a),k>this.Wa.y&&
(this.Height=k-this.Da.y+2*c,this.Wa.y=k),a<this.Da.x&&(this.Width=this.Wa.x-a+2*c,this.X=a-c,this.Da.x=a),k<this.Da.y&&(this.Height=this.Wa.y-k+2*c,this.Y=k-c,this.Da.y=k))},Bd:function(a,k,c){this.aa&&this.aa.length>a?(this.aa[a].x=k,this.aa[a].y=c,this.adjustRect()):this.aa&&(this.aa.length===a&&this.Kb(k,c))},uf:function(a){return this.aa&&this.aa.length>a?this.aa[a]:null},Fh:function(){var a=this.aa.pop();this.adjustRect();return a},getPath:function(){return this.aa},setPath:function(a){this.aa=
a;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.aa.length){this.Da={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.Wa={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var a=0;a<this.aa.length;a++)if(null!==this.aa[a]){var k=this.aa[a].x,c=this.aa[a].y;k>this.Wa.x&&(this.Wa.x=k);c>this.Wa.y&&(this.Wa.y=c);k<this.Da.x&&(this.Da.x=k);c<this.Da.y&&(this.Da.y=c)}a=this.getRectPadding();this.X=this.Da.x-a;this.Y=this.Da.y-a;this.Width=Math.max(0,this.Wa.x-
this.Da.x)+2*a;this.Height=Math.max(0,this.Wa.y-this.Da.y)+2*a}},selectionModel:d.Qg};d.wc.prototype=$.extend(new d.fa,d.wc.prototype);d.FreeHandAnnotation=function(){d.fa.call(this);this.pa=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Da={x:0,y:0};this.Wa={x:0,y:0};this.hn=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.gc=null};d.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!0,Kb:function(a,
k,c){"undefined"===typeof c&&(c=0);if(c===this.pa.length)this.pa.push([]);else if(c>this.pa.length){console.warn("FreeHandAnnotation addPointPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,a);this.RightMost=Math.max(this.RightMost,a);this.TopMost=Math.min(this.TopMost,k);this.BottomMost=Math.max(this.BottomMost,k);var b=this.getRectPadding();this.Rm=this.LeftMost-b;this.Sm=this.TopMost-b;this.Qm=this.RightMost-this.LeftMost+2*b;this.Nm=this.BottomMost-this.TopMost+2*
b;this.pa[c].push(new d.Point(a,k))},Bd:function(a,k,c,b){"undefined"===typeof b&&(b=0);var d=null;this.pa.length>b?(d=this.pa[b],d.length>a?(d[a].x=k,d[a].y=c,this.adjustRect()):d.length===a&&this.Kb(k,c,b)):this.pa.length===b?this.Kb(k,c,b):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},uf:function(a,k){"undefined"===typeof k&&(k=0);return this.pa&&(this.pa.length>k&&this.pa[k].length>a)?this.pa[k][a]:null},Fh:function(a){"undefined"===typeof a&&(a=0);var k=null;this.pa.length>
a&&(k=this.pa[a].pop(),this.adjustRect());return k},getPath:function(a){"undefined"===typeof a&&(a=0);return this.pa.length>a?this.pa[a]:null},setPath:function(a,k){"undefined"===typeof k&&(k=0);this.pa.length<k?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.pa.length>k?this.pa[k]=a:this.pa.length===k&&this.pa.push(a);this.adjustRect()},finish:function(){this.hn||(this.Uc(),this.hn=!0)},resize:function(a){var k=a.x1,c=a.y1,b=a.dd(),d=a.Pc();a=c-this.Y;if(!(0===k-this.X&&
(0===a&&(b===this.Width&&d===this.Height))||(1>b||1>d))){var e=a=1;"undefined"!==typeof b&&("undefined"!==typeof d&&(a=d/this.Height,e=b/this.Width,Math.min(a,e),this.Width=b,this.Height=d));for(b=0;b<this.pa.length;b++)for(d=0;d<this.pa[b].length;d++)this.pa[b][d].x=(this.pa[b][d].x-this.X)*e+k,this.pa[b][d].y=(this.pa[b][d].y-this.Y)*a+c;this.X=k;this.Y=c}},draw:function(a){for(var k=this.Si(),c=0;c<k.length;c++)this.Py(a,k[c])},Si:function(){return this.pa},xA:function(a,k){if(this.shouldSimplifyPath)for(var c=
0;c<this.pa.length;c++){var b=window.simplify(this.getPath(c),a,k);this.setPath(b,c)}},Py:function(a,k){var c="undefined"===typeof k?0:k.length,b=!1;if(3<=c){b=!0;a.beginPath();a.moveTo(k[0].x,k[0].y);for(c=1;c<k.length-2;c++)a.quadraticCurveTo(k[c].x,k[c].y,(k[c].x+k[c+1].x)/2,(k[c].y+k[c+1].y)/2);c+1<k.length&&a.quadraticCurveTo(k[c].x,k[c].y,k[c+1].x,k[c+1].y)}else 2===c&&(b=!0,a.beginPath(),a.moveTo(k[0].x,k[0].y),a.lineTo(k[1].x,k[1].y));b&&(this.Cb(a),a.lineCap="round",a.lineJoin="round",a.stroke())},
adjustRect:function(){if(0!==this.pa.length){this.Da={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.Wa={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var a,k;for(a=0;a<this.pa.length;a++)for(k=0;k<this.pa[a].length;k++)if(null!==this.pa[a][k]){var c=this.pa[a][k].x,b=this.pa[a][k].y;c>this.Wa.x&&(this.Wa.x=c);b>this.Wa.y&&(this.Wa.y=b);c<this.Da.x&&(this.Da.x=c);b<this.Da.y&&(this.Da.y=b)}a=this.getRectPadding();this.X=this.Da.x-a;this.Y=this.Da.y-a;this.Width=Math.max(0,this.Wa.x-this.Da.x)+2*a;this.Height=
Math.max(0,this.Wa.y-this.Da.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},serialize:function(a,k){for(var c=d.fa.prototype.serialize.apply(this,arguments),b=$(document.createElementNS("","inklist")),e=this.Si(),h=0;h<e.length;h++)if(!(1>e[h].length)){var p=d.xa.oj(e[h],k);$(document.createElementNS("","gesture")).text(p).appendTo(b)}$(c).append(b);return c},deserialize:function(a,k){d.fa.prototype.deserialize.apply(this,arguments);var c=this;c.pa=[];$(a).find("inklist gesture").each(function(){var a=
$(this).text(),a=d.xa.Li(a,k),a=this.shouldSimplifyPath?window.simplify(a,0.5):a;c.pa.push(a)});this.adjustRect();this.gc=null},selectionModel:d.ia};d.FreeHandAnnotation.prototype=$.extend(new d.fa,d.FreeHandAnnotation.prototype);d.te=function(){d.fa.call(this);this.aa=[];this.hn=!1;this["_xsi:type"]="Polygon";this.Subject=i18n.t("annotations.types.polygon");this.Da={x:0,y:0};this.Wa={x:0,y:0}};d.te.prototype={elementName:"polygon",resize:function(a){var k=a.x1;a=a.y1;var c=k-this.X,b=a-this.Y;if(0!==
c||0!==b){for(var d=0;d<this.aa.length;d++)this.aa[d].x+=c,this.aa[d].y+=b;this.X=k;this.Y=a}},finish:function(){this.adjustRect()},draw:function(a){this.Cb(a);for(var k=0;k<this.aa.length;k++){var c=this.aa[k];0===k?(a.beginPath(),a.moveTo(c.x,c.y)):a.lineTo(c.x,c.y)}1<this.aa.length&&(a.closePath(),a.lineJoin="round",a.fill(),a.stroke())},serialize:function(a,k){var c=d.fa.prototype.serialize.apply(this,arguments),b=this.getPath();b&&(0<b.length&&$(document.createElementNS("","vertices")).text(d.xa.oj(b,
k)).appendTo($(c)));return c},deserialize:function(a,k){d.fa.prototype.deserialize.apply(this,arguments);var c=$(a).find("vertices");0<c.length&&(c=c.text(),this.aa=d.xa.Li(c,k));this.adjustRect()},selectionModel:d.Qg};d.te.prototype=$.extend(new d.wc,d.te.prototype);d.Kj=function(){d.te.call(this);this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.gc=null};d.Kj.prototype=$.extend(new d.te,{elementName:"polyline",draw:function(a){this.Cb(a);for(var k=0;k<this.aa.length;k++){var c=
this.aa[k];0===k?(a.beginPath(),a.moveTo(c.x,c.y)):a.lineTo(c.x,c.y)}1<this.aa.length&&(a.lineJoin="round",a.stroke())},deserialize:function(a,k){d.te.prototype.deserialize.apply(this,arguments);this.adjustRect();this.gc=null}});d.Aa=function(a){d.wc.call(this);this.aa=[];this.Da={x:0,y:0};this.Wa={x:0,y:0};this["_xsi:type"]="FreeText";this.Subject=i18n.t("annotations.types.freetext");this.StrokeThickness=1;this.pj(a);this.dl="left";this.TextColor=new d.Color(255,0,0);this.Font="Verdana";this.FontSize=
"12px";this.TextAlign="left"};d.Aa.Jc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};d.Aa.prototype={elementName:"freetext",rh:function(){return this.intent},pj:function(a){this.intent=a||d.Aa.Jc.FreeText;a!==d.Aa.Jc.FreeTextCallout?(this.selectionModel=d.$h,this.Subject=i18n.t("annotations.types.freetext")):(this.Mh("OpenArrow"),this.selectionModel=d.yj,this.Subject=i18n.t("annotations.types.callout"))},Mh:function(a){this.ih=a},Vi:function(){return this.ih},
Kb:function(a,k){5>this.aa.length&&d.wc.prototype.Kb.call(this,a,k)},adjustRect:function(){this.rh()===d.Aa.Jc.FreeTextCallout&&d.wc.prototype.adjustRect.apply(this,arguments)},resize:function(a){if(this.rh()===d.Aa.Jc.FreeTextCallout){var k=a.y1-this.Y,c=a.dd()/this.Width,b=a.Pc()/this.Height;if(0!==a.x1-this.X||(0!==k||(1!==c||1!==b))){for(k=0;k<this.aa.length;k++)null!==this.aa[k]&&(this.aa[k].x=(this.aa[k].x-this.X)*c+a.x1,this.aa[k].y=(this.aa[k].y-this.Y)*b+a.y1);this.adjustRect()}}else this.Bg(a),
a=this.getRectPadding(),this.Lh(new d.ta(a,a,a,a))},getRectPadding:function(){return this.rh()===d.Aa.Jc.FreeTextCallout?this.StrokeThickness/2:0},Lh:function(a){for(var k=this.getPath();5>k.length;)k.push(null);5<=k.length&&(k[3]=new d.Point(this.X+a.x1,this.Y+a.y2),k[4]=new d.Point(this.X+this.Width-a.x2,this.Y+this.Height-a.y1))},$s:function(){var a=this.aa[3],k=this.aa[4];return new d.ta(a.x-this.X,this.Y+this.Height-k.y,this.X+this.Width-k.x,a.y-this.Y)},ro:function(){return this.FontSize.slice(-2)||
"px"},Xs:function(){var a=parseFloat(this.FontSize);"px"===this.ro(a)&&(a*=0.75);return a},VA:function(a,k,c,b,d,e){for(var h,r=k.split("\n"),s=0;s<r.length;s++){for(var u=r[s].split(" "),w="",y=0;y<u.length;y++){k=u[y];for(h=a.measureText(k);h.width>d&&!(1>=k.length);)k=k.substring(0,k.length-1),h=a.measureText(k);u[y]!==k&&(u.splice(y+1,0,u[y].substr(k.length)),u[y]=k);k=w+u[y];h=a.measureText(k);h.width>d&&0<y?(a.fillText(w,c,b),w=u[y]+" ",b+=e):w=k+" "}a.fillText(w.slice(0,-1),c,b);b+=e}},draw:function(a){var k;
this.Cb(a);if(this.rh()===d.Aa.Jc.FreeTextCallout){for(var c=Math.min(3,this.aa.length),b=0;b<c;b++)k=this.aa[b],0===b?(a.beginPath(),a.moveTo(k.x,k.y)):a.lineTo(k.x,k.y);1<this.aa.length&&(a.lineJoin="round",a.stroke(),a.lineJoin="miter");2<=this.aa.length&&d.Lm.fo(a,this.aa[0],this.aa[1],this.StrokeThickness)}if(5===this.aa.length){k=this.aa[3];var e=this.aa[4],c=k.x,b=k.y,h=e.x-k.x,p=e.y-k.y;a.save();a.beginPath();a.rect(c,b,h,p);a.closePath();a.fill();0<this.StrokeThickness&&(a.clip(),a.lineWidth*=
2,a.strokeRect(c,b,h,p));a.restore();k=this.rf();if("undefined"!==typeof k){a.textBaseline="top";a.fillStyle=this.TextColor.toString();var r=a.lineWidth,e=2+r;a.save();a.beginPath();a.rect(c+r,b+r,Math.max(h-2*r,0),Math.max(p-2*r));a.closePath();a.clip();a.textAlign=this.TextAlign;a.font=this.FontSize+" "+this.Font;p=parseFloat(this.FontSize);"pt"===this.ro()&&(p*=4/3);r=c+e;"center"===this.TextAlign?r=c+h/2:"right"===this.TextAlign&&(r=c+h-e);this.VA(a,k,r,b+e,h-2*e,p+4);a.restore()}}},serialize:function(a,
k){var c=d.fa.prototype.serialize.apply(this,arguments),b=$(c),e=this.getPath(),h={},p=this.$s(),p=d.xa.ip(p,k);h.fringe=p;p=d.xa.nj(this.FillColor);null!==p?h.color=p:b.removeAttr("color");b.removeAttr("interior-color");var p=this.Xs(),r=$(document.createElementNS("","defaultappearance")),s=this.StrokeColor.IA();r.text(s+" "+d.xa.nA(this.Font,p));b.append(r);r=$(document.createElementNS("","defaultstyle"));s=d.xa.Zt(this);r.text(s);b.append(r);this.dl&&("left"!==this.dl&&(h.justification=this.dl));
r=d.xa.nj(this.TextColor);null!==r&&c.setAttribute("TextColor",r);c.setAttribute("FontSize",p);p=this.rh();p===d.Aa.Jc.FreeTextCallout&&(e=e.slice(0,3),e=d.xa.oj(e,k),h.callout=e,h.head=this.Vi(),c.setAttribute("IT",p));b.attr(h);return c},deserialize:function(a,k){var c=d.xa,b=$(a);d.fa.prototype.deserialize.apply(this,arguments);null!==c.oh(b.attr("color"))?this.FillColor=this.StrokeColor:this.FillColor=new d.Color(0,0,0,0);var e=c.Et(a);e.color&&(this.StrokeColor=c.oh(e.color));e.font&&(this.Font=
e.font.name,this.FontSize=e.font.size);e=c.Wz(a);e.font&&(this.Font=e.font.name,this.FontSize=e.font.size);e.textAlign&&(this.TextAlign=e.textAlign);e.color&&(this.TextColor=c.oh(e.color));var h;if((e=b.attr("IT")||(b.attr("it")||a.getAttribute("IT")))&&e===d.Aa.Jc.FreeTextCallout){if(this.pj(d.Aa.Jc.FreeTextCallout),this.Mh(b.attr("head")||"OpenArrow"),h=b.attr("callout")){e=c.Li(h,k);3>e.length&&(h=c.Li(h,k,",",","),3===h.length&&(e=h));h=this.getPath();for(var p=0;p<e.length;p++)h[p]=new d.Point(parseFloat(e[p].x),
parseFloat(e[p].y))}}else this.pj(d.Aa.Jc.FreeText),h=this.getPath(),h[0]=null,h[1]=null,h[2]=null;this.fringe?this.Lh(this.fringe):this.Lh(new d.ta(0,0,0,0));if(e=b.attr("justification"))this.dl=e;c=c.oh(b.attr("TextColor")||a.getAttribute("TextColor"));null!==c&&(this.TextColor=c);b=b.attr("FontSize")||a.getAttribute("FontSize");_.isUndefined(b)||(_.isNull(b)||(this.FontSize=b+"pt"));this.adjustRect()},selectionModel:d.$h};d.Aa.prototype=$.extend(new d.wc,d.Aa.prototype);d.fc=function(){d.fa.call(this);
this.gc=null;this.Tf=new d.Color(255,0,0);this.Uf=null;this.Tq=!0;this.Uq=!1;this.gb=[];this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};d.fc.prototype={lp:function(a){if(!a||("undefined"===typeof a.length||0===a.length))throw Error("Argument quads requires an array of at least one element");this.gb=a;for(var k=Infinity,c=Infinity,b=0,d=0,e=0;e<this.gb.length;e++)a=this.gb[e],k=Math.min(k,a.x1,a.x2,a.x3,a.x4),c=Math.min(c,a.y1,a.y2,a.y3,a.y4),b=Math.max(b,a.x1,a.x2,a.x3,a.x4),d=Math.max(d,
a.y1,a.y2,a.y3,a.y4);this.X=k;this.Y=c;this.Width=b-k;this.Height=d-c},serialize:function(a,k){for(var c=d.fa.prototype.serialize.apply(this,arguments),b=[],b=[],e=0;e<this.Quads.length;e++){var h=this.Quads[e];b.push(new d.Point(h.x1,h.y1));b.push(new d.Point(h.x2,h.y2));b.push(new d.Point(h.x4,h.y4));b.push(new d.Point(h.x3,h.y3))}0<this.Quads.length&&(b=d.xa.oj(b,k,",",","),$(c).attr("coords",b));return c},deserialize:function(c,k){d.fa.prototype.deserialize.apply(this,arguments);this.gc=null;
this.gb=[];for(var b=$(c).attr("coords"),b=d.xa.Li(b,k,",",","),e=0;e+3<b.length;e+=4){if(a.Ba.wa.Fz(b[e],b[e+3],b[e+1],b[e+2])){var h=b[e+2];b[e+2]=b[e+3];b[e+3]=h}this.gb.push(new d.Ua(b[e].x,b[e].y,b[e+1].x,b[e+1].y,b[e+2].x,b[e+2].y,b[e+3].x,b[e+3].y))}},selectionModel:d.ni};d.fc.prototype=$.extend(new d.fa,d.fc.prototype);Object.defineProperties(d.fc.prototype,{Quads:{get:function(){return this.gb},set:function(a){this.lp(a)}}});d.we=function(){d.fc.call(this);this.Tf=new d.Color(255,255,0);
this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=0.25};d.we.opacityCap=0.3;d.we.prototype={elementName:"highlight",draw:function(a){this.Cb(a);if(_.isUndefined(this.Opacity)||(_.isNull(this.Opacity)||this.Opacity>d.we.opacityCap))a.globalAlpha=d.we.opacityCap;a.fillStyle=this.StrokeColor.toString();for(var k,c=0;c<this.Quads.length;c++)k=this.Quads[c],a.beginPath(),a.moveTo(k.x1,k.y1),a.lineTo(k.x2,k.y2),a.lineTo(k.x3,k.y3),a.lineTo(k.x4,k.y4),a.closePath(),
a.fill()}};d.we.prototype=$.extend(new d.fc,d.we.prototype);d.Vg=function(){d.fc.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};d.Vg.prototype={elementName:"underline",draw:function(a){this.Cb(a);for(var k,c=0;c<this.gb.length;c++){k=this.gb[c];var b=Math.max(k.y1,k.y2,k.y3,k.y4);a.beginPath();a.moveTo(k.x3,b);a.lineTo(k.x4,b);a.closePath();a.stroke()}}};d.Vg.prototype=$.extend(new d.fc,d.Vg.prototype);d.Rf=function(){d.fc.call(this);this["_xsi:type"]=
"Strikeout";this.Subject=i18n.t("annotations.types.strikeout")};d.Rf.prototype={elementName:"strikeout",draw:function(a){this.Cb(a);for(var k,c=0;c<this.gb.length;c++){k=this.gb[c];var b=Math.min(k.y1,k.y2,k.y3,k.y4),d=Math.max(k.y1,k.y2,k.y3,k.y4),b=b+(d-b)/2;a.beginPath();a.moveTo(k.x3,b);a.lineTo(k.x4,b);a.stroke()}}};d.Rf.prototype=$.extend(new d.fc,d.Rf.prototype);d.oi=function(){d.fc.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};d.oi.prototype={elementName:"squiggly",
draw:function(a){var k,c,b,d,e,h,r;this.Cb(a);for(var s=0;s<this.gb.length;s++){c=this.gb[s];b=Math.max(c.y1,c.y2,c.y3,c.y4);k=Math.abs(c.x4-c.x3);var u=5/3,w=k/10;a.save();a.translate(c.x4,b-1.25);c=Math.abs(c.y1-c.y4);a.beginPath();a.rect(0,-c,k,c+1.25+1);a.clip();a.beginPath();for(var y=0;y<2*w;y+=2)r=5*y,e=5*y+u/2,h=u,b=5*(y+1)-u/2,d=u,k=5*(y+1),c=0,a.moveTo(r,0),a.bezierCurveTo(e,h,b,d,k,c),e=5*(y+1)+u/2,h=-u,b=5*(y+2)-u/2,d=-u,k=5*(y+2),c=0,a.bezierCurveTo(e,h,b,d,k,c);a.stroke();a.restore()}}};
d.oi.prototype=$.extend(new d.fc,d.oi.prototype);d.Jd=function(){d.fa.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");this.Height=this.Width=31;this.NoZoom=this.NoResize=!0;this.gc=this.Uf=null;this.Tf=new d.Color(255,255,0);this.Icon="Comment";this.Rq=null};d.Jd.prototype={elementName:"text",draw:function(a){if(!this.ed()){var k=this.Width<this.Height?this.Width:this.Height,c=0.75*k,b=0.48*k,d=0.29*k,e=0.19*k,h=k-e;a.strokeStyle="rgb(0, 0, 0)";a.fillStyle=
this.StrokeColor.toString();a.globalAlpha=0===this.Opacity?0:this.Opacity||1;a.beginPath();a.moveTo(7,2);a.lineTo(k-5-2,2);a.quadraticCurveTo(k-2,2,k-2,7);a.lineTo(k-2,c-5);a.quadraticCurveTo(k-2,c,k-5-2,c);a.lineTo(b,c);a.lineTo(d,k-2);a.lineTo(d,c);a.lineTo(7,c);a.quadraticCurveTo(2,c,2,c-5);a.lineTo(2,7);a.quadraticCurveTo(2,2,7,2);a.fill();a.moveTo(e,0.25*k);a.lineTo(h,0.25*k);a.moveTo(e,0.41*k);a.lineTo(h,0.41*k);a.moveTo(e,0.57*k);a.lineTo(0.68*k,0.57*k);a.stroke()}},serialize:function(a,k){var c=
d.fa.prototype.serialize.apply(this,arguments),b={icon:this.Icon};null!==this.InReplyTo&&(b.inreplyto=this.InReplyTo);$(c).attr(b);return c},deserialize:function(a,k){d.fa.prototype.deserialize.apply(this,arguments);this.gc=null;var c=$(a),b=c.attr("icon");b&&(this.Icon=b);(c=c.attr("inreplyto"))&&(this.InReplyTo=c);this.NoZoom=this.NoResize=!0},selectionModel:d.Oj};d.Jd.prototype=$.extend(!0,new d.fa,d.Jd.prototype);Object.defineProperties(d.Jd.prototype,{InReplyTo:{get:function(){return this.Rq},
set:function(a){this.Rq=a;this.Uc()}}});d.Lm={fo:function(c,k,b,d){c.save();c.translate(k.x,k.y);c.rotate(a.Ba.wa.Mk(k,b));c.moveTo(0,0);b=5*d+2;k=Math.cos(0.2*Math.PI)*b;b*=Math.sin(0.2*Math.PI);c.moveTo(k,-b);c.lineTo(0,0);c.lineTo(k,b);c.stroke();c.restore()}}})(window);
(function(a){function h(a){this.h=a.h;this.ha=a}function e(a,c){this.dj=this.cj=this.bj=0;a&&(c&&this.set(a,c))}function c(a){this.Ra=a;this.el=null;this.bh=!0;new e;this.yi=this.zi=null}function b(a){var c=this;this.ha=a;this.ha.on("annotationChanged.editbox",function(a,k,b){for(var d=0;d<k.length;++d){var f=k[d];"add"===b&&c.Do(f)?(c.yz(f),a.imported||c.Ns(f)):"delete"===b&&(f.Vc&&(f.Vc.remove(),delete f.Vc))}});this.ha.on("annotationDoubleClicked.editbox",function(a,k){c.ha.Hc(k)&&(c.Do(k)&&c.Ns(k))})}
function d(a){this.ha=a;this.zg=[]}var f=window.g;f.U=function(c){if(!c)throw Error("AnnotationManager requires DocumentViewer to initialize");this.nh="";this.wt=this.readOnly=this.Io=!1;this.vu=this.yf=!0;this.h=c;this.jc=[];this.Fb=[];this.bo=[];this.Ci=[];this.uu=!1;this.ko="";this.Be=new d(this);this.Jb=new h(this);this.mr=new b(this);this.Zf=new a.g.zx(this);this.hf={line:[Annotations.yc],circle:[Annotations.Hg],square:[Annotations.Rg],freetext:[Annotations.Aa],stamp:[Annotations.Tg],text:[Annotations.Jd],
ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.Kj],polygon:[Annotations.te],strikeout:[Annotations.Rf],highlight:[Annotations.we],underline:[Annotations.Vg],squiggly:[Annotations.oi],caret:[Annotations.Th]};this.defaultFillColor=new Annotations.Color(0,0,0,0);this.defaultStrokeColor=new Annotations.Color(0,0,0);this.defaultStrokeThickness=1;this.controlPointSize=8;this.controlPointHitBoxScale=1};f.U.prototype={Ng:function(){return this.nh},Pw:function(a){this.nh=a},lv:function(){return this.Io},
Vw:function(a){this.Io=a},gm:function(){return this.readOnly},dx:function(a){this.readOnly=a},Ej:function(){return this.wt},Im:function(a){this.wt=a},Gj:function(){return this.uu},Km:function(a){this.uu=a},ow:function(a){this.wb(a)},Su:function(){this.yf=!1},Tu:function(){this.vu=!1;this.mr.disable()},bx:function(a){this.ss=a},Hc:function(a){return(this.ss?this.ss(a.Author,a):this.Io||(a.Author===this.nh||(null===a.Author||"undefined"===typeof a.Author)))&&!this.readOnly},wb:function(c,b){if(this.h.Ni){var d=
!1,f=c-1;if(isNaN(f))throw Error("Invalid page index given");var e=!!b,h=b||this.h.qf(f);if(h){var r=h.getContext("2d");if(!e){var s=this.h.mc(f);a.g.Sa.Rn(h,s.width,s.height)}if(this.Ej())for(h=0;h<this.jc.length;h++){var u=this.jc[h];if(u.ba()===f){var w=this.Jb.Zc(u);w&&(w.bh&&this.Jb.Xi(u))}}else{s=[];for(h=0;h<this.jc.length;h++)if(u=this.jc[h],u.ba()===f)if(this.Gj()&&-1===u.Author.indexOf(this.ko))!1===u.Zg&&(d=!0),u.Zg=!0,(w=this.Jb.Zc(u))&&(w.bh&&this.Jb.Xi(u));else{!0===u.Zg&&(d=!0);u.Zg=
!1;s.push(u);r.save();!0===u.NoZoom&&(r.translate(u.Xe(),u.Ye()),e||(w=this.h.Ga(u.ba()),r.scale(1/w,1/w),w=this.h.kb(c),0<w&&(3===w?r.translate(u.Ta(),0):2===w?r.translate(u.Ta(),u.Oa()):1===w&&r.translate(0,u.Oa()),r.rotate(-1*w*Math.PI/2))));r.save();if(u.xn)u.draw(r);else u.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",this.lz(u,c,b));r.restore();if(!e)if("undefined"!==typeof u.selectionModel){if(this.di(u)&&!u.ed()){var y=new u.selectionModel(u,this.Hc(u)),w=this.h.Ga(u.ba());
!0===u.NoZoom&&(r.translate(-u.Xe(),-u.Ye()),w=1);y.draw(r,u,w)}}else(u=this.Be.TB(u))&&u.draw(r);r.restore()}d&&this.trigger("annotationFiltered",[this.jc]);e||this.Jb.PA(s,r)}}}},lz:function(a,c,b){var d=this;return function(){d.wb(c,b);a.off("resourcesLoaded")}},Pp:function(a){for(var c=0;c<this.Fb.length;++c){var b=this.Fb[c];b.jb()===a&&this.Ou(b)}},Vb:function(a){var c=a.ba();this.ow(a.PageNumber);!this.Ze(a)&&((c=this.h.qf(c))&&(c=c.getContext("2d"),c.save(),a.draw(c),c.restore()))},Pv:function(a){this.h.pt(a.jb()-
1,[{ee:a.Ve(),ge:a.We(),H:a.Zp(),u:a.Vp()}])},bv:function(a){if(""===a){if(!this.Gj())return;this.Km(!1);this.ko=""}else this.Km(!0),this.ko=a;a=this.h.N.mg();for(var c=0;c<a.length;c++)this.wb(a[c]+1)},rx:function(){this.Ej()?this.Im(!1):this.Im(!0);for(var a=this.h.N.mg(),c=0;c<a.length;c++)this.wb(a[c]+1),this.h.xh(a[c]);this.trigger("annotationToggled",[this.Ej(),this.jc,this.Gj()])},Ze:function(a){return-1<this.jc.indexOf(a)},Fv:function(a){return-1<this.Fb.indexOf(a)},wq:function(a,c){a.Jh(c);
this.trigger("annotationChanged",[[a],"modify"]);this.yf&&this.Jb.zn(a)},he:function(a,c){this.Re([a],c)},Re:function(a,c){for(var b=0;b<a.length;++b){var d=a[b];0>=d.PageNumber&&console.warn("Invalid annotation PageNumber: "+d.PageNumber);this.Ze(d)||(this.jc.push(d),this.fu(d))}b=$.Event("annotationChanged");b.imported=c;this.trigger(b,[a,"add"])},NA:function(a,c){this.fu(a);if(a.ed()){var b=this.Ui(a);this.Jb.zn(a,b)}else this.trigger("setNoteText",a);b=$.Event("annotationChanged");b.imported=
c;this.trigger(b,[[a],"modify"])},fu:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c());if(this.yf){this.Jb.createPopup(a);var b=a.He();b&&(b.isOpen()?this.Jb.wA(a):this.Jb.Xi(a))}},np:function(a){function c(a,k){return k.DateCreated-a.DateCreated}var b=[],d;for(d=0;d<a.length;++d){var f=a[d];f instanceof Annotations.Annotation&&(f.ed()?this.gg(f.InReplyTo).$f(f):b.push(f))}for(d=0;d<b.length;++d)if(a=b[d],
0!==a.Ti().length)for(f=[],f.push({Bi:a,eo:null});0<f.length;){var e=f.pop(),h=e.Bi;null!==e.eo&&this.Jb.$f(h,e.eo,a);for(var e=h.Ti().sort(c),s=0;s<e.length;++s)f.push({Bi:e[s],eo:h})}},tA:function(a){if(a.ed()){var c=this.gg(a.InReplyTo);c.$f(a);this.Jb.$f(a,c,this.Ui(a))}},Ui:function(a){for(;a.ed();)a=this.gg(a.InReplyTo);return a},ms:function(a){var c=new Annotations.Jd;c.InReplyTo=a.Id;c.X=a.X;c.Y=a.Y;c.PageNumber=a.PageNumber;c.Author=this.Ng();a.$f(c);this.he(c);return c},zu:function(a){this.Fv(a)||
this.Fb.push(a)},js:function(c){var b=a.g.Sa.Wi(c);if(0!==b.length)for(var d=0;d<this.Fb.length;++d){var f=this.Fb[d];f.ba()===c&&b.find('[id="'+f.ua+'"]').remove()}},yu:function(a){var c=a.PageNumber-1;0>this.h.J.o[c].links.indexOf(a)&&this.h.J.o[c].links.push(a)},Eg:function(a,c){if(a.Ia)for(var b,d,f=0;f<a.Ia.length;f++){b=a.Ia[f];d=b.hy;var e="";switch(b.trigger){case "E":e="mouseenter";break;case "X":e="mouseleave";break;case "D":e="mousedown";break;case "U":e="mouseup";break;case "Fo":e="focus";
break;case "Bl":e="blur";break;default:e="mouseup"}switch(d){case "GoTo":c.bind(e,this.jv(b,this));break;case "URI":c.bind(e,this.Cv(b,this));break;case "Named":c.bind(e,this.pv(b,this));break;case "JavaScript":c.bind(e,this.mv(b));break;case "ResetForm":c.bind(e,this.wv(b,this));break;case "SubmitForm":c.bind(e,this.yv(b,this));break;case "Hide":c.bind(e,this.kv(b,this))}}},jv:function(a,c){return function(){c.h.it(a)}},Cv:function(a,c){return function(){c.h.Co(a.name)}},pv:function(a,c){return function(){var b=
c.h;switch(a.name){case "NextPage":b.Mc(b.Mg()+1);break;case "PrevPage":b.Mc(b.Mg()-1);break;case "FirstPage":b.Mc(1);break;case "LastPage":b.Mc(b.Fj())}}},mv:function(a){return function(){var c=a.Ko;c&&eval(c)}},wv:function(a,c){return function(){var b=c.Fb,d,f,e=a.Rt,h=[];if(_.isArray(e))for(f=0;f<b.length;++f)d=b[f],-1<e.indexOf(d.ua)&&h.push(d);else for(e=a.gp,f=0;f<b.length;++f)d=b[f],-1===e.indexOf(d.ua)&&h.push(d);for(f=0;f<h.length;++f)d=h[f],d.ja=d.Te?d.Te:c.Wp(d),d.sc&&"P"===d.sc||(d.nd=
!0),c.pw(d)}},yv:function(a,c){return function(){var b=c.Fb,d=a.DA,f=a.CA;"undefined"===typeof f&&(f=0);var e=0!==(f&2),h=0!==(f&32),s=!1;h||(s=0!==(f&4));var u,w=a.BA,y=[];if("undefined"!==typeof w){var v=0!==(f&1);for(u=0;u<b.length;++u)f=b[u],v?-1===w.indexOf(f.ua)&&(e?y.push(f):"undefined"!==typeof f.ja&&y.push(f)):-1<w.indexOf(f.ua)&&(e?y.push(f):"undefined"!==typeof f.ja&&y.push(f))}else for(u=0;u<b.length;++u)f=b[u],e?y.push(f):"undefined"!==typeof f.ja&&y.push(f);h?b=c.Zf.Iw(y):(s&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),
b=c.Zf.Jw(y));$.ajax({type:"POST",url:d,data:b,success:function(a){var c=window.open();_.isNull(c)||_.isUndefined(c)?console.warn("Form popup blocked"):c.document.write(a)},error:function(){console.warn("Failed to submit form data to server.")}})}},kv:function(a,c){return function(){var b=c.Fb,d=!1,f;_.isUndefined(a.Fo)?f=a.gu:(d=!0,f=a.Fo);for(var e=0;e<b.length;++e){var h=b[e];f===h.ua&&(d?(h.vc[0].style.display="none",h.im=!0):(h.vc[0].style.display="",h.im=!1))}}},Wp:function(a){if("undefined"!==
typeof a.Te)return a.Te;if(!(a instanceof Annotations.xe))if(a instanceof Annotations.le){if(a.Bi.Ca&&0<a.Ca.length)return a.Ca[0]}else if(a instanceof Annotations.je)if("R"===a.sc){a=a.ua;for(var c=this.Fb,b=0;b<c.length;++b){var d=c[b];if(d.ua===a)return d.Se}}else if("C"===a.sc||"undefined"===typeof a.sc)return"Off";return""},pw:function(a){if(a instanceof Annotations.xe)a.vc[0].firstChild.value=a.ja;else if(a instanceof Annotations.le)if(a.ei)a.vc[0].firstChild.value=a.ja;else{if(a.Ca)for(var c=
0;c<a.Ca.length;++c)if(a.ja===a.Ca[c]){a.vc[0].firstChild.selectedIndex=c;break}}else if(a instanceof Annotations.je)if("R"===a.sc)a.vc[0].firstChild.checked=a.ja===a.Se?!0:!1;else if("C"===a.sc||"undefined"===typeof a.sc)a.vc[0].firstChild.checked=a.ja===a.Se?!0:!1},bg:function(c){c.vc.appendTo(a.g.Sa.Wi(c.ba()))},Ou:function(c){if(!_.isUndefined(c.ba())&&!_.isNaN(c.ba())){var b=a.Ba.It(c.Rect[0],c.Rect[1],c.Rect[2],c.Rect[3],c.ba(),this),d=c.nd;c.X=b.x;c.Y=b.y;c.Width=b.w;c.Height=b.wh;c.nd=d;c instanceof
Annotations.xe?this.Nu(c):c instanceof Annotations.le?this.Ku(c):c instanceof Annotations.je?this.Ju(c):c instanceof Annotations.Nj&&this.Mu(c)}},Nu:function(a){var c=$('<div class="text" id="'+a.ua+'">'),b="",b=a.xm?b+('<input type=password name="'+a.ua+'"'):b+('<textarea name="'+a.ua+'" wrap=hard');a.li&&(b+=' required="required"');a.ki&&(b+=' readonly="readonly"');b=$(b+" />");b.css({width:a.Ta(),height:a.Oa(),resize:"none"});a.borderColor?b.css({border:"1px solid "+a.borderColor}):b.css({border:"none"});
a.backgroundColor?b.css({"background-color":a.backgroundColor}):b.css({"background-color":"transparent"});a.color&&b.css("color",a.color);a.De&&b.css({"font-family":a.De});a.fontSize&&(0<a.fontSize&&b.css({"font-size":a.fontSize*this.h.Ga(a.ba())+"pt"}));b.val(a.ja||this.Wp(a));c=c.append(b);this.Qf(a,c);a.vc=c;this.bg(a);this.Fu(a)},Fu:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("textarea").bind("change",function(c){c.target.value!==a.ja&&(a.ja=c.target.value,a.nd=!0)}),this.Eg(a,c.find("textarea")),
0===a.fontSize&&this.sz(a,c))},sz:function(a,c){function b(){if(d.val().length<s)for(;d[0].scrollHeight===d.outerHeight();)d.css("font-size","+=1");for(;d[0].scrollHeight>d.outerHeight();)d.css("font-size","-=1");s=d.val().length}var d=c.find("textarea");d.css("font-size",a.Oa()+"px");for(var f=0,e=a.Oa(),h;f<=e;)h=Math.floor((f+e)/2),d.css("font-size",h+"px"),d[0].scrollHeight>d.outerHeight()?e=h-1:f=h+1;d[0].scrollHeight>d.outerHeight()&&d.css("font-size","-=2");var s=d.val().length;d.keypress(b).keyup(b)},
Ku:function(a){if(a.ei&&a.mm){var c=$('<div class="combo" id="'+a.ua+'">'),b=a.ua.replace(/\.|\s/g,"_"),d='<input type=text list="'+b+'"';a.li&&(d+=' required="required"');a.ki&&(d+=' readonly="readonly"');a.ja&&(d+=' value="'+a.ja+'"');d=$(d+" >");d.css({width:a.Ta(),height:a.Oa()});a.borderColor?d.css({border:"1px solid "+a.borderColor}):d.css({border:"none"});a.backgroundColor&&d.css({"background-color":a.backgroundColor});a.De&&d.css({"font-family":a.De});a.fontSize&&(0<a.fontSize&&d.css({"font-size":a.fontSize*
this.h.Ga(a.ba())+"pt"}));c=c.append(d);d=$('<datalist id="'+b+'">');if(a.Ca)for(b=0;b<a.Ca.length;++b)d=d.append('<option value="'+a.Ca[b]+'" >'+a.Ca[b]+"</option>");c.append(d);this.Qf(a,c);a.vc=c;this.bg(a);this.Cu(a)}else{b=a.ei?1:3;c=$('<div class="list" id="'+a.ua+'">');b='<select name="'+a.ua+'" size='+b;a.li&&(b+=' required="required"');a.ki&&(b+=' readonly="readonly"');d=$(b+" >");if(a.Ca)for(b=0;b<a.Ca.length;++b)d=a.ja&&a.ja===a.Ca[b]?d.append('<option SELECTED value="'+a.Ca[b]+'" >'+a.Ca[b]+
"</option>"):d.append('<option value="'+a.Ca[b]+'" >'+a.Ca[b]+"</option>");d.css({width:a.Ta(),height:a.Oa()});a.borderColor?d.css({border:"1px solid "+a.borderColor}):d.css({border:"none"});a.backgroundColor&&d.css({"background-color":a.backgroundColor});a.De&&d.css({"font-family":a.De});a.fontSize&&(0<a.fontSize&&d.css({"font-size":a.fontSize*this.h.Ga(a.ba())+"pt"}));c=c.append(d);this.Qf(a,c);a.vc=c;this.bg(a);this.Du(a)}},Cu:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("input").bind("change",
function(c){a.ja=c.target.value;a.nd=!0}),this.Eg(a,c.find("input")))},Du:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("select").bind("change",function(c){a.ja=c.target.value;a.nd=!0}),this.Eg(a,c.find("select")))},Ju:function(a){if("P"===a.sc){var c=$('<div class="pButton" id="'+a.ua+'">'),b='<button type="button" name="'+a.ua+'"';a.ja&&(b+=' value="'+a.ja+'"');b=$(b+" >");b.append(a.Hu);b.css({width:a.Ta(),height:a.Oa(),position:"absolute"});a.borderColor?b.css({border:"1px solid "+a.borderColor}):
b.css({border:"1px solid black"});a.backgroundColor&&b.css({"background-color":a.backgroundColor});a.De&&b.css({"font-family":a.De});a.fontSize&&(0<a.fontSize&&b.css({"font-size":a.fontSize*this.h.Ga(a.ba())+"pt"}));a.transparent&&b.css({"background-color":"transparent"});c.append(b);this.Qf(a,c);a.vc=c;this.bg(a);this.Eg(a,b)}else"R"===a.sc?(c=$('<div class="radioButton" id="'+a.ua+'">'),b='<input type="radio" name="'+a.ua+'" value="'+a.Se+'"',a.ja===a.Se&&(b+=' checked="checked"'),b=$(b+" >"),b.css({margin:0,
padding:0,display:"block",width:a.Ta(),height:a.Oa(),"-moz-appearance":"none"}),a.borderColor?b.css({border:"1px solid "+a.borderColor}):b.css({border:"none"}),a.backgroundColor&&b.css({"background-color":a.backgroundColor}),c.append(b),this.Qf(a,c),a.vc=c,this.bg(a),this.Eu(a)):("undefined"===typeof a.ja&&(a.ja="Off"),c=$('<div class="checkBox" id="'+a.ua+'">'),b='<input type="checkbox" name="'+a.ua+'"',"Off"!==a.ja&&(b+=' checked="checked"'),b=$(b+" >"),b.css({margin:0,display:"block",width:a.Ta(),
height:a.Oa(),"-moz-appearance":"none"}),a.borderColor?c.css({border:"1px solid "+a.borderColor}):c.css({border:"none"}),a.backgroundColor&&c.css({"background-color":a.backgroundColor}),c.append(b),this.Qf(a,c),a.vc=c,this.bg(a),this.Bu(a))},Mu:function(a){if(a.jm){var c=new Image;c.src=a.jm;c=$(c).attr("id",a.ua).addClass("signature");this.Qf(a,c);a.vc=c;this.bg(a)}},Bu:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("input").on("change",function(c){a.ja=!0===c.target.checked?a.Se:"Off";a.nd=
!0}),this.Eg(a,c.find("input")))},Eu:function(a){var c=this,b=$("div[id='"+a.ua+"']");b&&(b.find("input").on("change",function(b){if(!0===b.target.checked)for(var d=a.ua,f=c.Fb,e=0;e<f.length;++e){var h=f[e];h.ua===d&&(h.ja!==b.target.value&&(h.ja=b.target.value,a.nd=!0))}}),this.Eg(a,b.find('input[value="'+a.Se+'"]')))},Qf:function(a,c){var b=this.h.N.wo(a.ba());c.css({position:"absolute",left:a.Xe()+b.x,top:a.Ye()+b.y,width:a.Ta(),height:a.Oa(),"z-index":"35"});a.im&&c.css("display","none")},ux:function(a){this.Ze(a)&&
this.wb(a.jb())},Ue:function(a,c){this.Vh([a],c)},Vh:function(a,c){var b=this,d={};if(!c&&this.gm())this.h.trigger("notify","readOnlyDelete");else{for(var f=[],e=!1,h=a.slice(),s=0;s<h.length;s++){var u=h[s];if(this.Ze(u))if(c||this.Hc(u)){this.Be.ws(u);this.trigger("annotationSelected",[[u],"deselected"]);var w=this.jc.splice(this.jc.indexOf(u),1);f.push(w[0]);u.IsAdded||(c||this.bo.push(w[0]));this.Jb.Iy(u);u.ed()&&(this.Jb.ao(u),this.gg(u.InReplyTo).ao(u));u.Ti().forEach(function(a){b.Jb.zn(a);
a.InReplyTo=null;b.np([a])});d[u.jb()]=!0}else e=!0}0<f.length&&(h=$.Event("annotationChanged"),h.imported=c,this.trigger(h,[f,"delete"]));e&&this.h.trigger("notify","permissionDelete");$.each(d,function(a){b.wb(a)})}},vx:function(){if(!this.readOnly){this.Ci=[];for(var a=this.Lf(),c=0;c<a.length;c++)if(!(a[c]instanceof Annotations.fc)){var b=this.dm(a[c]);this.Ci.push(b)}this.Uj=0}},lw:function(){if(!this.readOnly&&"undefined"!==typeof this.Uj){this.Uj++;for(var a=[],c=0;c<this.Ci.length;c++){var b=
this.dm(this.Ci[c]);a.push(b);var d=this.h.Mg(),f=new Annotations.ta(0,0,this.h.J.o[d-1].width,this.h.J.o[d-1].height),e=b.ud();b.jb()===d?e.translate(5*this.Uj,5*this.Uj):b.xq(d);e.Ms(f);b.resize(e)}this.Re(a);this.Ci=a;this.Gg();this.Em(a)}},dm:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var b=this.jz(a);if(null===b)return null;var d=this.h.tf(a.ba()),f=d.inverse(),e=document.createElementNS("",a.elementName),e=a.serialize(e,f);a=new b;a.deserialize(e,d);
a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();a.Author=this.nh;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=!0;a.IsModified=!1;$(a).data("popup",null);return a},dv:function(a){return a.Ra},Qi:function(a){this.yf&&(a=this.Jb.Zc(a),$(a.el).find(".popup-comment").focus())},di:function(a){return this.Be.bs(a)},Dm:function(a){this.Ze(a)&&(this.Be.Xt(a),this.wb(a.jb()),this.trigger("annotationSelected",[[a],"selected"]))},Em:function(a){var c=[],b={};if(a&&$.isArray(a)){for(var d=0;d<
a.length;d++){var f=a[d];this.Ze(f)&&(this.Be.Xt(f),b[f.jb()]=f.jb(),c.push(f))}var e=this;$.each(b,function(a){e.wb(a)})}0<c.length&&this.trigger("annotationSelected",[c,"selected"])},Gg:function(){if(0!==this.Lf().length){this.Be.Ly();for(var a=this.h.N.mg(),c=0;c<a.length;c++)this.wb(a[c]+1);this.trigger("annotationSelected",[null,"deselected"])}},Mp:function(a){this.Be.ws(a);this.wb(a.jb());this.trigger("annotationSelected",[[a],"deselected"])},Lf:function(){return this.Be.nz()},Lg:function(){return this.jc},
gg:function(a){if(_.isUndefined(a)||_.isNull(a))return null;for(var c=0;c<this.jc.length;c++)if(this.jc[c].Id===a)return this.jc[c];return null},Nk:function(a){var c=new window.La.Tool(this.h);c.mouseLeftDown(a);a=c.pageCoordinates[0];if(null!==a)for(var c=this.Lg(),b=c.length-1;0<=b;b--){var d=c[b];if(!d.ed()&&d.jb()-1===a.pageIndex){var f=this.h.Ga(d.ba()),e=this.di(d),e=new d.selectionModel(d,this.Hc(d),e);if(e.testSelection(d,a.x,a.y,f)||this.di(d)&&e.rp(d,f,a.x,a.y))return d}}return null},Rs:function(a,
c){return this.Be.Rs(a,c)},Jl:function(a){return this.mr.Do(a)&&this.vu?(this.Jb.Xi(a),!1):this.Jb.Jl(a)},Rp:function(a){return this.Zf.Lw(a)},Bw:function(){return this.Rp()},cm:function(){return this.Zf.cm()},Rv:function(a){this.dq(a)},ht:function(a){return"string"===typeof a?(new DOMParser).parseFromString(a,"text/xml"):a},dq:function(a){a=this.ht(a);a=this.Zf.Lv(a);this.np(a);return a},fq:function(a,c){c=c||function(){};var b=this,d=this.ht(a);this.Zf.Mv(d,function(a){b.np(a);b.Wl(a);for(var d=
b.h.N.mg(),k=0;k<d.length;++k)b.h.Jq(d[k]),b.js(d[k]),b.Pp(d[k]+1);c(a)})},km:function(a){a=(new DOMParser).parseFromString(a,"text/xml");a=this.Zf.km(a);var c=[];a.vk&&(c=c.concat(a.vk),0<a.vk.length&&this.tA(a.vk[0]));a.vs&&(c=c.concat(a.vs));a.Vo&&(c=c.concat(a.Vo));return c},Wl:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var c=0;c<a.length;c++)this.wb(a[c])},Bj:function(){this.off();this.Lg().forEach(function(a){var c=$(a),b=c.data("popup");b&&$(b.el).remove();c.removeData("popup");
a.Vc&&a.Vc.off()})},gA:function(a,c){if("string"!==typeof a||!c)return!1;"undefined"===typeof this.hf[a]&&(this.hf[a]=[]);this.hf[a].push(c);return!0},Ky:function(a,c){if("string"!==typeof a||!c)return!1;this.hf[a]=$.grep(this.hf[a],function(a){return a!==c});return!0},kz:function(){return this.hf},jz:function(a){if(!a||!a.elementName)return null;var c=this.hf[a.elementName];if(c&&0<c.length)for(var b=0;b<c.length;b++){var d=c[b];if(a instanceof d)return d}return null}};$.extend(f.U.prototype,a.utils.eventHandler);
d.prototype={Xt:function(a){this.bs(a)||this.zg.push(a)},ws:function(a){this.zg=$.grep(this.zg,function(c){return c!==a})},Ly:function(){this.zg=[]},bs:function(a){for(var c=0;c<this.zg.length;c++)if(a===this.zg[c])return!0;return!1},nz:function(){return this.zg.slice()}};b.prototype={disable:function(){this.ha.off("annotationChanged.editbox");this.ha.off("annotationDoubleClicked.editbox")},Do:function(a){return a instanceof Annotations.Aa},yz:function(a){var c=this.ha;a.Vc=$('<textarea class="freetext">');
a.Vc.on("blur",function(){c.wq(a,a.Vc.val());a.Vc.hide();c.Wl([a])});a.Vc.on("mousedown",function(a){a.stopPropagation()})},Ns:function(c){var b=this.ha.h.Ga(c.ba());a.g.Sa.Wi(c.ba()).append(c.Vc);var d=parseFloat(c.FontSize),f=c.ro(),d=d*b+f,f=c.po()*b,e=c.getPath().slice(3,5),h=e[0].x,r=Math.min(e[0].y,e[1].y),s=Math.abs(e[1].x-e[0].x),e=Math.abs(e[1].y-e[0].y),h=this.ha.h.Uk({x:h,y:r},c.ba()),r=this.ha.h.kb(c.PageNumber),u;r===a.g.sa.Vd?(u="rotate(0deg)",h.x+=f,h.y+=f):r===a.g.sa.Xd?(u="rotate(90deg)",
h.x-=f,h.y+=f):r===a.g.sa.nf?(u="rotate(180deg)",h.x-=f,h.y-=f):r===a.g.sa.Wd&&(u="rotate(270deg)",h.x+=f,h.y-=f);r=1>c.FillColor.A?new Annotations.Color(255,255,255):c.FillColor;c.Vc.css({top:h.y,left:h.x,width:s*b-2*f,height:e*b-2*f,font:d+" "+c.Font,color:c.TextColor.toString(),background:r.toString(),transform:u,"transform-origin":"top left"});c.Vc.val(c.rf()||"");this.vA(c)},vA:function(a){a.Vc.show().focus()}};c.prototype={hide:function(){this.el&&($(this.el).hide(),this.bh=!1,this.Ra.IsAdded||
(this.Ra.IsModified=!0))},show:function(){this.el&&($(this.el).show(),this.bh=!0,this.Ra.IsAdded||(this.Ra.IsModified=!0))},update:function(c,b){var d=this.el.getBoundingClientRect(),f=$(this.el).position(),d={x:f.left+d.width/2,y:f.top+d.height/2},f=this.Ra.ba(),e=b.Ga(f),d=a.Ba.wa.jA(d,1/e,1/e),e=b.kb(f+1),h=b.oe().Xp(f),r=h.width,h=h.height;1===e?d=a.Ba.wa.xp(d,-h,0):2===e?d=a.Ba.wa.xp(d,-r,-h):3===e&&(d=a.Ba.wa.xp(d,0,-r));d=a.Ba.wa.xg(d,-1*e*Math.PI/2);f=this.Ra.NoZoom?b.Ga(f):1;e=new Annotations.ta(this.Ra.Ve(),
this.Ra.We(),this.Ra.Ve()+this.Ra.Ta()/f,this.Ra.We()+this.Ra.Oa()/f);(new this.Ra.selectionModel(this.Ra)).drawPopupTail(c,this.Ra,f,e,d)},fr:function(){var a=$('<div class="popup-header"/>').append('<div class="popup-subject">'+this.Ra.Subject+"</div>"),c=$('<div class="popup-comment-container">').append(this.er(this.Ra)),a=$('<div class="popup" style="width:200px;height:100px;padding-bottom:8px" />').append('<div class="popup-minimize-button ui-icon ui-icon-minus"/>').append('<div class="popup-handle"/>').append(a).append(c);
this.el=a.get(0);return a},er:function(a,c){c=c||0;var b=$('<textarea class="popup-comment" />').val(a.rf());b.data("id",a.Id);var d=$("<div>").addClass("replyButton glyphicons unshare"),f=Annotations.xa.toDateString(a.DateCreated);a.Author&&(f=a.Author+": "+f);f=$("<div>").addClass("popup-text").text(f);b=$("<div>").css("padding-left",c).append(d).append(f).append(b);0!==c&&(d=$("<div>").addClass("deleteButton glyphicons circle_remove"),b.prepend(d));return b}};e.prototype={set:function(c,b){var d=
0,f=0,e=0,f=Math.abs(c.v-c.H),h=Math.abs(c.k-c.u);b.x>=c.v+0.5*f&&b.y<c.k+0.5*h?d={x:c.v+f,y:c.k}:b.x<c.v+0.5*f&&b.y<c.k+0.5*h?d={x:c.v,y:c.k}:b.x<c.v+0.5*f&&b.y>=c.k+0.5*h?d={x:c.v,y:c.k+h}:b.x>=c.v+0.5*f&&(b.y>=c.k+0.5*h&&(d={x:c.v+f,y:c.k+h}));h=a.Ba.wa.Mk(d,b);e=a.Ba.wa.vo(d,b);f={x:d.x+e,y:d.y-5};e={x:d.x+e,y:d.y+5};f=a.Ba.wa.xg(f,h,d);e=a.Ba.wa.xg(e,h,d);this.bj=d;this.cj=f;this.dj=e},draw:function(a){a.strokeStyle="rgba(0,0,0,0.8)";a.beginPath();a.moveTo(this.bj.x,this.bj.y);a.lineTo(this.cj.x,
this.cj.y);a.lineTo(this.dj.x,this.dj.y);a.closePath();a.stroke();a.fillStyle="rgba(255, 255, 0, 0.7)";a.beginPath();a.moveTo(this.bj.x,this.bj.y);a.lineTo(this.cj.x,this.cj.y);a.lineTo(this.dj.x,this.dj.y);a.closePath();a.fill()}};h.prototype={Zc:function(a){return $(a).data("popup")},zn:function(a,c){this.ha.trigger("setNoteText",[a,c]);if(this.ha.yf){var b=this.vr(a,c).children(".popup-comment");b.val(a.rf());b.trigger("updateHeight")}},vr:function(a,c){var b=this.Zc(c||a),d=null;$(b.el).find(".popup-comment").each(function(){var c=
$(this);if(c.data("id")===a.Id)return d=c.parent(),!1});return d},Ur:function(a,c){var b=this,d=b.ha.Hc(c);a.prop("readonly",!d).off("keyup").on("keyup",function(a){c.Jh(a.target.value);c instanceof Annotations.Aa&&b.ha.Vb(c);b.ha.trigger("annotationChanged",[[c],"modify"])});var f=a.parent().find(".replyButton"),e=a.parent().find(".deleteButton");d||e.remove();b.ha.gm()?f.remove():(f.off("click").on("click",function(){var a=b.ha.ms(c);b.$f(a,c,b.ha.Ui(c))}),e.off("click").on("click",function(){b.ha.Ue(c)}))},
Ex:function(a){var c=this;a&&(!a.el&&a.fr());var b=$(a.el),d=a.Ra;b.find(".popup-minimize-button").click(function(){c.Jl(a.Ra)});var f=b.find(".popup-comment");this.Ur(f,d);f=a.Ra.PageNumber-1;"undefined"!==typeof b.draggable&&(null!==b.draggable&&b.draggable({containment:$("#pageContainer"+f),cancel:".popup-comment-container",drag:function(){d.IsAdded||(d.IsModified=!0);c.ha.wb(d.jb())},stop:function(){var f=d.He(),e=c.h.Ga(d.ba());f.X=parseFloat(b.css("left"))/e;f.Y=parseFloat(b.css("top"))/e;f.Width=
parseFloat(b.css("width"));f.Height=parseFloat(b.css("height"));c.ha.trigger("annotationChanged",[[a.Ra],"modify"])}}));if("undefined"!==typeof b.resizable&&null!==b.resizable){var e=b.find(".popup-comment-container");b.resizable({minWidth:80,minHeight:80,alsoResize:e,resize:function(){d.IsAdded||(d.IsModified=!0);c.ha.wb(d.jb());var a=b.find(".popup-comment");if(1===a.length){var f=b.find(".popup-text").height();a.css({"min-height":e.height()-f-7})}},stop:function(){var f=d.He(),e=c.h.Ga(d.ba);f.X=
parseFloat(b.css("left"))/e;f.Y=parseFloat(b.css("top"))/e;f.Width=parseFloat(b.css("width"));f.Height=parseFloat(b.css("height"));c.ha.trigger("annotationChanged",[[a.Ra],"modify"]);b.find(".popup-comment").trigger("updateHeight")}})}b.on("mousedown",function(a){a.stopPropagation()})},createPopup:function(b){var d=this.Zc(b);d||(d=new c(b),$(b).data("popup",d));var f=this.h.Ga(b.ba());d.zi=f;d.yi=this.h.kb(b.PageNumber);var e=!1,h=b.He(),p;if(null===d.el){e=!0;p=d.fr();this.Ex(d);var r=$("#pageContainer"+
b.ba());if(!h){h=new Annotations.af;b.kp(h);var s=this.Dt({x:b.Xe(),y:b.Ye()},d.zi,d.yi,b.ba());h.X=a.Ba.wa.Bk(s.left-150,0)/f;h.Y=a.Ba.wa.Bk(s.top-150,0,r.innerHeight()-p.outerHeight())/f;h.Width=parseFloat(p.css("width"));h.Height=parseFloat(p.css("height"));(b instanceof Annotations.Jd||b instanceof Annotations.Rf)&&h.Kh(!0)}p.appendTo(r)}else p=$(d.el);p.css({position:"absolute",left:h.X*f,top:h.Y*f,width:h.Width,height:h.Height});f=p.find(".popup-comment");r=f.first();r.val(b.rf());0<h.Width&&
(0<h.Height&&(s=p.find(".popup-comment-container"),s.css({height:h.Height-34,width:""}),0===b.Ti().length&&(h=p.find(".popup-text").height(),r.css({"min-height":s.height()-h-7}))));e&&this.ha.trigger("annotationPopupCreated",[b,p,r]);f.trigger("updateHeight");this.ha.h.Ni||d.hide();return d},Jl:function(a){var c=!1,b=this.Zc(a);if(!b)return c;if(!this.ha.h.Ni)return b.hide(),c;b.bh?b.hide():(b.show(),c=!0);a.IsModified=!0;a.He().Kh(c);this.ha.trigger("annotationPopupStateChanged",[a,$(b.el),c]);this.ha.trigger("annotationChanged",
[[a],"modify"]);this.ha.wb(a.jb());return c},Xi:function(a){var c=this.Zc(a);c&&c.hide();var b=a.He();b&&b.Kh(!1);c&&this.ha.trigger("annotationPopupStateChanged",[a,$(c.el),!1])},wA:function(a){var c=this.Zc(a);c&&c.show();a.He().Kh(!0);this.ha.trigger("annotationPopupStateChanged",[a,$(c.el),!0])},Iy:function(a){var c=this.Zc(a);if(c){var c=$(c.el),b=c.find(".popup-comment-container .popup-comment");this.ha.trigger("annotationPopupDeleted",[a,c,b]);c.remove()}},PA:function(a,c){var b;if(this.ha.yf)for(var d=
0;d<a.length;d++)if(b=this.Zc(a[d]),b.bh){if(!$(b.el).closest("html").length){var f=a[d].ba(),e=$("#pageContainer"+f),h=$(b.el);h.draggable({containment:e});var s={left:parseFloat(h.css("left")),top:parseFloat(h.css("top"))},s=this.Ey(s,b.zi,b.yi,f);b.zi=this.h.Ga(f);b.yi=this.h.kb(f+1);f=this.Dt(s,b.zi,b.yi,f);h.css({left:f.left,top:f.top});h.appendTo(e)}b.update(c,this.h)}},$f:function(a,c,b){this.ha.trigger("addReply",[a,c,b]);if(this.ha.yf){var d=this.Zc(b),f=$(d.el);f.find(".popup-comment-container").find(".popup-comment").css("min-height",
"");c=this.vr(c,b);d=d.er(a,10);c.append(d);d=d.find(".popup-comment");this.Ur(d,a);this.Xi(a);a.IsModified=!1;this.ha.trigger("annotationPopupCreated",[a,f,d])}},ao:function(a){var c=this.ha.Ui(a);this.ha.trigger("deleteReply",[a,c]);if(this.ha.yf){var b=this,c=this.Zc(c),d=$(c.el);d.find(".popup-comment").each(function(){var c=$(this);if(c.data("id")===a.Id)return b.ha.trigger("annotationPopupDeleted",[a,d,c.parent().find(".popup-comment")]),c.removeData("id"),c.parent().remove(),!1})}},Ey:function(c,
b,d,f){var e=this.h.kg(f);f=this.h.jg(f);var h=c.left/b;c=c.top/b;var r,s;switch(d){case a.g.sa.Vd:r=h;s=c;break;case a.g.sa.Xd:r=c;s=f-h;break;case a.g.sa.nf:r=e-h;s=f-c;break;case a.g.sa.Wd:r=e-c,s=h}return{x:r,y:s}},Dt:function(c,b,d,f){var e=this.h.kg(f)*b;f=this.h.jg(f)*b;c.x*=b;c.y*=b;var h,r;switch(d){case a.g.sa.Vd:h=c.x;r=c.y;break;case a.g.sa.Xd:h=f-c.y;r=c.x;break;case a.g.sa.nf:h=e-c.x;r=f-c.y;break;case a.g.sa.Wd:h=c.y,r=e-c.x}return{left:h,top:r}}}})(window);
(function(a){var h={dC:function(a,c){return{x:a,y:c}},vt:function(a,c,b,d){return null===a||(null===c||(null===b||null===d))?null:{v:a,k:c,H:a+b,u:c+d}},rC:function(a,c){if(!c||!a)return!1;var b=!1,d=!1;"undefined"!==typeof c.v&&("undefined"!==typeof c.k&&("undefined"!==typeof c.H&&"undefined"!==typeof c.u))||console.warn("rect points are undefined");b=a.x>=c.v&&a.x<=c.H;d=a.y>=c.k&&a.y<=c.u;return b&&d},fA:function(a,c){return a&&c?a.v<=c.H&&(a.H>=c.v&&(a.k<=c.u&&a.u>=c.k))?!0:!1:!1},It:function(e,
c,b,d,f,k){var h=k.h.J.o[f].width,l=k.h.J.o[f].height;c=a.Ba.cp(e,c,b,d,k.h.tf(f));e={x:Math.max(c.x,0),y:Math.max(c.y,0)};l={x:Math.min(c.x+c.w,h),y:Math.min(c.y+c.wh,l)};h=k.h.N.zd(e,f);l=k.h.N.zd(l,f);e=k.h.mc(f);"undefined"!==typeof e.fe&&null!==e.fe?(h.x-=e.fe,h.y-=e.zf,l.x-=e.fe,l.y-=e.zf):(f=k.h.N.xo(f),h.x-=f.x,h.y-=f.y,l.x-=f.x,l.y-=f.y);return{x:Math.floor(Math.min(h.x,l.x)),y:Math.floor(Math.min(h.y,l.y)),w:Math.floor(Math.abs(l.x-h.x)),wh:Math.floor(Math.abs(l.y-h.y))}},cp:function(a,
c,b,d,f){a=f.za(new XODText.Ub(a,c));c=f.za(new XODText.Ub(b,d));b=Math.abs(a.x-c.x);d=Math.abs(a.y-c.y);f=Math.min(a.x,c.x);a=Math.min(a.y,c.y);return{x:f,y:a,w:b,wh:d}},lC:function(a,c,b,d,f){var k=Math.abs(a-b),q=Math.abs(c-d);a=Math.min(a,b);c=Math.max(c,d);return h.KA(a,c,k,q,f)},KA:function(a,c,b,d,f){var k=96/72;return{x:k*a,y:f-k*c,w:k*b,wh:k*d}},CC:function(a,c,b,d,f){d=new XODText.Ub(a,c+d);a=new XODText.Ub(a+b,c);f=f.inverse();d=f.za(d);f=f.za(a);return{v:d.x,k:d.y,H:f.x,u:f.y}},DC:function(a,
c,b,d,f){return h.JA(0.75*a,0.75*(f-c),0.75*b,0.75*d)},JA:function(a,c,b,d){return{v:a,k:c-d,H:a+b,u:c}},wa:{Fz:function(a,c,b,d){function f(a,c,b){return(b.y-a.y)*(c.x-a.x)>(c.y-a.y)*(b.x-a.x)}return f(a,b,d)!==f(c,b,d)&&f(a,c,b)!==f(a,c,d)},Mk:function(a,c){var b=Math.atan(Math.abs(a.y-c.y)/Math.abs(a.x-c.x));c.x<a.x&&c.y>a.y?b=Math.PI-b:c.x<=a.x&&c.y<a.y?(b=Math.PI-b,b*=-1):c.x>=a.x&&(c.y<a.y&&(b*=-1));return b},vo:function(a,c){return Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2))},xg:function(a,
c,b){b=b||{x:0,y:0};var d=a.x-b.x;a=a.y-b.y;return{x:Math.cos(c)*d-Math.sin(c)*a+b.x,y:Math.sin(c)*d+Math.cos(c)*a+b.y}},xp:function(a,c,b){return{x:a.x+(c||0),y:a.y+(b||0)}},jA:function(a,c,b){return{x:a.x*(c||0),y:a.y*(b||0)}},Bk:function(a,c,b){b=void 0!==b?b:Infinity;c=void 0!==c?c:-Infinity;return Math.max(Math.min(a,b),c)},io:function(a,c,b){return Math.abs(a-c)<(b||0.01)}}};a.Ba=h})(window);
(function(a){function h(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.Ob=a;this.Oo=[];this.Cp=[]}h.prototype={ds:function(a){return a&&0<a.getElementsByTagName("annots").length?(this.Oo=e.Ts(a,"link"),this.Cp=e.Ts(a,"widget"),a.getElementsByTagName("annots")[0].childNodes):null},Lv:function(a){a=this.ds(a);return null!==a?this.Re(a,!0):[]},Mv:function(a,b){var d=this.ds(a);null!==d?this.jy(d,b):b([])},km:function(a){var b={};if(a){var d=a.getElementsByTagName("add"),
f=a.getElementsByTagName("modify");a=a.getElementsByTagName("delete");0<d.length&&(b.vk=this.Re(d[0].childNodes));0<a.length&&(b.vs=this.Vh(a[0]));0<f.length&&(b.Vo=this.Wv(f[0].childNodes))}return b},Vh:function(a){var b=[];a=a.getElementsByTagName("id");for(var d=0;d<a.length;++d){var f=this.Ob.gg($(a[d]).text());f&&(b.push(f),this.Ob.Ue(f,!0))}return b},Wv:function(a){return this.Re(a,!0)},Re:function(a,b){var d=[];this.Xr(a,d,0,a.length,b);return d},iy:function(a,b,d){var f=this.Ob,k=null,e=!1,
h=f.hf[a];if(h){a=$(b).attr("page");a=parseInt(a,10);a=f.h.tf(a);for(var m=0;m<h.length;m++)if(h[m].prototype.ty(b)){k=null;d&&(k=this.Ob.gg($(b).attr("name")));k||(k=new h[m],e=!0);k.isImporting=!0;k.deserialize(b,a);k.isImporting=!1;e||f.NA(k,!0);k.IsAdded=!1;k.IsModified=!1;break}}else"widget"===a?(k=this.qt(a,b))&&f.zu(k):"link"===a?(k=this.qt(a,b))&&f.yu(k):console.warn("Unsupported annotation type.");return{Bi:k,uA:e}},Xr:function(a,b,d,f,k){for(var h=[];d<f;++d)if(a[d].nodeType===Node.ELEMENT_NODE){var l=
this.iy(e.uo(a[d]),a[d],k),m=l.Bi;m&&(b.push(m),l.uA&&h.push(m))}this.Ob.Re(h,!0);h.forEach(function(a){a.IsAdded=!1;a.IsModified=!1})},jy:function(a,b){function d(){f.Xr(a,h,k,Math.min(k+e,a.length),!0);setTimeout(function(){k+=e;k<a.length?d():b(h)},0)}var f=this,k=0,e=50,h=[];d()},qt:function(c,b){var d=this.Ob,f=null;if("link"===c){var k=e.Os(b)[0],h=e.Ps(k);"GoTo"===h?(f=new a.g.pe,f.hd=parseInt(e.getAttribute(b,"PageNum"),10),_.isNaN(f.hd)&&0<k.getElementsByTagName("Dest").length?(k=this.Ft(k.getElementsByTagName("Dest")[0]),
$.extend(f,k)):(f.Ll=e.getAttribute(b,"Vpos")||0,f.Wk=e.getAttribute(b,"Hpos")||0,f.hd=f.hd||1)):"URI"===h&&(f=new a.g.Mf,k=this.Gt(k),f.target=k)}else if("widget"===c){f=e.getAttribute(b,"FT");if("Btn"===f)if(f=new Annotations.je,k=e.getAttribute(b,"Ff"))if(k=parseInt(k,10),h=0!==(k&65536)?!0:!1)f.sc="P",e.getAttribute(b,"ButtonLabel")&&(f.Hu=e.getAttribute(b,"ButtonLabel"));else{if(k=0!==(k&32768)?!0:!1,f.sc=k?"R":"C",k=e.getAttribute(b,"N"))f.Se=k}else{if(f.sc="C",k=e.getAttribute(b,"N"))f.Se=
k}else if("Tx"===f){if(f=new Annotations.xe,k=e.getAttribute(b,"Ff"))k=parseInt(k,10),f.lq=k&4096,f.lq=0!==f.lq?!0:!1,f.xm=k&8192,f.xm=0!==f.xm?!0:!1,f.Op=k&8388608,f.Op=0!==f.Op?!0:!1}else if("Ch"===f){if(f=new Annotations.le,k=e.getAttribute(b,"Ff"))k=parseInt(k,10),f.ei=k&131072,f.ei=0!==f.ei?!0:!1,f.mm=k&262144,f.mm=0!==f.mm?!0:!1}else if("Sig"===f){if(f=new Annotations.Nj,k=b.querySelector("imagedata"))f.jm=k.textContent}else return;this.Uv(b,f)}if(f){f.PageNumber=parseInt(e.getAttribute(b,"page"),
10)+1;f.Subject=_.isNull(e.getAttribute(b,"subject"))?c:e.getAttribute(b,"subject");var l;e.getAttribute(b,"opacity")&&(f.opacity=e.getAttribute(b,"opacity"));e.getAttribute(b,"color")&&(k=parseInt(e.getAttribute(b,"color").substr(1,2),16),h=parseInt(e.getAttribute(b,"color").substr(3,2),16),l=parseInt(e.getAttribute(b,"color").substr(5,2),16),f.StrokeColor=new Annotations.Color(k,h,l),e.getAttribute(b,"opacity")&&(null!==f.StrokeColor&&(f.StrokeColor.A=parseFloat(e.getAttribute(b,"opacity")))));
e.getAttribute(b,"interior-color")&&(k=parseInt(e.getAttribute(b,"interior-color").substr(1,2),16),h=parseInt(e.getAttribute(b,"interior-color").substr(3,2),16),l=parseInt(e.getAttribute(b,"interior-color").substr(5,2),16),f.FillColor=new Annotations.Color(k,h,l),e.getAttribute(b,"opacity")&&(null!==f.FillColor&&(f.FillColor.A=parseFloat(e.getAttribute(b,"opacity")))));e.getAttribute(b,"flags")&&(f.$v=-1!==e.getAttribute(b,"flags").indexOf("nozoom"),f.mB=-1!==e.getAttribute(b,"flags").indexOf("norotate"),
f.im=-1!==e.getAttribute(b,"flags").indexOf("hidden"));e.getAttribute(b,"name")&&(f.Id=e.getAttribute(b,"name"));e.getAttribute(b,"title")&&("widget"===c?f.ua=e.getAttribute(b,"title"):f.Author=e.getAttribute(b,"title"));e.getAttribute(b,"rect")&&(k=e.getAttribute(b,"rect").split(","),"widget"!==c&&"link"!==c?(d=d.h.tf(e.getAttribute(b,"page")),d=a.Ba.cp(k[0],k[1],k[2],k[3],d),f.X=d.x,f.Y=d.y,f.Width=d.w,f.Height=d.wh):f.Rect=k);f.bC=!0;e.getAttribute(b,"creationdate")&&(f.DateCreated=e.Fk(e.getAttribute(b,
"creationdate")));e.getAttribute(b,"date")&&(f.DateModified=e.Fk(e.getAttribute(b,"date")));f.IsAdded=!1;f.IsModified=!1}return f},Uv:function(a,b){if(e.getAttribute(a,"Opt")){var d=e.getAttribute(a,"Opt");-1!==d.indexOf(",")?b.Ca=d.split(","):b.Ca=e.getAttribute(a,"Opt")}var f;if(d=e.Ok(a,"V","value"))if(b.ja=d,b.Ca&&(b.Ca instanceof Array&&0<b.Ca.length)){f=!1;for(d=0;d<b.Ca.length;++d)if(b.ja===b.Ca[d]){f=!0;break}f||(d=parseInt(b.ja.charAt(b.ja.length-1),10),b.ja=b.Ca[d-1])}if(d=e.Ok(a,"DV","defaultvalue"))if(b.Te=
d,b.Ca&&(b.Ca instanceof Array&&0<b.Ca.length)){f=!1;for(d=0;d<b.Ca.length;++d)if(b.Te===b.Ca[d]){f=!0;break}f||(d=parseInt(b.Te.charAt(b.Te.length-1),10),b.Te=b.Ca[d-1])}e.getAttribute(a,"Ff")&&(d=parseInt(e.getAttribute(a,"Ff"),10),b.ki=d&1,b.ki=0!==b.ki?!0:!1,b.li=d&2,b.li=0!==b.li?!0:!1,b.mq=d&4,b.mq=0!==b.mq?!0:!1);d=e.Et(a);d.color&&(b.color=d.color);e.getAttribute(a,"FontName")?b.De=e.bp(e.getAttribute(a,"FontName")):d.font&&(d.font.name&&(b.De=d.font.name));e.getAttribute(a,"FontSize")?b.fontSize=
parseFloat(e.getAttribute(a,"FontSize")):b.fontSize=d.font&&d.font.size?parseFloat(d.font.size):0;var k;e.getAttribute(a,"BC")&&(k=e.getAttribute(a,"BC").split(","),3===k.length&&(d=parseInt(255*k[0],10),f=parseInt(255*k[1],10),k=parseInt(255*k[2],10),b.borderColor=e.Pk(d,f,k)));e.getAttribute(a,"BG")?(k=e.getAttribute(a,"BG").split(","),3===k.length?(d=parseInt(255*k[0],10),f=parseInt(255*k[1],10),k=parseInt(255*k[2],10),b.backgroundColor=e.Pk(d,f,k)):"P"===b.sc&&(b.transparent=!0)):"P"===b.sc&&
(b.transparent=!0);e.tz(a)&&this.Qv(a,b)},Ft:function(a){a=e.qo(a);var b=e.uo(a),d=parseInt(e.getAttribute(a,"Page"),10);1>=d&&(d=1);var f={},k=this.Ob.h.tf(d-1),h;switch(b){case "XYZ":h=e.Gi(e.getAttribute(a,"Left"),e.getAttribute(a,"Top"),k);f.left=h.x;f.top=h.y;f.zoom=parseFloat(e.getAttribute(a,"Zoom"));break;case "FitH":case "FitBH":h=e.Gi(null,e.getAttribute(a,"Top"),k);f.top=h.y;break;case "FitV":case "FitBV":h=e.Gi(e.getAttribute(a,"Left"),null,k);f.left=h.x;break;case "FitR":h=e.Gi(e.getAttribute(a,
"Left"),e.getAttribute(a,"Top"),k),f.left=h.x,f.top=h.y,h=e.Gi(e.getAttribute(a,"Right"),e.getAttribute(a,"Bottom"),k),f.right=h.x,f.bottom=h.y}return{hd:d,co:b,Mb:f}},Gt:function(a){var b=e.getAttribute(a,"Target");_.isNull(b)&&(a=e.qo(a),b=e.getAttribute(a,"Name"));return b},Qv:function(a,b){var d=e.Os(a);b.Ia=[];for(var f=0;f<d.length;f++){b.Ia.push({});var k=d[f],h=e.Ps(k);if(h)switch(b.Ia[f].hy=h,b.Ia[f].trigger=e.getAttribute(k,"Trigger")||"U",h){case "GoTo":b.Ia[f].hd=e.getAttribute(k,"PageNum");
_.isNull(b.Ia[f].hd)&&(0<k.getElementsByTagName("Dest").length&&(k=this.Ft(k.getElementsByTagName("Dest")[0]),$.extend(b.Ia[f],k)));break;case "URI":b.Ia[f].name=this.Gt(k);break;case "Named":b.Ia[f].name=e.getAttribute(k,"N");_.isNull(b.Ia[f].name)&&(0<k.getElementsByTagName("Named").length&&(b.Ia[f].name=e.getAttribute(k.getElementsByTagName("Named")[0],"Name")));break;case "JavaScript":b.Ia[f].Ko=e.getAttribute(k,"JavaScript");b.Ia[f].Ko||(b.Ia[f].Ko=$(k.getElementsByTagName("JavaScript")[0]).text());
break;case "ResetForm":_.isNull(e.getAttribute(k,"ResetFields"))?_.isNull(e.getAttribute(k,"ResetExcludedFields"))?0<k.getElementsByTagName("ResetForm").length&&(k=k.getElementsByTagName("ResetForm")[0],(h=e.getAttribute(k,"Fields"))&&(h=h.split(",")),k=parseInt(e.getAttribute(k,"Flags"),10),_.isNull(h)||_.isUndefined(h)?b.Ia[f].gp=[]:1===k?b.Ia[f].gp=h:b.Ia[f].Rt=h):b.Ia[f].gp=e.getAttribute(k,"ResetExcludedFields").split(","):b.Ia[f].Rt=e.getAttribute(k,"ResetFields").split(",");break;case "SubmitForm":var h=
k.getElementsByTagName("SubmitForm"),l="SubmitURL",m="SubmitFields",n="SubmitFlag";0<h.length&&(k=h[0],l="URL",m="Fields",n="Flags");b.Ia[f].DA=e.getAttribute(k,l);_.isNull(e.getAttribute(k,m))||(b.Ia[f].BA=e.getAttribute(k,m).split(","));_.isNull(e.getAttribute(k,n))||(b.Ia[f].CA=parseInt(e.getAttribute(k,n),10));break;case "Hide":_.isNull(e.getAttribute(k,"HideField"))?0<k.getElementsByTagName("Hide").length?(k=k.getElementsByTagName("Hide")[0],h=e.getAttribute(k,"Fields"),"false"!==e.getAttribute(k,
"Hide")?b.Ia[f].Fo=h:b.Ia[f].gu=h):b.Ia[f].gu=e.getAttribute(k,"ShowField"):b.Ia[f].Fo=e.getAttribute(k,"HideField")}}},Am:function(a,b,d){var f=this.Ob.h.tf(a.jb()-1).inverse(),k=document.createElementNS("",a.elementName);a.serialize(k,f,d);a=(new XMLSerializer).serializeToString(k);b.writeString(a)},Lw:function(a){a=a||{};var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space",
"preserve");!1!==a.widgets&&this.Dw(b);b.writeStartElement("annots");for(var d=this.Ob.Lg(),f=0;f<d.length;++f)this.Am(d[f],b,!0);!1!==a.links&&this.Ew(b);!1!==a.widgets&&this.Kw(b);b.writeEndElement();b.writeEndElement();this.Hw(b);a=b.flush();return a=a.replace(/\t/g,"")},Hw:function(a){var b=this.Ob;a.writeStartElement("pages");var d=b.h.oe().o;if(d){var f=b.h.tf(0);a.writeStartElement("defmtx");var k;k=""+(f.m_a+","+f.m_b+","+f.m_c+","+f.m_d+","+f.m_h+","+f.m_v);a.writeAttributeString("matrix",
k);a.writeEndElement();for(k=1;k<d.length;++k){var e=b.h.tf(k);if(!e.io(f)){a.writeStartElement("pgmtx");var h="",h=h+(e.m_a+","+e.m_b+","+e.m_c+","+e.m_d+","+e.m_h+","+e.m_v);a.writeAttributeString("matrix",h);a.writeAttributeString("page",k.toString());a.writeEndElement()}}}a.writeEndElement()},Aw:function(a){a.writeStartElement("add");for(var b=this.Ob.Lg(),d=0;d<b.length;++d){var f=b[d];f.IsAdded&&(this.Am(f,a),f.IsAdded=!1)}a.writeEndElement()},Gw:function(a){a.writeStartElement("modify");for(var b=
this.Ob,d=b.Lg(),f=0;f<d.length;++f){var k=d[f];k.IsModified&&(b.Hc(k)&&(this.Am(k,a),k.IsModified=!1))}a.writeEndElement()},Cw:function(a){a.writeStartElement("delete");for(var b=this.Ob,d=this.hv(),f=0;f<d.length;++f)a.writeStartElement("id"),a.writeString(d[f]),a.writeEndElement();b.bo.length=0;a.writeEndElement()},Ew:function(a){for(var b=0;b<this.Oo.length;++b)a.writeString(this.Oo[b])},Kw:function(a){for(var b=this.Ob,d=0;d<this.Cp.length;++d){var f=this.Cp[d],k=f.indexOf(' v="'),h=!1;0>k&&
(k=f.indexOf(' V="'),0<=k&&(h=!0));var l,m,n;if(0<=k)for(l=f.indexOf('"',k+4),k=f.substring(k,l+1),m=f.indexOf('title="'),l=f.indexOf('"',m+7),l=f.substring(m+7,l),n=0;n<b.Fb.length;++n){if(m=b.Fb[n],m.ua===l){_.isUndefined(m.ja)||(l=e.escape(m.ja),m=' v="'+l+'"',h&&(m=' V="'+l+'"'),f=f.replace(k,m));break}}else for(m=f.indexOf('title="'),l=f.indexOf('"',m+7),l=f.substring(m+7,l),n=0;n<b.Fb.length;++n)if(m=b.Fb[n],m.ua===l){_.isUndefined(m.ja)||(l=e.escape(m.ja),m=' v="'+l+'"',h&&(m=' V="'+l+'"'),
f=[f.slice(0,7),m,f.slice(7)].join(""));break}a.writeString(f)}},Bm:function(a,b){a.writeStartElement("field");a.writeAttributeString("name",b.ua);a.writeStartElement("value");a.writeString(e.escape(b.ja));a.writeEndElement();a.writeEndElement();b.nd=!1},Dw:function(a){a.writeStartElement("fields");for(var b=this.Ob,d=0;d<b.Fb.length;++d)this.Bm(a,b.Fb[d]);a.writeEndElement()},Fw:function(a){a.writeStartElement("fields");for(var b=this.Ob,d=0;d<b.Fb.length;++d){var f=b.Fb[d];f.nd&&this.Bm(a,f)}a.writeEndElement()},
Iw:function(a){var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space","preserve");b.writeStartElement("fields");for(var d=0;d<a.length;++d){var f=a[d],k=f.nd;this.Bm(b,f);f.nd=k}b.writeEndElement();b.writeEndElement();a=b.flush();return a=a.replace(/\t/g,"")},Jw:function(a){for(var b=[],d=0;d<a.length;++d){var f=a[d];_.isUndefined(f.ja)||b.push(f.ua+"="+encodeURIComponent(f.ja))}return b.join("&")},
cm:function(){var a=new XMLWriter("UTF-8","1.0");a.writeStartDocument();a.writeStartElement("xfdf");a.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");this.Fw(a);this.Aw(a);this.Gw(a);this.Cw(a);a.writeEndElement();a=a.flush();return a=a.replace(/\t/g,"")},hv:function(){return _.map(this.Ob.bo,function(a){return a.Id})}};a.g.zx=h;var e={tp:function(a){var b;b="D:"+a.getFullYear().toString();b+=this.ic((a.getMonth()+1).toString());b+=this.ic(a.getDate().toString());
b+=this.ic(a.getHours().toString());b+=this.ic(a.getMinutes().toString());b+=this.ic(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?b+="Z00'00'":(0>a?(b+="+",a*=-1):b+="-",b+=this.ic(parseInt(a/60,10).toString())+"'",b+=this.ic((a%60).toString())+"'");return b},toDateString:function(a){return a.getFullYear().toString()+"-"+this.ic((a.getMonth()+1).toString())+"-"+this.ic(a.getDate().toString())+" "+this.ic(a.getHours().toString())+":"+this.ic(a.getMinutes().toString())+":"+this.ic(a.getSeconds().toString())},
ic:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,b){_.isUndefined(b)&&(b=2);return parseFloat(a.toFixed(b)).toString()},getAttribute:function(a,b){return a.getAttribute(b)||a.getAttribute(b.toLowerCase())},uo:function(a){return a.localName||(a.baseName||a.nodeName)},Ts:function(a,b){var d=[],f=a.getElementsByTagName(b);if(0===f.length)return d;for(var k=0;k<f.length;++k){var e=f[k].outerHTML||f[k].xml;
if(_.isUndefined(e)||0!==e.indexOf("<"+b+" "))e=(new XMLSerializer).serializeToString(f[k]);0>e.indexOf("</"+b+">")&&("/"!==e.charAt(e.length-2)&&(e=e.slice(0,e.length-1)+"/"+e.slice(e.length-1)));d.push(e)}return d},tz:function(a){return e.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},Os:function(a){return e.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},Ps:function(a){if(!a)return null;var b=e.getAttribute(a,"ActionType");return b?b:(a=e.qo(a))?
e.uo(a):null},qo:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?a[0]:null},Ok:function(a,b,d){b=e.getAttribute(a,b);_.isNull(b)&&(b=a.getElementsByTagName(d),b=0<b.length?b[0].textContent:null);return b},Gi:function(c,b,d){var f=_.isNull(c)?0:parseFloat(c),k=_.isNull(b)?0:parseFloat(b);d=a.Ba.cp(f,k,f+1,k-1,d);return{x:_.isNull(c)?null:d.x,y:_.isNull(b)?null:d.y}},OB:function(a,b,d){a=a.split(";");for(var f=[],k=0;k<a.length;++k){var e=a[k].split(","),e=
new XODText.Ub(e[0],e[1]),e=new Annotations.Point(e.x,e.y);b.za(e);"function"===typeof d&&d(e);f.push(e)}return f},jp:function(a,b,d){if("undefined"===typeof d||null===d)d=",";if(!(a instanceof Annotations.Point))return null;var f=new Annotations.Point(a.x,a.y);b&&b.za(a);b&&b.za(f);return e.toFixed(f.x)+d+e.toFixed(f.y)},xs:function(a,b,d){if("undefined"===typeof d||null===d)d=",";if("string"!==typeof a)return null;a=a.split(d);d=null;2===a.length?(d=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),
b&&b.za(d)):console.warn("Invalid serialized string format.");return d},oj:function(a,b,d,f){if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof d||null===d)d=",";for(var k="",h=0;h<a.length;h++){var l=new Annotations.Point(a[h].x,a[h].y);b&&b.za(l);k+=e.toFixed(l.x)+d;k+=e.toFixed(l.y)+f}return k.substring(0,k.length-1)},Li:function(a,b,d,f){var e=[];if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof d||null===d)d=",";var h;a=a.split(f);if(f===d)for(f=0;f+1<a.length;f+=
2)h=new Annotations.Point(a[f],a[f+1]),b&&b.za(h),e.push(h);else for(f=0;f<a.length;++f)h=a[f].split(d),h=new Annotations.Point(h[0],h[1]),b&&b.za(h),e.push(h);return e},El:function(a,b,d){if("undefined"===typeof d||null===d)d=",";var f=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);b.za(f);b.za(a);return e.toFixed(f.x)+d+e.toFixed(f.y)+d+e.toFixed(a.x)+d+e.toFixed(a.y)},ys:function(a,b,d){if("undefined"===typeof d||null===d)d=",";d=a.split(d);a=new Annotations.Point(d[0],d[1]);
d=new Annotations.Point(d[2],d[3]);b&&(b.za(a),b.za(d));return new Annotations.ta(a.x,a.y,d.x,d.y)},ip:function(a,b,d){var f=new XODText.Pa;f.Xk(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return e.El(a,f,d)},My:function(a,b,d){var f=new XODText.Pa;f.Xk(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return e.ys(a,f,d)},wC:function(a,b){for(var d="",f=0;f<a.length;f++){var k=a[f],k=new Annotations.Point(k.x,k.y);b.inverse().za(k);d+=e.toFixed(k.x)+",";d+=e.toFixed(k.y)+";"}return d.substring(0,d.length-1)},PB:function(a,b){var d=
a.split(","),f=new Annotations.Point(d[0],d[1]),d=new Annotations.Point(d[2],d[3]);"undefined"!==typeof b&&(b.za(f),b.za(d));return new Annotations.ta(f.x,f.y,d.x,d.y)},xC:function(a,b){var d=new Annotations.Point(a.x1,a.y1),f=new Annotations.Point(a.x2,a.y2),k=b.inverse();k.za(d);k.za(f);return e.toFixed(d.x)+","+e.toFixed(d.y)+","+e.toFixed(f.x)+","+e.toFixed(f.y)},nj:function(a){if("undefined"===typeof a||(null===a||(!a instanceof Annotations.Color||0===a.A)))return null;var b=a.R.toString(16).toUpperCase();
2>b.length&&(b="0"+b);var d=a.G.toString(16).toUpperCase();2>d.length&&(d="0"+d);a=a.B.toString(16).toUpperCase();2>a.length&&(a="0"+a);return"#"+b+d+a},oh:function(a){return RegExp(/^#[0-9a-f]{6}$/i).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},Fk:function(a){return new Date(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),
10),parseInt(a.substring(14,16),10),0)},Pk:function(a,b,d){a="#"+e.ic(a.toString(16));a+=e.ic(b.toString(16));return a+=e.ic(d.toString(16))},nA:function(a,b){return"/"+a+" "+b+" Tf"},Zt:function(a){var b=a.Xs();return"font: "+a.Font+" "+b+"pt; text-align: "+a.TextAlign+"; color: "+e.nj(a.TextColor)},Gy:["Tf","rg"],Et:function(a){var b=e.Ok(a,"defaultappearance","defaultappearance");a={};if(!_.isNull(b))for(b=b.split(" ");0<b.length;){var d=b.pop();if(-1!==e.Gy.indexOf(d))switch(d){case "Tf":var d=
b.pop(),f=e.bp(b.pop().slice(1));a.font={size:d+"pt",name:f};break;case "rg":var d=parseInt(255*b.pop(),10),f=parseInt(255*b.pop(),10),k=parseInt(255*b.pop(),10);a.color=e.Pk(k,f,d)}}return a},Wz:function(a){a=e.Ok(a,"defaultstyle","defaultstyle");var b={};_.isNull(a)||a.split(";").forEach(function(a){var c=a.split(":");if(!(2>c.length))switch(a=c[0].trim(),c=c[1].trim(),a){case "text-align":b.textAlign=c;break;case "color":R(c,"rgb")?(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(c),null!==a&&
(b.color=e.Pk(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):b.color=c;break;case "font":a=c.split(" "),c=a[1],b.font={name:e.bp(a[0]),size:c}}});return b},bp:function(a){function b(b,d){var f=a;0===f.indexOf(b)&&(f=d);return f}var d=0<a.indexOf("Bold"),f=0<a.indexOf("Italic")||0<a.indexOf("Oblique");a=b("Arial","Arial");a=b("Courier","Courier");a=b("Helv","Arial");a=b("Times","Times New Roman");d?a=a+" Bold,"+a:f&&(a=a+" Italic,"+a);return a}};a.Annotations.xa=e})(window);
(function(a){function h(a){this.h=a;this.zh=[];this.cb=[];this.Sd=[];this.Rd=[];this.$d=[];this.Ro=1;this.cache={};this.cache.zoom=1;this.cache.o=[];this.cache.nc=0;this.ou={};this.Gh=[];this.wg=[];this.wf=[];this.Eh=[];this.Ad=[];this.Pt=this.wl=null}h.prototype={init:function(){this.J=this.h.oe();for(var a=0;a<this.J.o.length;a++)this.wg[a]=this.vg.Kc,this.Gh[a]=!1,this.wf[a]=null},wz:function(a){this.cache.zoom=a},cB:function(a){var c=this.vl(a);-1!==c&&(this.cache.o.splice(c,1),this.cache.nc-=
this.uh(a),this.$d.push(a));c=this.Sd.indexOf(a);-1<c&&this.Sd.splice(c,1);this.pp()},pause:function(){this.paused=!0},xf:function(){this.paused=!1;for(var a=0;a<this.J.o.length;a++){var c=this.wf[a];c&&(c.paused=!1,c.xf&&c.xf())}},SA:function(){var a=this.cb;this.cb=this.h.N.mg();var c,b;for(c=0;c<a.length;c++)if(b=a[c],-1===this.cb.indexOf(b)){var d=this.Sd.indexOf(b);-1!==d&&this.Sd.splice(d,1);this.Al(b)}this.zh=this.cb.slice(0)},yy:function(){var a=this,c=a.cb.slice(0);a.cb=a.h.N.mg();var b=
!1;if(c.length!==a.cb.length)b=!0;else for(var d=0;d<a.cb.length;d++)c[d]!==a.cb[d]&&(b=!0);b&&(a.Eh=[],clearTimeout(a.wl),clearTimeout(a.Pt),a.Pt=setTimeout(function(){a.Qt()},80))},Qt:function(e){var c=[];_.isUndefined(e)||(this.cb=e);var b;for(e=0;e<this.zh.length;e++)if(b=this.zh[e],-1===this.cb.indexOf(b)){var d=this.Sd.indexOf(b);-1!==d&&this.Sd.splice(d,1);c.push(b)}this.pp();this.Ad=[];for(e=0;e<this.cb.length;e++)b=this.cb[e],-1===this.Rd.indexOf(b)&&(-1===this.Sd.indexOf(b)&&(d=this.vl(b),
a.g.Sa.Bp&&0<=d?this.Yz(b,d):(this.Ad.push(b),!0===this.J.Eo&&this.zo(b))));for(e=0;e<this.$d.length;e++)b=this.$d[e],-1===this.Ad.indexOf(b)&&(-1===this.vl(b)&&this.yp(b));this.$d=[];for(e=0;e<c.length;e++)b=c[e],this.Al(b);0===this.Rd.length&&(0===this.Ad.length?this.iu():this.qy());this.zh=this.cb.slice(0)},iu:function(){function e(a,b){return d.Ii(a)-d.Ii(b)}function c(b){d.uh(b)<=a.Gf&&d.Eh.push(b)}function b(){var c=d.Eh.shift();if(c){var k=!1,e=!1;0>=f-c?k=!0:0<f-c&&(e=!0);if(!k||n)if(!e||
p){for(var l=d.uh(c),m=d.cache.nc;m+l>a.Gf;){var v=d.Ys(h);if(0>v){k&&p?n=!1:e&&(n&&(p=!1));b();return}if(d.Ii(h[v])<=d.Ii(c))return;v=h.splice(v,1)[0];v=d.uh(v);m-=v}d.wl=setTimeout(function(){d.Ot(c,function(){b()})},200)}}}var d=this,f=d.h.Mg()-1;this.Eh=[];clearTimeout(d.wl);if(!(0<this.Ad.length)){var k,h=[];for(k=0;k<d.cache.o.length;k++)h[k]=d.cache.o[k].index;h.sort(function(a,b){return a-b});var l=0,m=0;for(k=f+1;l<a.So&&!(k>d.J.o.length-1);k++)-1===d.cb.indexOf(k)&&(l++,-1===h.indexOf(k)&&
c(k));for(k=f-1;m<a.To&&!(0>k);k--)-1===d.cb.indexOf(k)&&(m++,-1===h.indexOf(k)&&c(k));d.Eh.sort(e);var n=!0,p=!0;b()}},By:function(e,c){this.$d=this.zh;this.zh=[];this.Ad=[];if(this.cache.zoom!==e||c){for(var b=0;b<this.cache.o.length;b++){var d=this.cache.o[b].index;-1===this.$d.indexOf(d)&&this.$d.push(d);this.qj(d)}this.cache.zoom=e;this.cache.o=[];this.cache.nc=0}this.pp();this.Sd=[];a.g.Sa.ij()},pp:function(){for(var a=this.Rd.length-1;0<=a;a--){var c=this.Rd[a];this.qj(c);-1===this.$d.indexOf(c)&&
this.$d.push(c)}clearTimeout(this.wl);this.Eh=[]},yk:function(a){this.wg[a]===this.vg.ve&&(this.J.yk(a),this.wg[a]=this.vg.Kc);this.Gh[a]&&(this.J.Ip(a,"page"),this.Gh[a]=!1)},qj:function(e){var c=this.wf[e];null!==c&&(c.es(),c.abort&&c.abort());this.yk(e);e=this.Rd.indexOf(e);-1<e&&(a.g.Sa.Tn(),this.Rd.splice(e,1))},yp:function(a){this.qj(a);var c=this.wf[a];null!==c&&(c.zp(void 0,a),this.wf[a]=null)},Al:function(e){0>e||(-1===this.vl(e)?this.yp(e):this.qj(e),a.g.Sa.jj(e),this.h.Al(e))},qy:function(){function e(){b.Rd=
[];d=b.Ad.length<b.Ro?b.Ad.length:b.Ro;for(var f=0;f<b.Ro&&b.Ad.length;){var k=b.Ad.splice(0,1)[0];_.isNumber(k)?b.Ot(k,c):a.utils.warn("Trying to render: "+k);f++}}function c(){k++;k===d&&(k=0,e());0!==b.Ad.length||(f||(f=!0,b.iu()))}var b=this,d,f=!1,k=0;e()},Ot:function(e,c,b){function d(d,n){if(f.J===f.h.oe()){if(d)throw Error("Error loading page %d:",e);var p=null===f.wf[e];f.wf[e]=n;f.paused&&f.wf[e].pause();n.Qo(function(){if(f.J===f.h.oe()){if(f.wg[e]===f.vg.Kc)return c();k===f.h.Ga(e)&&h===
f.h.kb(e+1)||l();k=f.h.Ga(e);h=f.h.kb(e+1);n.Wn(k,h,function(){if(f.J===f.h.oe()){var a=f.Rd.indexOf(e);-1<a&&f.Rd.splice(a,1);f.wg[e]=f.vg.Kc;c()}},function(c){f.J===f.h.oe()&&(k===f.h.Ga(e)?(c=a.g.Sa.Ws(c,e,k),a.g.Sa.Bp&&f.ny(c,e),-1!==f.cb.indexOf(e)&&(f.h.Ei(c,e),f.h.trigger("pageComplete",[e,c]),f.Sd.push(e))):a.utils.warn("bad zoom: "+e),b(e))},void 0,f.h.N.xo(e))}},void 0,p)}}var f=this;c=c||function(){};b=b||function(){};if(this.wg[e]!==f.vg.Kc)a.utils.warn("renderPage: Another request for page "+
e);else{f.wg[e]=f.vg.ve;var k=f.h.Ga(e),h=f.h.kb(e+1);if(f.J===f.h.oe()){var l=function(){-1!==f.cb.indexOf(e)&&(f.h.Fi(e),f.h.xh(e))};l();f.Rd.push(e);f.J.om(e,d)}}},zo:function(e){var c=this;if(c.ou[e]){var b=-1!==c.cb.indexOf(e);b&&c.h.cs(c.ou[e],e,b)}else c.Gh[e]?a.utils.warn("getThumb: Another request for thumb "+e):(c.Gh[e]=!0,c.J.iq(e,function(a){c.Gh[e]=!1;var b=-1!==c.cb.indexOf(e);c.h.cs(a,e,b)},"page"))},vg:{Kc:0,ve:1,rB:2,oB:3},Ii:function(a){a=a-this.h.Mg()-1;0>a&&(a=Math.abs(a-1));return a},
uh:function(a){var c=this.h.Ga(a);a=this.J.o[a];c*=a.height*c*a.width;_.isUndefined(window.devicePixelRatio)||(c=c*window.devicePixelRatio*window.devicePixelRatio);return c=parseInt(c+25E3,10)},vl:function(a){for(var c=0;c<this.cache.o.length;c++)if(this.cache.o[c].index===a)return c;return-1},Ys:function(a){for(var c=-1,b,d=0;d<a.length;d++){var f=this.Ii(a[d]);f>=c&&(c=f,b=d)}return-1<c?b:-1},Yz:function(a,c){this.h.Ei(this.cache.o[c],a);this.Sd.push(a);this.h.trigger("pageComplete",a)},ny:function(e,
c){e.index=c;var b=this.uh(c);if(b<=a.Gf){for(;this.cache.nc+b>a.Gf;){if(0>=this.cache.o.length)throw Error("No room in cache. Page size: "+b+". Cache in use: "+this.cache.nc+". Max cache size: "+a.Gf+".");for(var d=[],f=0;f<this.cache.o.length;f++)d[f]=this.cache.o[f].index;d=this.Ys(d);if(0>d)throw Error("renderPage: No page available for removal from cache");(d=this.cache.o.splice(d,1)[0])?(f=this.uh(d.index),this.cache.nc-=f,-1===this.cb.indexOf(d.index)?this.yp(d.index):this.$d.push(d.index)):
a.utils.warn("Trying to remove from cache: "+d)}this.cache.o.push(e);this.cache.nc+=b}}};a.g.qw=h})(window);
(function(a){var h=XODText,e=window.g,c={zq:"Single",Uh:"Continuous",Sp:"Facing",Zl:"FacingContinuous",zj:"Cover",Fg:"CoverFacing",If:"Custom"};e.tc=function(a,d,f){this.mode=null;this.h=a;this.ac=this.Zd=this.qa=null;this.wp=this.vp=this.Qe=this.Pe=this.Ab=this.Db=0;a=d===c.If;this.yg=_.isUndefined(f)?!a:f;_.isNull(d)||(_.isUndefined(d)||(this.mode=d))};e.tc.prototype={ax:function(a,d,f,k,e){this.mode=c.If;this.qa=a;this.Zd=d;this.ac=f;this.Db=k;this.Ab=e},lm:function(){return this.mode===c.Uh||
(this.mode===c.Zl||this.mode===c.zj)},ba:function(a,d){var f=a*this.qa+d;return this.mode===c.zj||this.mode===c.Fg?0===f?-1:f<this.h.Lb.length+1?f-1:-1:f<this.h.Lb.length?f:-1},tm:function(a,c){a=this.h.Uk(a,c);return{x:a.x+this.h.Lb[c].fe,y:a.y+this.h.Lb[c].zf}},yx:function(b,c){var f=this.h.Ga(c),k=this.h.Lb[c],e=new h.Ub;e.x=b.x-k.fe;e.y=b.y-k.zf;f=a.Kf(f,this.h.kb(c+1),this.h.J.o[c],0,!1);f=f.inverse();e=f.za(e);return{pageIndex:c,x:e.x,y:e.y}},xv:function(a,c){var f=null,k=null;a=_.isUndefined(a)?
this.h.cc:a;c=_.isUndefined(c)?this.h.ub:c;a:for(var e=this.Db;e<this.Ab;e++)for(var h=0;h<this.qa;h++){var m=this.ba(e,h);if(!(0>m)){var n=this.h.Lb[m],p=n.fe,r=n.zf,s=n.fe+n.width*this.h.zoom,n=n.zf+n.height*this.h.zoom;null===f&&(a.x<=s&&(a.x>=p&&(a.y<=n&&(a.y>=r&&(f=m)))));null===k&&(c.x<=s&&(c.x>=p&&(c.y<=n&&(c.y>=r&&(k=m)))));if(null!==f&&null!==k)break a}}f>k&&(e=f,f=k,k=e);return{first:f,last:k}},aq:function(a){var c=$("#DocumentViewer");if(0===c.length)return[];a=_.isUndefined(a)?1:a;var f,
k=[],e=c.scrollTop()+c.offset().top-c.innerHeight()*a;a=e+c.innerHeight()*(1+2*a);for(var h=c.scrollLeft()+c.offset().left,m=h+c.innerWidth(),n=this.Db;n<this.Ab;n++)for(var p=0;p<this.qa;p++)if(c=this.ba(n,p),!(0>c)){f=this.h.J.o[c];var r=this.tm({x:0,y:0},c);f=this.tm({x:f.width,y:f.height},c);(r.x<f.x?r.x:f.x)<=m&&((r.x<f.x?f.x:r.x)>=h&&((r.y<f.y?r.y:f.y)<=a&&((r.y<f.y?f.y:r.y)>=e&&k.push(c))))}return k},uv:function(a){a=this.h.mc(a);return{x:0,y:0,width:a.width,height:a.height}},sv:function(){return{x:0,
y:0}},Lu:function(){var b=[],d=-1;this.wp=this.vp=this.Qe=this.Pe=0;var f,k,e;for(f=0;f<this.qa;f++){b[f]=-1;for(k=this.Db;k<this.Ab;k++)e=this.ba(k,f),this.mode===c.Fg&&-1===e?(e=this.ba(++k,f),e=this.h.mc(e),e=new a.hi(e.width,e.height)):e=this.h.mc(e),e.width>b[f]&&(b[f]=e.width);this.Pe+=b[f]}this.wp=this.Pe*this.h.Hj()+this.qa*this.h.Dj()*2;this.h.el.css("width",this.wp);for(k=this.Db;k<this.Ab;k++){d=-1;for(f=0;f<this.qa;f++)e=this.ba(k,f),e=this.h.mc(e),e.height>d&&(d=e.height);this.Qe+=d;
for(f=0;f<this.qa;f++)e=this.ba(k,f),this.h.Dy(e,f,d,b[f]);d=document.createElement("div");d.style.clear="both";this.h.el.append(d)}this.vp=this.Qe*this.h.Hj()+(this.Ab-this.Db)*this.h.Dj()*2;this.h.Zr();this.Hl();this.h.sA(this.aq())},$t:function(){this.Qe=this.Pe=0;var b=[],d,f,k;for(d=0;d<this.qa;d++){b[d]=-1;for(f=this.Db;f<this.Ab;f++)k=this.ba(f,d),this.mode===c.Fg&&-1===k?(k=this.ba(++f,d),k=this.h.mc(k),k=new a.hi(k.width,k.height)):k=this.h.mc(k),k.width>b[d]&&(b[d]=k.width);this.Pe+=b[d]}for(f=
this.Db;f<this.Ab;f++){b=-1;for(d=0;d<this.qa;d++)k=this.ba(f,d),k=this.h.mc(k),k.height>b&&(b=k.height);this.Qe+=b}},Hl:function(){for(var a=this.Db;a<this.Ab;a++)for(var c=0;c<this.qa;c++){var f=this.ba(a,c);if(!(0>f)){var k=this.h.mc(f),f=document.getElementById("pageContainer"+f);null!==f&&(k.fe=f.offsetLeft,k.zf=f.offsetTop)}}}};a.utils.ieFullscreenBug&&(e.tc.prototype.Hl=function(){for(var c=a.utils.fullscreenIE(),d=$("#DocumentViewer"),f=d.scrollLeft(),d=d.scrollTop(),k=this.Db;k<this.Ab;k++)for(var e=
0;e<this.qa;e++){var h=this.ba(k,e);if(!(0>h)){var m=this.h.mc(h),h=document.getElementById("pageContainer"+h);null!==h&&(m.fe=h.offsetLeft,m.zf=h.offsetTop,c&&(h=h.getBoundingClientRect(),m.fe=h.left+f,m.zf=h.top+d))}}});e.Wh=function(b){if(!b)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.h=b;this.O=new a.g.tc(this.h,c.Uh)};e.Wh.prototype={va:function(){return this.O},vq:function(a){null===this.h.J?(this.O=a,this.h.trigger("displayModeUpdated")):(this.Sr(a),this.h.zoom=
this.h.cd(),this.h.trigger("zoomUpdated",this.h.zoom),this.O.lm()&&(this.h.Sg(),this.Ji()),this.h.Mc(this.h.$b+1))},Sr:function(a){this.O=a;this.Sw();this.h.ae={};this.h.trigger("displayModeUpdated");this.O.$t()},Sw:function(){var a=this.O.mode;_.isNull(a)||(a===c.zq?(this.O.qa=1,this.O.Zd=Math.ceil(this.h.J.o.length/this.O.qa),this.O.ac=Math.ceil(this.h.$b/this.O.qa),this.O.Db=this.O.ac,this.O.Ab=this.O.ac+1):a===c.Uh?(this.O.qa=1,this.O.Zd=Math.ceil(this.h.J.o.length/this.O.qa),this.O.ac=-1,this.O.Db=
0,this.O.Ab=this.O.Zd):a===c.Sp?(this.O.qa=2,this.O.ac=Math.floor(this.h.$b/this.O.qa),this.O.Zd=Math.ceil(this.h.J.o.length/this.O.qa),this.O.Db=this.O.ac,this.O.Ab=this.O.ac+1):a===c.Zl?(this.O.qa=2,this.O.ac=-1,this.O.Zd=Math.ceil(this.h.J.o.length/this.O.qa),this.O.Db=0,this.O.Ab=this.O.Zd):a===c.zj?(this.O.qa=2,this.O.ac=-1,this.O.Zd=Math.ceil((this.h.J.o.length+1)/this.O.qa),this.O.Db=0,this.O.Ab=this.O.Zd):a===c.Fg&&(this.O.qa=2,this.O.ac=Math.floor(this.h.$b/this.O.qa),this.O.Zd=Math.ceil(this.h.J.o.length/
this.O.qa),this.O.Db=this.O.ac,this.O.Ab=this.O.ac+1))},dt:function(a,c){return this.O.GetSelectedPages(a,c)},mg:function(a){return this.O.GetVisiblePages(a)},zd:function(a,c){return this.O.PageToWindow(a,c)},uj:function(a,c){return this.O.WindowToPage(a,c)},xo:function(a){return this.O.GetPageTransform(a)},wo:function(a){return this.O.GetPageOffset(a)},Ji:function(){this.O.CreatePageSections()}};a.g.uc=c})(window);
(function(a){var h=window.g,e=XODText;h.V=function(){var c=this;this.Cm=_.bind(this.Cm,this);this.fb=e.fb;this.el=$("#viewer");this.defaults={FitMode:this.me.$l,DisplayMode:new a.g.tc(this,a.g.uc.Uh),Zoom:1};this.J=null;this.setDefaults();this.Hs=this.ag=this.Ni=!1;this.Jm(Tools.um);a.g.Gm(5);document.onselectstart=function(){return!1};this.pq=function(a){this.trigger("mouseLeftUp",a);c.ka&&(c.ka.mouseLeftUp&&c.ka.mouseLeftUp(a));for(var d in c.links)if(c.links.hasOwnProperty(d)){a=c.links[parseInt(d,
10)];for(var f=0;f<a.length;++f)a[f].style&&(a[f].style.border="")}};this.oq=function(a){this.trigger("mouseLeftDown",a);c.ka&&(c.ka.mouseLeftDown&&c.ka.mouseLeftDown(a))};this.qq=function(a){this.trigger("mouseMove",a);c.ka&&(c.ka.mouseMove&&c.ka.mouseMove(a))};this.cw=function(a){this.trigger("click",a)};this.ew=function(a){this.trigger("dblClick",a);c.ka&&(c.ka.mouseDoubleClick&&c.ka.mouseDoubleClick(a))};this.fw=function(a){this.trigger("keyDown",a);c.ka&&(c.ka.keyDown&&c.ka.keyDown(a))};this.gw=
function(a){this.trigger("keyUp",a);c.ka&&(c.ka.Dz&&c.ka.Dz(a))};this.dw=function(a){c.ka&&(c.ka.contextMenu&&c.ka.contextMenu(a))};this.hw=function(a){this.trigger("mouseEnter",a);c.ka&&(c.ka.Rz&&c.ka.Rz(a))};this.iw=function(a){this.trigger("mouseLeave",a);c.ka&&(c.ka.mouseLeave&&c.ka.mouseLeave(a))};this.jw=function(a){this.trigger("mouseRightDown",a);c.ka&&(c.ka.kl&&c.ka.kl(a))};this.kw=function(a){this.trigger("mouseRightUp",a);c.ka&&(c.ka.Sz&&c.ka.Sz(a))}};h.V.prototype={sy:function(){var c=
this;c.el.on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});c.el.on("touchstart",function(a){c.oq(a)});c.el.on("touchmove",function(a){c.ub={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.qq(a)});c.el.on("touchend",function(a){c.pq(a);c.gn=!1});c.el.dblclick(function(a){c.ew(a)});c.el.click(function(a){c.cw(a)});$(window).on("keydown",function(a){c.fw(a)});$(window).on("keyup",function(a){c.gw(a)});c.el.on("contextmenu",function(a){c.dw(a)});c.el.mouseenter(function(a){c.hw(a)});
c.el.mousedown(function(a){1===a.which?(c.oq(a),c.gn=!0):3===a.which&&(c.jw(a),c.zr=!0)});$(document).on("mouseup",function(a){1===a.which&&c.gn?(c.pq(a),c.gn=!1):3===a.which&&(c.zr&&(c.kw(a),c.zr=!1))});$(document).mousemove(function(a){c.ub={x:a.pageX,y:a.pageY};c.qq(a)});c.el.mouseleave(function(a){c.iw(a)});if(c.N.va().yg)c.Bb().on("scroll",_.bind(c.onscroll,c));$(a).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.jd.pause()});c.on("RESUME",function(){c.jd.xf()})},resize:function(){if(this.N.va().yg)if(this.cd===
this.me.Zoom)this.N.va().Hl(),this.onscroll();else{var a=this.cd();a!==this.zoom?(this.Ai(a),this.On()):(this.N.va().Hl(),this.On(),this.onscroll())}},On:function(){var a=this.Bb(),b=(a[0].scrollWidth-a.width()+this.Vk())/2;a.scrollLeft(b)},Mw:function(){this.resize()},Jp:function(){this.ca.Bj();this.Bj();this.setDefaults();this.Sg(!0)},setDefaults:function(){this.J=null;this.jd=new a.g.qw(this);this.N=new a.g.Wh(this);this.N.vq(this.defaults.DisplayMode);this.cd=this.defaults.FitMode;this.$b=0;this.zoom=
this.defaults.FitMode===this.me.Zoom?this.defaults.Zoom:1;this.sl=a.g.sa.Vd;this.Ec={};this.xl={uC:{},o:{}};this.links={};this.Hi=[];this.Lb=[];this.ae={};this.xu={};this.ub=this.cc=null;this.ce=[];this.margin=8;this.Vt=this.Wt=0;this.ca=null;this.sj=new e.zc;this.dc=this.Zo=null;this.yt=this.Xo=this.cl=this.loop=!1;this.zt=this.At=null;this.tt=!1;this.lu="rgba(0, 0, 200, 0.3)";this.py=[[1],[2,0]];this.ca=new a.g.U(this)},gi:function(c,b){var d=this;if(!1===c.ready)setTimeout(function(){d.gi(c,b)},
1E3);else{var f=new a.CoreControls.Document(b);this.Ez=f;f.gi(c,function(c){if(f===d.Ez){if(c)throw Error("Error loading document: "+c);null!==d.J&&d.Jp();d.J=f;for(c=0;c<d.J.o.length;c++)d.Lb[c]=new a.hi(d.J.o[c].width,d.J.o[c].height),_.isUndefined(d.Ec[c])||d.Kl(c);d.jd.init();d.N.Sr(d.N.va());if(d.N.va().mode!==a.g.uc.If){d.zoom=d.Cn(d.cd);d.jd.wz(d.zoom);d.N.Ji();d.Qj();c=d.Bb();var b=(c[0].scrollWidth+d.Vk()-c.innerWidth())/2;c.scrollLeft(b)}d.Hs||(d.Hs=!0,d.sy());d.trigger("documentLoaded")}})}},
Bb:function(){return $("#DocumentViewer")},Vk:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(a);var b=$("div",a).innerWidth();a.css("overflow-y","auto");var d=$("div",a).innerWidth();$(a).remove();return b-d},Bj:function(){this.J.Iq()},jg:function(a){return this.J.o[a].height},kg:function(a){return this.J.o[a].width},tf:function(a){return this.J.o[a].pg},ev:function(){return this.ca},
ai:function(){return this.N},$w:function(c){a.g.Sa.cu(c)},mi:function(a){"undefined"!==typeof a.enableAnnotations&&(this.Ni=a.enableAnnotations?!0:!1);"undefined"!==typeof a.annotMode&&(this.ag=a.annotMode?!0:!1)},Hj:function(){return this.zoom},Dj:function(){return this.margin},Ww:function(a){this.margin=a},$p:function(){var a="",b;for(b in this.ce)this.ce.hasOwnProperty(b)&&(a+=this.ce[parseInt(b,10)]);return a},gx:function(a){this.lu=a},Bv:function(){return this.ru},kb:function(a){a=this.Ec[a-
1];return _.isUndefined(a)?this.sl:a},ex:function(a,b){var d;0<=a&&(3>=a&&(_.isUndefined(b)?(this.sl=a,this.Ec={}):(d=b-1,this.Ec[d]=a),this.rotate(d)))},Yw:function(a){this.Ec=a;a=this.J.o.length;for(var b=0;b<a;++b)this.Kl(b);this.Ai(this.cd(),void 0,void 0,!0)},tv:function(){return this.Ec},oe:function(){return this.J},qf:function(c){var b=this.mc(c),d=this.Ga(c),f=this.N.xo(c);return a.g.Sa.qf(c,b,d,this.kb(c+1),f)},iv:function(){return this.cd},sA:function(a){this.jd.cb=a},Uu:function(a){a.url?
this.Co(a.url):this.ph(a.sg,a.Nh,a.yh)},ph:function(a,b,d){this.N.va().yg?(this.Mc(a),a=this.N.zd({x:d,y:b},a-1),b=this.Bb().offset(),this.scrollTo(a.x-b.left,a.y-b.top)):this.trigger("displayPageLocation",[a,b,d])},scrollTo:function(a,b){this.Bb().scrollLeft(a).scrollTop(b)},AA:function(a,b,d){this.At=a;this.zt=b;this.Xo=!0;this.yt=d},GA:function(a){var b=!1;if(null===this.Zo||this.Zo!==a)b=!0;if(null===this.loop||!0===this.loop)b=!0;this.Zo=a;this.dc!==this.$b&&(this.dc=this.$b,b=!0);return b},
Eq:function(a,b,d,f){d=d||!1;for(var k=this,h=!0,l=0;l<a.length;++l){var m=a.charCodeAt(l);if(!(1424<=m&&1535>=m||(1536<=m&&1791>=m||(1872<=m&&1919>=m||(64336<=m&&65023>=m||65136<=m&&65279>=m))))){h=!1;break}}h&&(a=a.split("").reverse().join(""));k.yC=k.$b;if(!0===this.cl)this.AA(a,b,d);else{h=d?function(){}:function(a){a.Dl===e.eb.Mi?k.Np(a):a.Dl===e.eb.pf&&k.trigger("notify","endOfDocumentSearch")};f=f||h;if(d||this.GA(a))d?(h=this.dc=0,l=this.J.o.length-1):0<(b&e.fb.ho)?(l=!0===this.loop?this.J.o.length-
1:this.dc,h=0):(h=!0===this.loop?0:this.dc,l=this.J.o.length-1),this.sj.ry(this.J,a,b,h,l);this.sj.setMode(b);this.HA(d,f)}},HA:function(a,b){function d(){function d(){l=[];h=k.sj.run(l);m=h.Dl;h.dp=l;var r=h;r.ambient_str=h.$r;r.result_str=h.hp;r.result_str_start=h.Tt;r.result_str_end=h.St;r.page_num=h.tl;r.resultCode=m;r.quads=l;if(m===e.eb.Hk){if(k.sj.Yd()?0<k.dc&&k.dc--:k.dc<k.J.o.length-1&&k.dc++,!0===k.Xo){k.Xo=!1;k.cl=!1;setTimeout(function(){k.Eq(k.At,k.zt,k.yt,b)},0);return}}else m===e.eb.Mi?
(k.ce=[],k.ce[h.tl]=h.hp):m!==e.eb.pf||(a||(k.loop=!0));b(r);m===e.eb.pf||!a&&m===e.eb.Mi?k.cl=!1:null!==k.J.o[k.dc].text?setTimeout(d,0):k.J.Bh(k.dc,f)}var m=-1;null!==k.J.o[k.dc].text?setTimeout(d,0):k.J.Bh(k.dc,f)}function f(a){m===k.J&&(k.J.o[k.dc].text=a,d())}var k=this;this.cl=!0;!0===this.loop&&(k.dc=this.sj.Yd()?this.J.o.length-1:0,this.loop=!1);var h,l=[],m=this.J;d()},pt:function(a,b){a!==this.$b&&this.Mc(a+1);if(0<b.length){for(var d=b[0].ge,f=b[0].ee,k=b[0].u,e=b[0].H,h=1;h<b.length;h++)b[h].ee<
f&&(f=b[h].ee),b[h].ge<d&&(d=b[h].ge),b[h].H>e&&(e=b[h].H),b[h].u>k&&(k=b[h].u);var h=this.Bb(),m=h.scrollTop(),n=m+h.innerHeight(),p=h.scrollLeft(),r=p+h.innerWidth(),d=this.N.zd({x:f,y:d},a),s=this.N.zd({x:e,y:k},a),e=d.x<s.x?d.x:s.x,k=d.y<s.y?d.y:s.y,f=d.x>s.x?d.x:s.x,d=d.y>s.y?d.y:s.y;if(e<p||(k<m||(f>r||d>n)))m=f-e,n=d-k,m=e-h.innerWidth()/2+m/2-h.offset().left,h=k-h.innerHeight()/2+n/2-h.offset().top,this.scrollTo(m,h)}},Np:function(a,b){var d=a.tl;this.ae={};this.ae[d]=a.dp;"undefined"!==typeof b?
b(d,a.dp):this.pt(d,a.dp);this.Un();this.xh(d)},lA:function(a,b,d){var f=new e.na;f.hb(b.x,b.y,b.x+1,b.y+1);var k=this,h=new e.Pj(this.J),l=this.J;l.Bh(a,function(){l===k.J&&(h.dy(a,f),d(a,h.lg(),h.Fa))})},Ih:function(a,b,d){if(b.constructor!==e.na){var f=new e.na;f.hb(b.v,b.k,b.H,b.u);b=f}var k=this,h=new e.Pj(this.J),l=this.J;l.Bh(a,function(){if(l===k.J){"rectangular"===Tools.Ac.SELECTION_MODE?h.mA(a,b):h.kA(a,b);var f=h.Fa,e=h.lg();d&&d(a,e,f)}})},yl:function(a,b,d){this.ce[a]=d;this.ae[a]=b;
this.trigger("textSelected",[b,d]);this.Un();this.highlight()},Xu:function(a){this.xh(a-1)},xh:function(a){var b=this.ae[a];if(b&&(0!==b.length&&(a=this.qf(a),null!==a)))for(var d=0;d<b.length;d++){var f=b[d],e=a.getContext("2d");e.fillStyle=this.lu;e.beginPath();e.moveTo(f.v,f.k);e.lineTo(f.H,f.u);e.lineTo(f.Oh,f.Qh);e.lineTo(f.ee,f.ge);e.closePath();e.fill()}},highlight:function(){for(var a in this.ae)this.ae.hasOwnProperty(a)&&this.xh(parseInt(a,10))},Cm:function(a,b){if(null!==this.cc&&null!==
this.ub||(a||b)){this.ae=[];this.ce=[];var d;a&&b?(a.rl=a.pageIndex,a.x=a.x,a.y=a.y,b.rl=b.pageIndex,b.x=b.x,b.y=b.y,d={first:a.rl,last:b.rl}):(console.error("deprecated"),d=this.N.dt());var f=d.first;d=d.last;if(null!==f&&null!==d){var k=new e.na,h=a?a:this.N.uj(this.cc,f),l=b?b:this.N.uj(this.ub,f),m;h.y>l.y&&(m=h,h=l,l=m);1<=d-f?(l=this.J.o[f],k.hb(h.x,h.y,l.width,l.height)):k.hb(h.x,h.y,l.x,l.y);this.Ih(f,k,_.bind(this.yl,this));for(h=f+1;h<d;h++)k=new e.na,k.hb(0,0,this.J.o[h].width,this.J.o[h].height),
this.Ih(h,k,_.bind(this.yl,this));f!==d&&(h=a?a:this.N.uj(this.cc,d),l=b?b:this.N.uj(this.ub,d),h.y>l.y&&(l=h),k=new e.na,k.hb(0,0,l.x,l.y),this.Ih(d,k,_.bind(this.yl,this)))}}},hs:function(c){if(0!==this.$p().length){var b=this.qf(c);if(null!==b){var d=this.mc(c);a.g.Sa.Rn(b,d.width,d.height);this.Ni&&this.ca.wb(c+1)}}},Un:function(){var a=this;$.each(this.ce,function(b){a.hs(b)})},Ul:function(){this.Un();this.ae={};this.ce=[];this.trigger("textSelected",[null,""])},Bz:function(a,b){return a.v<=
b.H&&(a.H>=b.v&&(a.k<=b.u&&a.u>=b.k))?!0:!1},fz:function(a,b){var d={v:0,k:0,H:0,u:0};!0===this.Bz(a,b)&&(d.v=Math.max(a.v,b.v),d.k=Math.max(a.k,b.k),d.H=Math.min(a.H,b.H),d.u=Math.min(a.u,b.u));return d},Uk:function(c,b){c=a.Kf(this.Ga(b),this.kb(b+1),this.J.o[b],0,!1).za(c);return{x:c.x,y:c.y}},me:{$l:function(){var a=this.Vk(),b=this.Bb(),d=this.N.va().Pe;1===this.N.va().qa&&(d=this.Lb[this.$b].width);var f=parseFloat(b.innerWidth()-a-this.margin*this.N.va().qa*2)/d,e=f*this.N.va().Qe+(this.N.va().Ab-
this.N.va().Db)*this.margin*2;e<=b.innerHeight()&&(f=parseFloat(b.innerWidth()-this.margin*this.N.va().qa*2)/d,e=f*this.N.va().Qe+(this.N.va().Ab-this.N.va().Db)*this.margin*2,e>b.innerHeight()&&(f=parseFloat(b.innerWidth()-a-this.margin*this.N.va().qa*2)/d));return f},Tp:function(){var a=this.Bb(),b=this.Lb[this.$b],d=parseFloat(a.innerHeight()-2*this.margin)/b.height,f=this.N.va().Pe;1===this.N.va().qa&&(f=b.width);a=parseFloat(a.innerWidth()-this.Vk()-this.margin*this.N.va().qa*2)/f;return d<a?
d:a},Zoom:function(){this.Zr();return this.zoom}},Jm:function(a){if(a&&this.ru!==a){this.Ul();var b=new a(this),d;this.ka&&(this.ka.switchOut&&this.ka.switchOut(b),d=this.ka);b.switchIn&&b.switchIn(this.ka);this.ka=b;this.ru=a;this.trigger("toolModeUpdated",[a,d])}},RA:function(){var a=this.Bb();this.Wt=parseFloat(a.scrollTop())/a[0].scrollHeight;this.Vt=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},QA:function(){var a=this.Bb(),b=this.Wt*a[0].scrollHeight,a=this.Vt*a[0].scrollWidth-
a.innerWidth()/2;this.scrollTo(a,b)},Hm:function(c){null===this.J?(this.cd=c,this.trigger("fitModeUpdated",this.cd)):(c=this.Cn(c),this.N.va().mode===a.g.uc.If?this.zoom=c:c!==this.zoom&&(this.Ai(c),this.On()))},Cn:function(a){this.cd=a;a=this.cd();this.trigger("fitModeUpdated",this.cd);return a},Kl:function(c){var b=this.kb(c+1),d=this.kg(c),f=this.jg(c);switch(b){case a.g.sa.Vd:case a.g.sa.nf:this.Lb[c].width=d;this.Lb[c].height=f;break;case a.g.sa.Xd:case a.g.sa.Wd:this.Lb[c].width=f,this.Lb[c].height=
d}},rotate:function(a){var b;if(_.isUndefined(a))for(var d=0;d<this.Lb.length;d++)this.Kl(d);else this.Kl(a),b=a+1;this.N.va().$t();this.Ai(this.cd(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.kb(a+1),b])},vh:function(a,b){return b?(a+1)%4:(a-1+4)%4},vw:function(a){var b;if(_.isUndefined(a)){this.sl=this.vh(this.kb(),!0);for(var d in this.Ec)this.Ec[d]=this.vh(this.Ec[d],!0)}else b=a-1,this.Ec[b]=this.vh(this.kb(a),!0);this.rotate(b)},ww:function(a){var b;if(_.isUndefined(a)){this.sl=
this.vh(this.kb(),!1);for(var d in this.Ec)this.Ec[d]=this.vh(this.Ec[d],!1)}else b=a-1,this.Ec[b]=this.vh(this.kb(a),!1);this.rotate(b)},Ai:function(a,b,d,f){this.zoom=a;this.N.va().yg&&("undefined"!==typeof b&&"undefined"!==typeof d?(this.Sg(),this.N.Ji(),this.scrollTo(b,d)):(this.RA(),this.Sg(!1,f),this.N.Ji(),this.QA()),this.Qj(),this.trigger("zoomUpdated",this.zoom))},Mm:function(a,b,d){this.Cn(this.me.Zoom);null===this.J?(this.zoom=a,this.trigger("zoomUpdated",this.zoom)):this.Ai(a,b,d)},Ga:function(a){a=
this.xu[a];return"undefined"!==typeof a?a:this.zoom},Zw:function(a,b){this.jd.cB(a);this.xu[a]=b},Sg:function(c,b){this.jd.By(this.zoom,b);this.links=[];if(this.N.va().mode!==a.g.uc.If){var d=this.jd.cb;this.xl.o={};for(var f=0;f<d.length;f++){var e=d[f];b||(this.xl.o[e]=$("#pageContainer"+e).find(".canvas"+e))}}c?this.el.empty():(this.el.find(".link").remove(),this.el.children().detach())},Al:function(a){this.N.va().yg&&$("#pageContainer"+a).children().detach();a in this.links&&delete this.links[a]},
Bn:function(a){if(0>a||a>=this.Lb.length)return!1;this.$b=a;this.trigger("pageNumberUpdated",a+1);return!0},Mc:function(c){if(!this.N.va().yg)this.trigger("changePage",c);else if(!1!==this.Bn(parseInt(c,10)-1)){this.ps=!0;c=this.$b;var b=this.N.va();b.lm()||(b.mode===a.g.uc.If||(this.N.va().mode===a.g.uc.Fg&&c++,b.ac=Math.floor(parseFloat(c)/b.qa),b.Db=b.ac,b.Ab=b.ac+1,this.Sg(),this.N.Ji()));c=this.J.o[this.$b];var b=this.N.zd({x:0,y:0},this.$b),d=this.N.zd({x:c.width,y:c.height},this.$b);c=b.x<
d.x?b.x:d.x;b=b.y<d.y?b.y:d.y;d=this.Bb().offset();this.scrollTo(c-d.left,b-this.margin-d.top);this.Qj()}},Mg:function(){return this.$b+1},Fj:function(){return this.J.o.length},Wu:function(){this.Mc(this.Lb.length)},Vu:function(){this.Mc(1)},Zr:function(a){a=a||this.N.va().vp;var b=0,d=document.getElementById("docpad");if(null!==d){var f=this.Bb();f.innerHeight()>a&&(b=Math.floor((f.innerHeight()-a)/2));d.style.marginBottom=parseInt(b,10)+"px"}},bu:function(c,b){var d=this;if(b instanceof a.g.pe)$(c).on("tap",
function(){d.ag||(isNaN(b.hd)||(d.N.va().yg&&(b.co?d.it(b):d.ph(b.hd,b.Ll,b.Wk)),d.trigger("displayPageLocation",[b.hd,b.Ll,b.Wk])))});else if(b instanceof a.g.Mf)$(c).on("tap",function(){d.ag||d.Co(b.target)});else throw Error("Unknown annotation type");d.trigger("linkReady",[c,b]);c=null},it:function(a){var b=a.hd;switch(a.co){case "XYZ":_.isNaN(a.Mb.zoom)||(0===a.Mb.zoom||this.Mm(a.Mb.zoom));_.isNull(a.Mb.top)&&(a.Mb.top=0);_.isNull(a.Mb.left)&&(a.Mb.left=0);this.ph(b,a.Mb.top,a.Mb.left);break;
case "Fit":case "FitB":case "FitV":case "FitBV":this.Mc(b);this.Hm(this.me.Tp);this.ph(b,-this.Dj(),0);break;case "FitH":case "FitBH":this.Mc(b);this.Hm(this.me.$l);_.isNull(a.Mb.top)||this.ph(b,a.Mb.top,0);break;case "FitR":var d=a.Mb.right-a.Mb.left,f=a.Mb.bottom-a.Mb.top,d=this.Bb().innerWidth()/d,f=this.Bb().innerHeight()/f;this.Mm(Math.min(d,f));this.ph(b,a.Mb.top,a.Mb.left);break;default:this.Mc(b)}},Co:function(a){0!==a.indexOf("http://")&&(0!==a.indexOf("https://")&&(0!==a.indexOf("ftp://")&&
(0!==a.indexOf("mailto:")&&(a=-1!==a.indexOf("@")?"mailto:"+a:"http://"+a))));window.open(a)},ly:function(a,b){for(var d=[],f=this.J.o[b].Di,e=0;e<f.length;++e){var h=f[e],l=document.createElement("span");l.className="link";var m={x:h.cg[0],y:h.cg[1]},n={x:h.cg[2],y:h.cg[3]};m.x=Math.max(m.x,0);n.x=Math.min(n.x,this.J.o[b].width);m.y=Math.max(m.y,0);n.y=Math.min(n.y,this.J.o[b].height);var p=this.N.wo(b),m=this.Uk(m,b),m={x:m.x+p.x,y:m.y+p.y},n=this.Uk(n,b),n={x:n.x+p.x,y:n.y+p.y};l.style.left=Math.floor(Math.min(m.x,
n.x))+"px";l.style.top=Math.floor(Math.min(m.y,n.y))+"px";l.style.width=Math.floor(Math.abs(n.x-m.x))+"px";l.style.height=Math.floor(Math.abs(n.y-m.y))+"px";this.bu(l,h);a.appendChild(l);d.push(l)}this.links[b]=d},Yr:function(c,b){for(var d=this.J.o[b].links,f=0;f<d.length;++f){var e=d[f],h=a.Ba.It(e.Rect[0],e.Rect[1],e.Rect[2],e.Rect[3],b,this.ca),l=this.N.wo(b),m=document.createElement("span");m.className="link";m.style.left=h.x+l.x+"px";m.style.top=h.y+l.y+"px";m.style.width=h.w+"px";m.style.height=
h.wh+"px";c.appendChild(m);this.bu(m,e)}this.links[b]=d},cs:function(c,b,d){var f=this.Ga(b),e=this.Lb[b];c.id="thumb"+b;c.style.position="absolute";var h=this.kb(b+1);if(h===a.g.sa.Vd)c.width=e.width*f,c.height=e.height*f;else{var l="rotate("+90*h+"deg)",m="top left";h===a.g.sa.Xd?l="translate("+e.width*f+"px, 0) "+l:h===a.g.sa.nf?(l="scale(-1, -1)",m="center center"):h===a.g.sa.Wd&&(l="translate(0,"+e.height*f+"px) "+l);$(c).css({position:"absolute",transform:l,"transform-origin":m,"ms-transform":l,
"ms-transform-origin":m,"-moz-transform":l,"-moz-transform-origin":m,"-webkit-transform-origin":m,"-webkit-transform":l,"-o-transform":l,"-o-transform-origin":m});h===a.g.sa.nf?(c.width=e.width*f,c.height=e.height*f):(c.width=e.height*f,c.height=e.width*f)}d&&($(c).css("z-index","7"),d=$("#pageContainer"+b),0<d.length?0===d.find("#thumb"+b).length&&d.prepend(c):a.utils.warn("appendThumb: Page container "+b+" missing"))},Ei:function(c,b){var d=a.g.Sa.Ei(c,b);if(d){this.Fi(b);this.hs(b);_.isArray(this.J.o[b].Di)&&
this.ly(d,b);if(this.ca){if(!this.tt&&!this.ca.externalAnnotsExist){var f=this.J.o[0].Di;_.isUndefined(f)||(-1===f.indexOf('<?xml version="1.0" encoding="UTF-8"?>')||this.ca.fq(f));this.tt=!0}this.Yr(d,b);this.ca.wb(b+1);this.ca.js(b);this.ca.Pp(b+1)}this.xh(b)}else a.utils.warn("appendAllCanvas: Page container for page "+b+" does not exist.")},Fi:function(c){a.g.Sa.Fi(c,this.J.o[c],this.Ga(c),this.kb(c+1))},uw:function(c,b){a.g.Sa.Ut(c,b)},Dy:function(a,b,d,f){var e=$("<div>").attr("id","pageSection"+
a).css({width:Math.floor(f*this.zoom)+"px",height:Math.floor(d*this.zoom)+"px",margin:this.margin+"px","float":"left"}),h=this.mc(a);f=$("<div>").attr("id","pageContainer"+a).addClass("pageContainer").css("z-index",1);b=this.py[this.N.va().qa-1][b];1===b?f.css({"margin-left":"auto","margin-right":"auto"}):0===b?f.css("float","left"):f.css("float","right");f.css({width:Math.floor(h.width*this.zoom)+"px",height:Math.floor(h.height*this.zoom)+"px"});e.append(f);this.el.append(e);$("<div>").attr("id",
"pad"+a).css("margin-bottom",parseInt((d*this.zoom-this.mc(a).height*this.zoom)/2,10)+"px").insertBefore(e.children().first());if(this.xl.o[a]){a=this.xl.o[a];var l=parseFloat(a.css("width")),m=parseFloat(f.css("width"))/l;a.each(function(){var a=$(this);a.css({top:parseFloat(a.css("top"))*m,width:l*m,height:parseFloat(a.css("height"))*m})});f.append(a)}},mc:function(c){return-1===c?new a.hi(0,0):this.Lb[c]},Jq:function(c){var b=a.g.Sa.Wi(c);b.find(".link").remove();this.Yr(b[0],c)},Qj:function(a,
b){_.isUndefined(b)||this.Bn(b);this.jd.Qt(a)},wx:function(){this.jd.SA()},mx:function(a){this.jd.qj(a)},onscroll:function(){this.jd.yy();this.OA()},OA:function(){if(this.ps)this.ps=!1;else{for(var a=0,b,d=this.N.mg(),f=0;f<d.length;f++){var e=this.Bb(),h=e.scrollTop(),l=h+e.innerHeight(),m=e.scrollLeft(),e=m+e.innerWidth(),l={v:m,k:h,H:e,u:l},e=d[f];0>e||(h=this.J.o[e],m=this.N.zd({x:0,y:0},e),e=this.N.zd({x:h.width,y:h.height},e),l=this.fz(l,{v:m.x<e.x?m.x:e.x,k:m.y<e.y?m.y:e.y,H:m.x>e.x?m.x:e.x,
u:m.y>e.y?m.y:e.y}),h=parseFloat((l.H-l.v)*(l.u-l.k))/(h.width*h.height),h>a&&(b=d[f],a=h))}0<a&&this.Bn(b)}}};$.extend(h.V.prototype,a.utils.eventHandler);a.g=a.g||{}})(window);window.g.V.prototype.version="1.8.2.30296";
(function(a){function h(){}function e(b){this.size=b;this.Zb=Array(this.size);for(b=0;b<this.size;b++)this.Zb[b]={Td:a.g.Sa.Xg(1,1,1),ap:a.g.Sa.Xg(1,1,1),Mn:null,Dh:[],nc:!1}}var c={Kq:"ViewportCanvas",rq:"PageCanvas"};e.prototype={Sk:function(a,b){for(var c=Math.floor(a/b),d=null,e=0;e<this.size;e++){if(this.Zb[e].Mn===c)return-1===this.Zb[e].Dh.indexOf(a)&&this.Zb[e].Dh.push(a),this.Zb[e].nc=!0,this.Zb[e];this.Zb[e].nc||(d=this.Zb[e])}return d?(d.Mn=c,d.Dh.push(a),d.nc=!0,d):null},jj:function(a){for(var b=
0;b<this.size;b++){var c=this.Zb[b].Dh,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.gs(this.Zb[b]);break}}},ij:function(){for(var a=0;a<this.size;a++)this.gs(this.Zb[a])},gs:function(a){a.Mn=null;a.nc=!1;$(a.Td).removeAttr("style").removeClass();$(a.ap).removeAttr("style").removeClass();var b=a.Td,c=b.width;b.width=1;b.width=c;a.Td.getContext("2d").clearRect(0,0,a.Td.width,a.Td.height);a.Dh=[]},EA:function(a,b,c){a=this.Sk(a,c);_.isNull(b)&&(b=a.ap);a.ap=a.Td;a.Td=b}};h.prototype=
{Bp:!1,init:function(){var b=a.innerWidth,c=a.innerHeight;this.Zb=new e(3);this.xk=new e(3);this.gd=this.Xg(b,c,1);this.fj=1},cu:function(a){this.fj=a},Tn:function(){var a=this.gd.getContext("2d");a.restore();a.clearRect(0,0,this.gd.width,this.gd.height);this.gd.getAttribute("style");this.gd.removeAttribute("style")},Ut:function(a,b){this.Zb.EA(a,b,this.fj)},jj:function(a){this.Zb.jj(a);this.xk.jj(a)},ij:function(){this.Zb.ij();this.xk.ij()},tk:function(b,c,d,e){var h=$(b),n=""===b.style.height||
1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||(1<Math.abs(parseInt(b.style.width,10)-c)||n))e=a.utils.getCanvasMultiplier(c,d,e),n=d*e,b.setAttribute("width",c*e),b.setAttribute("height",n),h.css("width",c),h.css("height",d)},Xg:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.tk(d,a,b,c);return"undefined"===typeof d.getContext("2d")?null:d},dr:function(a,b,c,d){var e=1,h=null,p=a;if(1>=a*c||1>=b*c)h=this.Xg(1,1,1);var r=a/b;64E6<a*b&&
(b=Math.sqrt(64E6/r),e=r*b/a,a=r*b);r=null;for("undefined"===typeof d&&(d=0.25);null===h;){var r=this.Xg(Math.ceil(a*e),Math.ceil(b*e),c,r),s=r.getContext("2d");s.fillStyle="white";s.fillRect(0,0,r.width,r.height);s=!(1>window.devicePixelRatio)&&(r.width<parseFloat(r.style.width)||r.height<parseFloat(r.style.height));if(null!==r&&(0<this.Px(r)&&!s))h=r;else if(e-=d,0>=e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+p/parseFloat(h.style.width)+")",$(h).css({transform:a,"transform-origin":"top left",
"ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(h).css("position","absolute");h.getContext("2d").clearRect(0,0,h.width,h.height);return h},Px:function(a){return a.getContext("2d").getImageData(a.width-2,a.height-2,1,1).data[3]},Rn:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,
0,b,c)},Ws:function(a,b,c){if(a[0]!==this.gd)throw Error("Canvas drawing error");var d=this.Zb.Sk(b,this.fj);a=d.Td;this.tk(a,parseFloat(this.gd.style.width),parseFloat(this.gd.style.height),c);b<=d.Dh.sort()[0]&&(a.width=a.width,b=this.xk.Sk(b,this.fj).Td,c=b.width,b.width=1,b.width=c);a.getContext("2d").drawImage(this.gd,0,0);this.Tn();return a},eu:function(b,c,d,e){var h=a.innerWidth,n=a.innerHeight;this.tk(this.gd,h,n,c);h=a.utils.getCanvasMultiplier(h,n,c);c=a.Kf(c,d,b,e,!0,h);d=this.gd.getContext("2d");
d.restore();d.save();d.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);a.utils.canvasClipBug||(d.beginPath(),d.rect(0,0,b.width,b.height),d.clip());a.Jk||(d.fillStyle="white",d.fillRect(0,0,b.width,b.height));return{fs:[this.gd],ns:[d],t:[c]}},Ei:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20",position:"absolute"});d.addClass("hacc canvas"+b);return c.parentNode},Rx:function(a,b,c,d){a=this.xk.Sk(a,this.fj).Td;this.tk(a,b,c,d);return a},
qf:function(b,c,d,e,h){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;var n=b.getContext("2d");n.restore();n.save();var p=a.utils.getCanvasMultiplier(parseFloat(b.style.width),parseFloat(b.style.height),d);d=a.Kf(d,e,c,h,!0,p);n.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);a.utils.canvasClipBug||(n.beginPath(),n.rect(0,0,c.width,c.height),n.clip());return b},Fi:function(b,c,d,e){var h=document.getElementById("pageContainer"+b);if(!h)return null;h=$(h).parent();
if(!(0<h.find(".auxiliary").length)){var n=a.innerWidth,p=a.innerHeight,r=this.Rx(b,n,p,d);$(r).addClass("auxiliary");$(r).css({"z-index":"30",position:"absolute",display:""});h.append(r);b=r.getContext("2d");d*=parseFloat(r.style.width)/n;n=a.utils.getCanvasMultiplier(n,p,d);c=a.Kf(d,e,c,null,!0,n);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return h[0]}},Wi:function(a){return $("#pageContainer"+a).parent()}};var b=new h,d=new h;$.extend(d,{Bp:!0,init:function(){},cu:function(){},Tn:function(){},
Ut:function(){},jj:function(){},ij:function(){},Rn:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},Ws:function(a){return a},eu:function(b,c,d,e,h){var n=!1;if(d===a.g.sa.Xd||d===a.g.sa.Wd)n=!0;e=n?b.height*c:b.width*c;var n=n?b.width*c:b.height*c,p=1,r=[],s=[],u=[],w=[],y=window.devicePixelRatio||1,y=e*y*n*y/64E4;28<y?p=8:14<y?p=4:5<y&&(p=2);h&&(0<h&&(p=Math.round(h)));h=0;r.Yt=Math.ceil(n/
p);for(var y=Math.ceil(n/p)+2,v=0;v<p;v++){v===p-1&&(y=Math.ceil(n-(y-2)*(p-1)));r[v]=8<=p?this.dr(e,y,c):this.Xg(e,y,c);s[v]=parseFloat(r[v].style.width);var z=a.utils.getCanvasMultiplier(e,y,c),C=s[v]/e*c;u[v]=a.Kf(C,d,b,{x:0,y:-h*C},!0,z);h+=parseFloat(r.Yt)/c;w[v]=r[v].getContext("2d");a.Jk||(w[v].fillStyle="white",w[v].fillRect(0,0,e*z,y*z));w[v].transform(u[v].m_a,u[v].m_b,u[v].m_c,u[v].m_d,u[v].m_h,u[v].m_v)}return{fs:r,ns:w,t:u}},Ei:function(a,b){var c=document.getElementById("pageContainer"+
b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.Yt,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},qf:function(a){a=$("#pageContainer"+a).find(".auxiliary");return 0<a.length?a[0]:null},Fi:function(b,c,d,e){var h=document.getElementById("pageContainer"+b);if(!h)return null;if(!(0<$(h).find(".auxiliary").length)){var n=!1;if(e===a.g.sa.Xd||e===a.g.sa.Wd)n=!0;b=n?c.height*d:c.width*
d;n=this.dr(b,n?c.width*d:c.height*d,d,0.2);$(n).addClass("auxiliary");$(n).css({"z-index":"30",position:"absolute"});$(h).prepend(n);h=n.getContext("2d");h.clearRect(0,0,n.width,n.height);c=a.Kf(parseFloat(n.style.width)/b*d,e,c);h.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},Wi:function(a){return $("#pageContainer"+a)}});a.g.Ow=function(e){if(e===c.Kq)a.g.Sa=b;else if(e===c.rq)a.g.Sa=d;else throw Error("Invalid Canvas Manager type");a.g.Sa.init()};a.g.Tl=c;a.g.Sa=d;a.g.Sa.init()})(window);
(function(a){function h(b,d,f,h){for(var q=d.password||d.p,l=d.type.toUpperCase(),m=e.length,n,p=0;p<m;p++)e[p].done&&(n=e[p]);!n&&(4>m&&(n={done:!1,Fc:new Worker(a.g.bq()+"DecryptWorker.js"),callback:h},e[m]=n,n.Fc.addEventListener("message",function(a){if(a.data.error)throw d.error&&d.error(a.data.error),Error(a.data.error);n.callback(a.data);0<c.length?(a=c[0],c.shift(),n.done=!1,n.callback=a.callback,n.Fc.postMessage({data:a.data,password:a.password,partName:a.tg,type:l})):(n.callback=null,n.done=
!0)})));n?(n.done=!1,n.callback=h,n.Fc.postMessage({data:b,password:q,partName:f,type:l})):c.push({data:b,password:q,tg:f,type:l,callback:h})}var e=[],c=[];a.g=a.g||{};a.g.Ig=a.g.Ig||{};a.g.Ig.Qu=function(a,c,e,k){h(a,c,e,k)};a.g.Ig.Ru=function(b,c,e){var h=c.password||c.p;switch(c.type.toUpperCase()){case "AES":b=a.Lp(b,h,e);break;default:b=a.Lp(b,h,e)}if(b.error)throw c.error&&c.error(b.error),Error(b.error);return b}})(window);
(function(a){a.Lp=function(a,e,c){for(var b=[],d=0;16>d;++d){b[d]=d;d<e.length&&(b[d]|=e.charCodeAt(d));var f=c.length+d-16;0<=f&&(b[d]|=c.charCodeAt(f))}e=[];for(c=0;16>c;++c)e.push(a.charCodeAt(c));a=a.slice(16);b=forge.aes.startDecrypting(b,e);b.update(forge.util.createBuffer(a));return b.finish()?b.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){a.CoreControls=function(){};a.CoreControls.SetWorkerPath=a.g.ix;a.CoreControls.SetAdvancedImageScaling=a.g.Nw;a.XODText=XODText;a.XODText.ResultCode=XODText.eb;a.XODText.ResultCode.e_done=XODText.eb.pf;a.XODText.ResultCode.e_page=XODText.eb.Hk;a.XODText.ResultCode.e_found=XODText.eb.Mi;a.XODText.Quad=XODText.Ua;a.XODText.Quad.prototype.GetPoints=XODText.Ua.prototype.Yp;a.XODText.Matrix2D=XODText.Pa;a.XODText.Matrix2D.prototype.initMatrix=XODText.Pa.prototype.Xk;a.XODText.Matrix2D.prototype.initCoordinates=
XODText.Pa.prototype.hb;a.XODText.Matrix2D.prototype.mult=XODText.Pa.prototype.za;a.CoreControls.Encryption=a.g.Ig;a.CoreControls.Encryption.Decrypt=a.g.Ig.Qu;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.g.K.Hd;a.CoreControls.PartRetrievers.PartRetriever.prototype.SetErrorCallback=a.g.K.Hd.prototype.Tw;a.CoreControls.PartRetrievers.PartRetriever.prototype.SetCustomHeaders=a.g.K.Hd.prototype.Rw;a.CoreControls.PartRetrievers.CacheHinting=a.g.K.Hf;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=
a.g.K.Hf.sm;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.g.K.Hf.Fp;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=a.g.K.Hf.Xv;a.CoreControls.PartRetrievers.LocalPartRetriever=a.g.K.Vv;a.CoreControls.PartRetrievers.HttpPartRetriever=a.g.K.Og;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.RequestDocument=a.g.K.Hd.prototype.Lj;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.Request=a.g.K.Hd.prototype.Of;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.g.K.Yl;a.CoreControls.PartRetrievers.StreamingPartRetriever=
a.g.K.ox;a.CoreControls.PartRetrievers.WebDBPartRetriever=a.g.K.pi;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.g.K.Au;a.CoreControls.PartRetrievers.SilverlightPartRetriever=a.g.K.lx;a.CoreControls.PartRetrievers.AzurePartRetriever=a.g.K.Gu;a.CoreControls.PartRetrievers.IOSPartRetriever=a.g.K.bi;a.CoreControls.PartRetrievers.IOSPartRetriever.PartSuccess=a.g.K.bi.wm;a.CoreControls.PartRetrievers.IOSPartRetriever.PartFail=a.g.K.bi.vm;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.g.K.qi;
a.CoreControls.PartRetrievers.WinRTPartRetriever.PartSuccess=a.g.K.qi.wm;a.CoreControls.PartRetrievers.WinRTPartRetriever.PartFail=a.g.K.qi.vm;a.CoreControls.CanvasMode=a.g.Tl;a.CoreControls.CanvasMode.ViewportCanvas=a.g.Tl.Kq;a.CoreControls.CanvasMode.PageCanvas=a.g.Tl.rq;a.CoreControls.SetCanvasMode=a.g.Ow;a.CoreControls.Bookmark=a.g.Ff;a.CoreControls.Bookmark.prototype.GetName=a.g.Ff.prototype.ov;a.CoreControls.Bookmark.prototype.GetVPos=a.g.Ff.prototype.hm;a.CoreControls.Bookmark.prototype.GetHPos=
a.g.Ff.prototype.fm;a.CoreControls.Bookmark.prototype.GetPageNumber=a.g.Ff.prototype.jb;a.CoreControls.Bookmark.prototype.GetURL=a.g.Ff.prototype.Dv;a.CoreControls.Document=a.g.Ka;a.CoreControls.Document.prototype.GetBookmarks=a.g.Ka.prototype.fv;a.CoreControls.Document.prototype.GetLinks=a.g.Ka.prototype.nv;a.CoreControls.Document.prototype.LoadThumbnailAsync=a.g.Ka.prototype.iq;a.CoreControls.Document.prototype.IncludesThumbnails=a.g.Ka.prototype.Nv;a.CoreControls.Document.prototype.LoadPageText=
a.g.Ka.prototype.Tv;a.CoreControls.Document.prototype.GetTextPosition=a.g.Ka.prototype.Av;a.CoreControls.Document.prototype.LoadCanvasAsync=a.g.Ka.prototype.Sv;a.CoreControls.Document.prototype.PauseLoadCanvas=a.g.Ka.prototype.mw;a.CoreControls.Document.prototype.ResumeLoadCanvas=a.g.Ka.prototype.tw;a.CoreControls.Document.prototype.CancelLoadCanvas=a.g.Ka.prototype.Hp;a.CoreControls.Document.prototype.UnloadCanvasResources=a.g.Ka.prototype.tx;a.CoreControls.Document.prototype.CancelThumbnailRequest=
a.g.Ka.prototype.Ip;a.CoreControls.Document.prototype.GetPageInfo=a.g.Ka.prototype.Xp;a.CoreControls.Document.prototype.GetPageCount=a.g.Ka.prototype.Fj;a.CoreControls.Document.prototype.GetPDFCoordinates=a.g.Ka.prototype.rv;a.CoreControls.Document.prototype.GetXODCoordinates=a.g.Ka.prototype.Ev;a.CoreControls.Document.prototype.LoadAsync=a.g.Ka.prototype.gi;a.CoreControls.Document.prototype.UnloadResources=a.g.Ka.prototype.Iq;a.CoreControls.Document.prototype.InitOfflineDB=a.g.Ka.prototype.gq;a.CoreControls.Document.prototype.StoreOffline=
a.g.Ka.prototype.nx;a.CoreControls.Document.prototype.IsDownloaded=a.g.Ka.prototype.Ov;a.CoreControls.Document.prototype.GetOfflineModeEnabled=a.g.Ka.prototype.qv;a.CoreControls.Document.prototype.SetOfflineModeEnabled=a.g.Ka.prototype.Xw;a.CoreControls.Document.prototype.CancelOfflineModeDownload=a.g.Ka.prototype.Iu;a.CoreControls.PageRotation=a.g.sa;a.CoreControls.PageRotation.e_0=a.g.sa.Vd;a.CoreControls.PageRotation.e_90=a.g.sa.Xd;a.CoreControls.PageRotation.e_180=a.g.sa.nf;a.CoreControls.PageRotation.e_270=
a.g.sa.Wd;a.CoreControls.Hyperlink=a.g.Mf;a.CoreControls.Hyperlink.prototype.GetBoundingBox=a.g.Mf.prototype.em;a.CoreControls.Hyperlink.prototype.GetTarget=a.g.Mf.prototype.zv;a.CoreControls.Link=a.g.pe;a.CoreControls.Link.prototype.GetBoundingBox=a.g.pe.prototype.em;a.CoreControls.Link.prototype.GetVPos=a.g.pe.prototype.hm;a.CoreControls.Link.prototype.GetHPos=a.g.pe.prototype.fm;a.CoreControls.Link.prototype.GetPageNumber=a.g.pe.prototype.jb;a.CoreControls.DocumentViewer=a.g.V;a.CoreControls.DocumentViewer.prototype.LoadAsync=
a.g.V.prototype.gi;a.CoreControls.DocumentViewer.prototype.Dispose=a.g.V.prototype.Bj;a.CoreControls.DocumentViewer.prototype.FitMode=function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.g.V.prototype.me.$l;a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.g.V.prototype.me.Tp;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.g.V.prototype.me.Zoom;a.CoreControls.DocumentViewer.prototype.DisplayLastPage=a.g.V.prototype.Wu;a.CoreControls.DocumentViewer.prototype.DisplayFirstPage=
a.g.V.prototype.Vu;a.CoreControls.DocumentViewer.prototype.SetCurrentPage=a.g.V.prototype.Mc;a.CoreControls.DocumentViewer.prototype.GetCurrentPage=a.g.V.prototype.Mg;a.CoreControls.DocumentViewer.prototype.GetZoom=a.g.V.prototype.Hj;a.CoreControls.DocumentViewer.prototype.GetPageCount=a.g.V.prototype.Fj;a.CoreControls.DocumentViewer.prototype.SetFitMode=a.g.V.prototype.Hm;a.CoreControls.DocumentViewer.prototype.ZoomTo=a.g.V.prototype.Mm;a.CoreControls.DocumentViewer.prototype.GetZoom=a.g.V.prototype.Hj;
a.CoreControls.DocumentViewer.prototype.SetToolMode=a.g.V.prototype.Jm;a.CoreControls.DocumentViewer.prototype.GetFitMode=a.g.V.prototype.iv;a.CoreControls.DocumentViewer.prototype.TextSearchInit=a.g.V.prototype.Eq;a.CoreControls.DocumentViewer.prototype.RotateClockwise=a.g.V.prototype.vw;a.CoreControls.DocumentViewer.prototype.RotateCounterClockwise=a.g.V.prototype.ww;a.CoreControls.DocumentViewer.prototype.SearchMode=function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=
XODText.fb.Cs;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.fb.Fs;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.fb.ho;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.fb.Es;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.fb.Ds;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.fb.Bs;a.CoreControls.DocumentViewer.prototype.DisplayBookmark=a.g.V.prototype.Uu;a.CoreControls.DocumentViewer.prototype.GetDocument=
a.g.V.prototype.oe;a.CoreControls.DocumentViewer.prototype.GetSelectedText=a.g.V.prototype.$p;a.CoreControls.DocumentViewer.prototype.SetTextHighlightColor=a.g.V.prototype.gx;a.CoreControls.DocumentViewer.prototype.DisplaySearchResult=a.g.V.prototype.Np;a.CoreControls.DocumentViewer.prototype.ScrollViewUpdated=a.g.V.prototype.Mw;a.CoreControls.DocumentViewer.prototype.CloseDocument=a.g.V.prototype.Jp;a.CoreControls.DocumentViewer.prototype.GetToolMode=a.g.V.prototype.Bv;a.CoreControls.DocumentViewer.prototype.SetOptions=
a.g.V.prototype.mi;a.CoreControls.SetCachingLevel=a.g.Gm;a.CoreControls.SetPreRenderLevel=a.g.yq;a.CoreControls.DocumentViewer.prototype.GetMargin=a.g.V.prototype.Dj;a.CoreControls.DocumentViewer.prototype.SetMargin=a.g.V.prototype.Ww;a.CoreControls.DocumentViewer.prototype.UpdateView=a.g.V.prototype.Qj;a.CoreControls.DocumentViewer.prototype.UpdateVisiblePages=a.g.V.prototype.wx;a.CoreControls.DocumentViewer.prototype.UpdateLinks=a.g.V.prototype.Jq;a.CoreControls.DocumentViewer.prototype.StopPageRender=
a.g.V.prototype.mx;a.CoreControls.DocumentViewer.prototype.SetPagesPerCanvas=a.g.V.prototype.$w;a.CoreControls.DocumentViewer.prototype.ReturnCanvas=a.g.V.prototype.uw;a.CoreControls.DocumentViewer.prototype.DrawSelection=a.g.V.prototype.Xu;a.CoreControls.DocumentViewer.prototype.ClearSelection=a.g.V.prototype.Ul;a.CoreControls.DocumentViewer.prototype.RemoveContent=a.g.V.prototype.Sg;a.CoreControls.DocumentViewer.prototype.Select=a.g.V.prototype.Cm;a.CoreControls.DocumentViewer.prototype.SetPageZoom=
a.g.V.prototype.Zw;a.CoreControls.DocumentViewer.prototype.GetPageZoom=a.g.V.prototype.Ga;a.CoreControls.DocumentViewer.prototype.GetRotation=a.g.V.prototype.kb;a.CoreControls.DocumentViewer.prototype.SetRotation=a.g.V.prototype.ex;a.CoreControls.DocumentViewer.prototype.GetPageRotations=a.g.V.prototype.tv;a.CoreControls.DocumentViewer.prototype.SetPageRotations=a.g.V.prototype.Yw;a.CoreControls.DocumentViewer.prototype.GetAnnotationManager=a.g.V.prototype.ev;a.CoreControls.DocumentViewer.prototype.GetDisplayModeManager=
a.g.V.prototype.ai;a.CoreControls.DisplayMode=a.g.tc;a.CoreControls.DisplayMode.prototype.SetParameters=a.g.tc.prototype.ax;a.CoreControls.DisplayMode.prototype.IsContinuous=a.g.tc.prototype.lm;a.CoreControls.DisplayMode.prototype.WindowToPage=a.g.tc.prototype.yx;a.CoreControls.DisplayMode.prototype.PageToWindow=a.g.tc.prototype.tm;a.CoreControls.DisplayMode.prototype.GetSelectedPages=a.g.tc.prototype.xv;a.CoreControls.DisplayMode.prototype.GetVisiblePages=a.g.tc.prototype.aq;a.CoreControls.DisplayMode.prototype.GetPageTransform=
a.g.tc.prototype.uv;a.CoreControls.DisplayMode.prototype.GetPageOffset=a.g.tc.prototype.sv;a.CoreControls.DisplayMode.prototype.CreatePageSections=a.g.tc.prototype.Lu;a.CoreControls.DisplayModes=a.g.uc;a.CoreControls.DisplayModes.Single=a.g.uc.zq;a.CoreControls.DisplayModes.Continuous=a.g.uc.Uh;a.CoreControls.DisplayModes.Facing=a.g.uc.Sp;a.CoreControls.DisplayModes.FacingContinuous=a.g.uc.Zl;a.CoreControls.DisplayModes.Cover=a.g.uc.zj;a.CoreControls.DisplayModes.CoverFacing=a.g.uc.Fg;a.CoreControls.DisplayModes.Custom=
a.g.uc.If;a.CoreControls.DisplayModeManager=a.g.Wh;a.CoreControls.DisplayModeManager.prototype.SetDisplayMode=a.g.Wh.prototype.vq;a.CoreControls.DisplayModeManager.prototype.GetDisplayMode=a.g.Wh.prototype.va;a.CoreControls.AnnotationManager=a.g.U;a.CoreControls.AnnotationManager.prototype.AddAnnotation=a.g.U.prototype.he;a.CoreControls.AnnotationManager.prototype.AddAnnotations=a.g.U.prototype.Re;a.CoreControls.AnnotationManager.prototype.DeleteAnnotation=a.g.U.prototype.Ue;a.CoreControls.AnnotationManager.prototype.DeleteAnnotations=
a.g.U.prototype.Vh;a.CoreControls.AnnotationManager.prototype.SelectAnnotation=a.g.U.prototype.Dm;a.CoreControls.AnnotationManager.prototype.SelectAnnotations=a.g.U.prototype.Em;a.CoreControls.AnnotationManager.prototype.DeselectAnnotation=a.g.U.prototype.Mp;a.CoreControls.AnnotationManager.prototype.DeselectAllAnnotations=a.g.U.prototype.Gg;a.CoreControls.AnnotationManager.prototype.UpdateCopiedAnnotations=a.g.U.prototype.vx;a.CoreControls.AnnotationManager.prototype.PasteCopiedAnnotations=a.g.U.prototype.lw;
a.CoreControls.AnnotationManager.prototype.GetAnnotationCopy=a.g.U.prototype.dm;a.CoreControls.AnnotationManager.prototype.DrawAnnotations=a.g.U.prototype.wb;a.CoreControls.AnnotationManager.prototype.RedrawAnnotation=a.g.U.prototype.Vb;a.CoreControls.AnnotationManager.prototype.DrawAnnotationsFromList=a.g.U.prototype.Wl;a.CoreControls.AnnotationManager.prototype.UpdateAnnotation=a.g.U.prototype.ux;a.CoreControls.AnnotationManager.prototype.JumpToAnnotation=a.g.U.prototype.Pv;a.CoreControls.AnnotationManager.prototype.HasAnnotation=
a.g.U.prototype.Ze;a.CoreControls.AnnotationManager.prototype.IsAnnotationSelected=a.g.U.prototype.di;a.CoreControls.AnnotationManager.prototype.GetSelectedAnnotations=a.g.U.prototype.Lf;a.CoreControls.AnnotationManager.prototype.GetAnnotationsList=a.g.U.prototype.Lg;a.CoreControls.AnnotationManager.prototype.SetNoteContents=a.g.U.prototype.wq;a.CoreControls.AnnotationManager.prototype.CanModify=a.g.U.prototype.Hc;a.CoreControls.AnnotationManager.prototype.SetPermissionCheckCallback=a.g.U.prototype.bx;
a.CoreControls.AnnotationManager.prototype.GetCurrentUser=a.g.U.prototype.Ng;a.CoreControls.AnnotationManager.prototype.SetCurrentUser=a.g.U.prototype.Pw;a.CoreControls.AnnotationManager.prototype.GetIsAdminUser=a.g.U.prototype.lv;a.CoreControls.AnnotationManager.prototype.SetIsAdminUser=a.g.U.prototype.Vw;a.CoreControls.AnnotationManager.prototype.GetAnnotCommand=a.g.U.prototype.cm;a.CoreControls.AnnotationManager.prototype.ImportAnnotCommand=a.g.U.prototype.km;a.CoreControls.AnnotationManager.prototype.SaveAnnotations=
a.g.U.prototype.Bw;a.CoreControls.AnnotationManager.prototype.ImportAnnotations=a.g.U.prototype.dq;a.CoreControls.AnnotationManager.prototype.ExportAnnotations=a.g.U.prototype.Rp;a.CoreControls.AnnotationManager.prototype.ImportAnnotationsAsync=a.g.U.prototype.fq;a.CoreControls.AnnotationManager.prototype.LoadAnnotations=a.g.U.prototype.Rv;a.CoreControls.AnnotationManager.prototype.SetReadOnly=a.g.U.prototype.dx;a.CoreControls.AnnotationManager.prototype.GetReadOnly=a.g.U.prototype.gm;a.CoreControls.AnnotationManager.prototype.SetMarkupOff=
a.g.U.prototype.Im;a.CoreControls.AnnotationManager.prototype.GetMarkupOff=a.g.U.prototype.Ej;a.CoreControls.AnnotationManager.prototype.GetUseFilter=a.g.U.prototype.Gj;a.CoreControls.AnnotationManager.prototype.SetUseFilter=a.g.U.prototype.Km;a.CoreControls.AnnotationManager.prototype.FilterAnnotations=a.g.U.prototype.bv;a.CoreControls.AnnotationManager.prototype.ToggleAnnotations=a.g.U.prototype.rx;a.CoreControls.AnnotationManager.prototype.DisableDefaultStickyNotes=a.g.U.prototype.Su;a.CoreControls.AnnotationManager.prototype.DisableFreeTextEditing=
a.g.U.prototype.Tu;a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.g.U.prototype.gA;a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=a.g.U.prototype.Ky;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=a.g.U.prototype.kz;a.CoreControls.AnnotationManager.prototype.GetAnnotationFromPopup=a.g.U.prototype.dv;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=a.g.U.prototype.Nk;a.CoreControls.AnnotationManager.prototype.getAnnotationById=
a.g.U.prototype.gg;a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.g.U.prototype.Ui;a.CoreControls.AnnotationManager.prototype.createAnnotationReply=a.g.U.prototype.ms;a.Annotations=a.Annotations;a.Annotations.Color=a.Annotations.Color;a.Annotations.WidgetAnnotation=a.Annotations.Bc;a.Annotations.TextWidgetAnnotation=a.Annotations.xe;a.Annotations.ChoiceWidgetAnnotation=a.Annotations.le;a.Annotations.ButtonWidgetAnnotation=a.Annotations.je;a.Annotations.SignatureWidgetAnnotation=a.Annotations.Nj;
a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.GetPageNumber=a.Annotations.Annotation.prototype.jb;a.Annotations.Annotation.prototype.SetPageNumber=a.Annotations.Annotation.prototype.xq;a.Annotations.Annotation.prototype.NoMove=a.Annotations.Annotation.prototype.Zv;a.Annotations.Annotation.prototype.GetX=a.Annotations.Annotation.prototype.Xe;a.Annotations.Annotation.prototype.SetX=a.Annotations.Annotation.prototype.jx;a.Annotations.Annotation.prototype.GetY=a.Annotations.Annotation.prototype.Ye;
a.Annotations.Annotation.prototype.SetY=a.Annotations.Annotation.prototype.kx;a.Annotations.Annotation.prototype.GetTop=a.Annotations.Annotation.prototype.We;a.Annotations.Annotation.prototype.GetBottom=a.Annotations.Annotation.prototype.Vp;a.Annotations.Annotation.prototype.GetLeft=a.Annotations.Annotation.prototype.Ve;a.Annotations.Annotation.prototype.GetRight=a.Annotations.Annotation.prototype.Zp;a.Annotations.Annotation.prototype.GetWidth=a.Annotations.Annotation.prototype.Ta;a.Annotations.Annotation.prototype.SetWidth=
a.Annotations.Annotation.prototype.hx;a.Annotations.Annotation.prototype.GetHeight=a.Annotations.Annotation.prototype.Oa;a.Annotations.Annotation.prototype.SetHeight=a.Annotations.Annotation.prototype.Uw;a.Annotations.Annotation.prototype.GetPopupComment=a.Annotations.Annotation.prototype.vv;a.Annotations.Annotation.prototype.SetPopupComment=a.Annotations.Annotation.prototype.cx;a.Annotations.Annotation.prototype.GetCustom=a.Annotations.Annotation.prototype.gv;a.Annotations.Annotation.prototype.SetCustom=
a.Annotations.Annotation.prototype.Qw;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=a.Annotations.Annotation.prototype.Bg;a.Annotations.Annotation.prototype.getRect=a.Annotations.Annotation.prototype.ud;a.Annotations.Annotation.prototype.getRectPadding=
a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.Jh;a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.rf;a.Annotations.Annotation.prototype.isReply=a.Annotations.Annotation.prototype.ed;a.Annotations.Annotation.prototype.getReplies=a.Annotations.Annotation.prototype.Ti;a.Annotations.Annotation.prototype.selectionModel=
a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.Ua;a.Annotations.Rect=a.Annotations.ta;a.Annotations.Rect.prototype.getWidth=a.Annotations.ta.prototype.dd;a.Annotations.Rect.prototype.getHeight=a.Annotations.ta.prototype.Pc;a.Annotations.Rect.prototype.translate=a.Annotations.ta.prototype.translate;a.Annotations.Rect.prototype.fitTo=
a.Annotations.ta.prototype.Ms;a.Annotations.Rect.prototype.normalize=a.Annotations.ta.prototype.normalize;a.Annotations.PopupAnnotation=a.Annotations.af;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.af.prototype.isOpen;a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.af.prototype.Kh;a.Annotations.MarkupAnnotation=a.Annotations.fa;a.Annotations.MarkupAnnotation.prototype.setStyles=a.Annotations.fa.prototype.Cb;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.fa.prototype.selectionModel;
a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.fa.prototype.He;a.Annotations.MarkupAnnotation.prototype.setPopup=a.Annotations.fa.prototype.kp;a.Annotations.IPathAnnotation=a.Annotations.wc;a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.wc.prototype.Kb;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.wc.prototype.Bd;a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.wc.prototype.uf;a.Annotations.IPathAnnotation.prototype.popPath=
a.Annotations.wc.prototype.Fh;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.wc.prototype.getPath;a.Annotations.LineAnnotation=a.Annotations.yc;a.Annotations.LineAnnotation.prototype.setStartPoint=a.Annotations.yc.prototype.du;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.yc.prototype.oz;a.Annotations.LineAnnotation.prototype.setEndPoint=a.Annotations.yc.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.yc.prototype.bz;a.Annotations.LineAnnotation.prototype.setStartStyle=
a.Annotations.yc.prototype.Mh;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.yc.prototype.Vi;a.Annotations.LineAnnotation.prototype.setEndStyle=a.Annotations.yc.prototype.au;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.yc.prototype.Vs;a.Annotations.RectangleAnnotation=a.Annotations.Rg;a.Annotations.EllipseAnnotation=a.Annotations.Hg;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.Kb;
a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.Bd;a.Annotations.FreeHandAnnotation.prototype.getPathPoint=a.Annotations.FreeHandAnnotation.prototype.uf;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.Fh;a.Annotations.FreeHandAnnotation.prototype.getPath=a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;
a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.Si;a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.fc;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.fc.prototype.lp;a.Annotations.TextHighlightAnnotation=a.Annotations.we;a.Annotations.TextUnderlineAnnotation=a.Annotations.Vg;a.Annotations.TextStrikeoutAnnotation=
a.Annotations.Rf;a.Annotations.TextSquigglyAnnotation=a.Annotations.oi;a.Annotations.CaretAnnotation=a.Annotations.Th;a.Annotations.StickyAnnotation=a.Annotations.Jd;a.Annotations.StampAnnotation=a.Annotations.Tg;a.Annotations.PolylineAnnotation=a.Annotations.Kj;a.Annotations.PolygonAnnotation=a.Annotations.te;a.Annotations.FreeTextAnnotation=a.Annotations.Aa;a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.Aa.prototype.$s;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.Aa.prototype.Lh;
a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.Aa.prototype.rh;a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.Aa.prototype.pj;a.Annotations.FreeTextAnnotation.prototype.addPathPoint=a.Annotations.Aa.prototype.Kb;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.Aa.prototype.Mh;a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.Aa.prototype.Vi;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.Aa.Jc;a.Annotations.ControlHandle=
a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=a.Annotations.Wc;a.Annotations.LineControlHandle=a.Annotations.Pg;a.Annotations.PathControlHandle=a.Annotations.Nf;a.Annotations.TextControlHandle=a.Annotations.Ug;a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=
a.Annotations.SelectionModel.prototype.rp;a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.$y;a.Annotations.SelectionModel.prototype.canModify=a.Annotations.SelectionModel.prototype.Kn;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;a.Annotations.SelectionModel.prototype.drawPopupTail=a.Annotations.SelectionModel.prototype.drawPopupTail;a.Annotations.BoxSelectionModel=a.Annotations.ia;a.Annotations.LineSelectionModel=
a.Annotations.fi;a.Annotations.PathSelectionModel=a.Annotations.Qg;a.Annotations.TextSelectionModel=a.Annotations.ni;a.Annotations.XfdfUtils=a.Annotations.xa;a.Annotations.XfdfUtils.serializePoint=a.Annotations.xa.jp;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.xa.oj;a.Annotations.XfdfUtils.serializeRect=a.Annotations.xa.El;a.Annotations.XfdfUtils.serializeFringeRect=a.Annotations.xa.ip;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.xa.tp;a.Annotations.SelectionAlgorithm=a.Annotations.Hb;
a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.Hb.lh;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.Hb.zk;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.Hb.nu;a.Tool=a.Tool;a.Tools=a.La;a.Tools.Tool=a.La.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.La.Tool.prototype.az;a.Tools.TextTool=a.La.Ac;a.Tools.GenericAnnotationCreateTool=a.La.Za;a.Tools.PanTool=a.La.ii;a.Tools.PanEditTool=a.La.um;a.Tools.TextSelectTool=a.La.Fq;a.Tools.AnnotationEditTool=
a.La.ra;a.Tools.LineCreateTool=a.La.hq;a.Tools.RectangleCreateTool=a.La.tq;a.Tools.EllipseCreateTool=a.La.Qp;a.Tools.FreeHandCreateTool=a.La.FreeHandCreateTool;a.Tools.StickyCreateTool=a.La.Aq;a.Tools.TextAnnotationCreateTool=a.La.Kd;a.Tools.TextHighlightCreateTool=a.La.Dq;a.Tools.TextUnderlineCreateTool=a.La.Hq;a.Tools.TextStrikeoutCreateTool=a.La.Gq;a.Tools.PolylineCreateTool=a.La.ji;a.Tools.PolygonCreateTool=a.La.Jj;a.Tools.CalloutCreateTool=a.La.Sl;a.Tools.FreeTextCreateTool=a.La.Up;a.Tools.MobileStickyCreateTool=
a.La.kq})(window);
