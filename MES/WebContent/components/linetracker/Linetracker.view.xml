<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
    xmlns:control="airbus.mes.linetracker.KPICharts.control" xmlns:l="sap.ui.layout"
    xmlns="sap.m" controllerName="airbus.mes.linetracker.Linetracker"
    xmlns:custom="airbus.mes.linetracker" xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:controlPhStation="airbus.mes.linetracker.PhysicalStation.control"
    xmlns:uiTable="sap.ui.table" >
    <Page showTitle="false"  class="classLineTrackerTable" enableScrolling="false" showHeader="false">
    <customHeader>
    <!-- <Toolbar  class="pageHeader kpiPageHeader contentNoPad">
            <HBox>
            <Title text="{i18n>lineTrackerTitle}" level="H2" class="lineTrackerTitle"/>
            </HBox>
            <Text text="{i18n>lineTrackerTitle}" />
            <core:Icon
            src="sap-icon://appointment"
            class="size5"
            color="#FFE3E7">
            </core:Icon>
             <Button id="dateButton" icon="sap-icon://appointment"
                            press="datePick" class="classDateButton" />
             <ToolbarSpacer />
             <Label id="dateLabel" text="" class="classDateLabel" ></Label>
             <Button id="hideKPI" enabled="true" icon="sap-icon://hide"
                            text="{i18n>hideKPI}" press="hideKPI" />
    </Toolbar> -->
    </customHeader>
        <Panel id="linetrackerHeaderKPI" expandable="true" expanded="true" image=""
                expandAnimation="false" class="pageHeader kpiPageHeader contentNoPad">
        <headerToolbar>
        <Toolbar>
            <Title text="{i18n>lineTrackerTitle}" level="H2" class="lineTrackerTitle"/>
            <core:Icon
            src="sap-icon://appointment"
            class="size5"
            color="#FFE3E7">
            </core:Icon>
             <ToolbarSpacer />
             <Label id="dateLabel" text="" class="classDateLabel" ></Label>
             <Button id="hideKPI" enabled="true" icon="sap-icon://hide"
                            text="{i18n>hideKPI}" press="hideKPI" />
    </Toolbar>
        </headerToolbar>
        <VBox>
        <core:Fragment fragmentName="airbus.mes.linetracker.KPICharts.KPIs" type="XML" height="10rem"/>
        </VBox>
        </Panel>
        <content>
            <uiTable:Table
            id="linetrackerTable"
            rows="{stationDataModel>/list}" visibleRowCount="8"
            enableColumnReordering="false">
            <uiTable:toolbar >
                    <Toolbar class="toolbar">
                        <Title text="{i18n>taktAdherence}" level="H2" />
                        <ToolbarSpacer width="58%"/>
                        <Text text="{i18n>forcastEndOfAssembly}" width="9.5%"
                            class="headerColumnText sapUiTinyMarginBottom" />
                        <ToolbarSpacer width="1%"/>
                        <Text text="{i18n>remainingToDo}" width="9.7%"
                            class="headerColumnText sapUiTinyMarginBottom" />
                        <ToolbarSpacer width="2%"/>
                        <Text text="{i18n>openDisruptionAndon}" width="9.7%"
                            class="headerColumnText sapUiTinyMarginBottom" />
                    </Toolbar>
            </uiTable:toolbar>

            <uiTable:columns>

                <uiTable:Column width="20%">
                    <OverflowToolbar class="sapUiMediumMarginBegin">
                            <Button id="linetrackerAddStation" icon="sap-icon://add" text="{i18n>_station}"
                                press="onEditStation"
                                type="Emphasized" class="stationBtns sapUiTinyMarginEnd"
                                tooltip="{i18n>addStation}">
                                <layoutData>
                                    <OverflowToolbarLayoutData />
                                </layoutData>
                            </Button>
                            <Button icon="sap-icon://save" press="onSaveVariant" type="Accept"
                                class="stationBtns" tooltip="{i18n>saveVariant}">
                                <layoutData>
                                    <OverflowToolbarLayoutData />
                                </layoutData>
                            </Button>
                            <Input id="selectLine" type="Text" placeholder="{i18n>selectLine}"
                                showValueHelp="true" valueHelpOnly="true" valueHelpRequest="handleValueHelp"
                                class="stationBtns sapUiTinyMarginEnd" width="8rem">
                                <layoutData>
                                    <OverflowToolbarLayoutData priority="NeverOverflow" />
                                </layoutData>
                            </Input>
                            <!-- <core:Icon src="sap-icon://create" press="onCreateModifyLine"
                                class="stationBtns" /> -->
                            <Button icon="sap-icon://edit" press="onCreateModifyLine"
                                class="stationBtns" tooltip="{i18n>modifyLine}" type="Emphasized">
                                <layoutData>
                                    <OverflowToolbarLayoutData />
                                </layoutData>
                            </Button>
                        </OverflowToolbar>
                    <uiTable:template>
                        <HBox alignItems="Center" justifyContent="Center">

                                        <controlPhStation:PhysicalStationBox id="linetrackerEditStation"
                                            color="#bcf6ff" actionIconColor="black" station="{stationDataModel>station}"
                                            msn="MSN 1274"  press="handlePopoverPress" width="80%">
                                            <controlPhStation:actionIconButton>
                                                <core:Icon src="sap-icon://refresh" />
                                            </controlPhStation:actionIconButton>

                                            <controlPhStation:image>


                                                <Image
                                                    src="http://www.look4travel.com.au/flight_specials/lufthansa-logo.jpg"
                                                    width="100%" height="100%" />
                                            </controlPhStation:image>

                                            <controlPhStation:detailIconButton>

                                            </controlPhStation:detailIconButton>

                                        </controlPhStation:PhysicalStationBox>
                                        <Button icon="sap-icon://vertical-grip" press="openStationPopover" class="moreButton"
                                                type="Transparent" width="20%" tooltip="{i18n>moreInfo}"/>

                                    </HBox>
                    </uiTable:template>
                </uiTable:Column>

                <uiTable:Column width="44%">
                    <FlexBox height="2.5rem" alignItems="Center"
                            justifyContent="SpaceAround">
                            <Text text="10%" />
                            <Text text="20%" />
                            <Text text="30%" />
                            <Text text="40%" />
                            <Text text="50%" />
                            <Text text="60%" />
                            <Text text="70%" />
                            <Text text="80%" />
                            <Text text="90%" />
                            <Text text="100%" />
                        </FlexBox>

                    <uiTable:template>
                            <custom:linetrackerProgressBar planned="{stationDataModel>planned}"
                                confirmed="{stationDataModel>confirmed}" class="progressBar" />
                    </uiTable:template>

                </uiTable:Column>

                <uiTable:Column width="6%" id="lineTrackerTrendBorder">
                    <Text text="{i18n>trend}" class="taktHeading" />
                    <uiTable:template>
                        <core:Icon src="sap-icon://{stationDataModel>trend}"
                                color="{stationDataModel>trendColor}" />
                    </uiTable:template>
                </uiTable:Column>

                <uiTable:Column width="6%">
                    <Text text="{i18n>date}" class="taktHeading" />
                    <uiTable:template>
                        <Text text="{stationDataModel>date}" />
                    </uiTable:template>

                </uiTable:Column>

                <uiTable:Column width="6%">
                    <Text text="{i18n>cycleTime}" class="taktHeading" />

                    <uiTable:template>
                        <Text text="{stationDataModel>cycleTime}" />
                    </uiTable:template>

                </uiTable:Column>

                <uiTable:Column width="6%">
                    <Text text="{i18n>workContent}" class="taktHeading" />
                    <uiTable:template>
                        <Text text="{stationDataModel>workContent}" />
                    </uiTable:template>

                </uiTable:Column>

                <uiTable:Column width="6%">
                    <Text text="{i18n>openDisruptions}" class="taktHeading" />
                    <uiTable:template>
                        <Text text="{stationDataModel>disruption}" />
                    </uiTable:template>

                </uiTable:Column>

                <uiTable:Column width="6%">
                    <Text text="{i18n>openANDON}" class="taktHeading" />
                    <uiTable:template>
                        <Text text="{stationDataModel>andon}" />
                    </uiTable:template>

                </uiTable:Column>

            </uiTable:columns>

            </uiTable:Table>

            <control:slideControl id="idSlideControl">

                <control:slideContent>
                    <core:Fragment fragmentName="airbus.mes.linetracker.KPICharts.StationSlideKPIs"
                        type="XML" />
                </control:slideContent>
            </control:slideControl>
        </content>

    </Page>
</core:View>
