<mvc:View 
	xmlns:core="sap.ui.core" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns:u="sap.ui.unified" 
	xmlns="sap.m" controllerName="airbus.mes.trackingtemplate.controller.trackingtemplate" 
	xmlns:f="sap.ui.layout.form" 
	xmlns:l="sap.ui.layout" 
	xmlns:html="http://www.w3.org/1999/xhtml" 
	xmlns:cData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<Page enableScrolling="true" showHeader="false" class="trackingTemplate">
		<content>
			<!-- Confirmation Notes -->
			<Panel expandable="true" expanded="false" headerText="{i18n>cn_title}" width="auto" class="sapUiResponsiveMargin" id="confirmation_notes_panel">
				<content>
					<!-- Header ToolBar -->
					<OverflowToolbar class="overflowCheckBoxConfirmationNoteBar">
						<CheckBox id="showOnlyLastConfirmationNote" text="{i18n>cn_toolbar_last}" enabled="true" selected="false" select="filterConfirmationNoteList"/>
						<CheckBox id="showOnlyNotConfirmedConfirmationNote" text="{i18n>cn_toolbar_confirmed}" enabled="true" selected="false" select="filterConfirmationNoteList"/>
					</OverflowToolbar>
					<!-- List Comment -->
					<List id="confirmationNotes" items="{TrackingTemplate>/Rowsets/Rowset/0/Row}" includeItemInSelection="true" class="customListItem">
						<items>
							<StandardListItem title="OP {TrackingTemplate>operationNumber} - {TrackingTemplate>User_First_Name}.{TrackingTemplate>User_Last_Name}" description="{TrackingTemplate>Comments}" info="{path: 'TrackingTemplate>Created_Date_Time'}"/>
						</items>
					</List>
				</content>
			</Panel>
			<!-- Work Order Notes -->
			<Panel expandable="true" expanded="false" headerText="{i18n>won_title}" width="auto" class="sapUiResponsiveMargin" id="wo_notes_panel">
				<content>
					<!-- Header ToolBar -->
					<OverflowToolbar class="trackingTemplateButton">
						<CheckBox id="showOnlyLastWONote" text="{i18n>won_toolbar_last}" enabled="true" selected="false" select="showOnlyLastWONote"/>
						<ToolbarSpacer />
						<Button class="icon-edit" text="{i18n>won_toolbar_edit}" press="showCommentBox" icon="sap-icon://edit" enabled="{Profile>/identifiedUser/permissions/WORK_TRACKER_OSW_NOTE}"/>
						<!--<Button class="icon-print" text="{i18n>won_toolbar_print}" press="printTrackingTemplate" icon="sap-icon://print"/>-->

					</OverflowToolbar>
					<!-- Comment box -->
					<Panel id="commentBox" visible="false" class="commentPanel">
						<Panel class="reasonCodeContainer">
							<Label text="{i18n>reasonCode}" />
							<Select text="{i18n>reasonCode}" change="onSelectionReason" id="reasonCodeSelectBox" forceSelection="false" items="{reasonCodeModel>/Rowsets/Rowset/0/Row}">
								<core:Item key="{reasonCodeModel>REASON_CODE}" text="{reasonCodeModel>DESCRIPTION}" />
							</Select>
						</Panel>
						<TextArea id="commentArea" growing="true" maxLength="255" placeholder="{i18n>textAreaPlaceHolder}"/>
						<!--<UploadCollection id="UploadCollection" maximumFilenameLength="55" maximumFileSize="10" multiple="true" sameFilenameAllowed="true" instantUpload="false" showSeparators="All" change="onChange" fileDeleted="onFileDeleted" filenameLengthExceed="onFilenameLengthExceed" fileSizeExceed="onFileSizeExceed" typeMissmatch="onTypeMissmatch" uploadComplete="onUploadComplete" beforeUploadStarts="onBeforeUploadStarts"></UploadCollection>-->
						<HBox>
							<Button text="{i18n>submitComment}" type="Accept" press="submitComment" class="sapUiSmallMarginEnd buttonAccept" width="12rem" />
							<Button text="{i18n>cancel}" type="Reject" press="hideCommentBox" class="sapUiSmallMarginEnd buttonReject" width="12rem" />
						</HBox>
					</Panel>
					<!-- List Comment -->
					<List id="listNotes" items="{path:'TrackingTemplate>/Rowsets/Rowset/0/Row', sorter: {path: 'Created_Date_Time', descending : true}}" class="customListItem">
						<items>
							<StandardListItem title="{TrackingTemplate>User_First_Name}.{TrackingTemplate>User_Last_Name}" description="{TrackingTemplate>Comments}" info="{path: 'TrackingTemplate>Created_Date_Time'}"/>
						</items>
					</List>
				</content>
			</Panel>
		</content>
	</Page>
</mvc:View>