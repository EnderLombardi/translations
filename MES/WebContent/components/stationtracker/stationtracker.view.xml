<core:View xmlns:core="sap.ui.core" xmlns="sap.m"
	xmlns:suite="sap.suite.ui.commons" controllerName="airbus.mes.stationtracker.stationtracker"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:custom="airbus.mes.stationtracker"
	xmlns:control="airbus.mes.stationtracker.control" xmlns:layout="sap.ui.layout"
	xmlns:micro="sap.suite.ui.microchart" xmlns:uni="sap.ui.unified">
	<Page title="Station Tracker" height="100%" showHeader="false"
		enableScrolling="false " class="GenricBgColor">

		<content width="100%" height="100%">
			<Panel id="kpi_header" expandable="true" expanded="true"
				expandAnimation="false" class="pageHeader kpiPageHeader contentNoPad">
				<headerToolbar>
					<Toolbar id="kpiHeaderToolbar" class="classKpiheaderToolbar">
						<!-- <DatePicker id="DatePicker" width="auto" change="changeDay" class="pageHeaderBlue"/> -->
						<Button id="dateButton" icon="sap-icon://appointment" type="Transparent"
							press="datePick" class="classDateButton" />
						<Label id="dateLabel" text="" class="classDateLabel" />
						<Select id="selectShift"
							class="sapUiTinyMarginBeginEnd pageHeader pageHeaderBlue" change="changeShift"
							items="{ path : 'stationTrackerShift>/' }" enabled="false">
							<core:Item key="{stationTrackerShift>shiftID}" text="{stationTrackerShift>shiftName}" />
						</Select>
						<Button id="ProductionButton"
							text="{StationTrackerI18n>ProductionGroup} : {StationTrackerI18n>StatusAll}"
							type="Transparent" class="whiteColor whiteButton" press="onProductionGroupPress" />
						<Select id="selectUser" change="selectUser"
							class="sapUiTinyMarginBeginEnd pageHeader pageHeaderBlue" items="{ path : 'ressourcePoolModel>/Rowsets/Rowset/0/Row' }">
							<core:Item key="{ressourcePoolModel>USER_ID}" text="{ressourcePoolModel>FNAME}" />
						</Select>
						<ToolbarSpacer />
						<Button id="TeamButton" text="{StationTrackerI18n>ButtonTeam}"
							type="Transparent"
							class="tiffanyColor whiteButton buttonStatus2 iconbuttonTeam sapUiSmallMarginBegin"
							icon="sap-icon://group" press="onTeamPress" />
						<Button id="hideKPI" type="Transparent" icon="sap-icon://hide"
							text="{StationTrackerI18n>HideKPIS}" press="hideKPI" />
					</Toolbar>

				</headerToolbar>
				<content>
					<HBox id="kpiHeaderContent" class="classKpiHeaderContent"
						width="100%">

						<HBox justifyContent="SpaceAround" id="boxTaktAdherence"
							width="32%" class="contentHeaderCont">

							<HBox>

								<VBox justifyContent="SpaceAround" width="50%" id="chartId">
									<VBox>
										<layout:Grid class="" defaultSpan="L6 M6 S12">
											<layout:content>
												<Label text="Plan:650" class="KpiMediumText KPITaktChartBlueText" />
												<Label text="Actual:550"
													class="KpiMediumText whiteText KPITaktChartRightText" />
											</layout:content>
										</layout:Grid>
										<custom:TaktAdherenceAreaChart
											id="takt_adherence_area_chart"></custom:TaktAdherenceAreaChart>
										<Label text="Planned Start/End of Assembly" class=" whiteText" />

										<layout:Grid class="" defaultSpan="L6 M6 S6">
											<layout:content>
												<Label text="25 JUN - 7:00" class=" whiteText" />
												<Label text="02 JUL - 16:00" class=" whiteText KPITaktChartRightText" />
											</layout:content>
										</layout:Grid>
									</VBox>
								</VBox>
								<VBox width="50%">
									<Label text="{StationTrackerI18n>TaktAdherence}" design="Bold"
										width="100%" class="whiteTextHeader sapUiSmallMarginTop" />
									<VBox justifyContent="SpaceAround" height="100%">
										<HBox class="sapUiSmallMarginBottom">
											<VBox width="31%">
												<Label text="{StationTrackerI18n>Adherence}" class=" whiteText" />
												<Label
													text="{KPI>/Rowsets/Rowset/0/Row/EfficiencyFactors/Labour}"
													class="sapUiSmallMarginTop kpiValue  whiteText" height="100%" />

											</VBox>
											<VBox width="69%">
												<layout:Grid id="TaktAdherenceTrend" class="classTaktAdherenceTrend"
													defaultSpan="L4 M4 S4">
													<layout:content>
														<Label text="{StationTrackerI18n>Trend}"
															class=" whiteText takt_kpi_name takt_kpi_trend ">
															<layoutData>
																<layout:GridData span="L8 M8 S8" />
															</layoutData>
														</Label>
														<core:Icon src="sap-icon://up"
															class=" TrendGreen takt_kpi_value takt_kpi_trend_value" />

														<Label text="{StationTrackerI18n>DeltaVsSLB}" class="whiteText takt_kpi_name">
															<layoutData>
																<layout:GridData span="L8 M8 S8" />
															</layoutData>
														</Label>
														<Label
															text="{KPI>/Rowsets/Rowset/0/Row/EfficiencyFactors/DeltaVsSLB}"
															class="whiteText takt_kpi_value" />

														<Label text="{StationTrackerI18n>DeltaVsSoA}" class="whiteText takt_kpi_name">
															<layoutData>
																<layout:GridData span="L8 M8 S8" />
															</layoutData>
														</Label>
														<Label
															text="{KPI>/Rowsets/Rowset/0/Row/EfficiencyFactors/DeltaVsSoA}"
															class="whiteText takt_kpi_value" />

														<Label text="{StationTrackerI18n>CycleTime}" class="whiteText takt_kpi_name">
															<layoutData>
																<layout:GridData span="L8 M8 S8" />
															</layoutData>
														</Label>
														<Label
															text="{KPI>/Rowsets/Rowset/0/Row/EfficiencyFactors/CycleTime}"
															class="whiteText takt_kpi_value" />

														<Label text="{StationTrackerI18n>WorkCintent}"
															class="whiteText takt_kpi_name">
															<layoutData>
																<layout:GridData span="L8 M8 S8" />
															</layoutData>
														</Label>
														<Label
															text="{KPI>/Rowsets/Rowset/0/Row/EfficiencyFactors/WorkContent}"
															class="whiteText takt_kpi_value" />
													</layout:content>
												</layout:Grid>
											</VBox>
										</HBox>
									</VBox>
								</VBox>

							</HBox>

						</HBox>

						<VBox id="boxLabourEfficiency" wrap="Wrap" width="7%"
							class="contentHeaderCont">

							<Label text="{StationTrackerI18n>LabourEfficiency}" design="Bold"
								width="100%" class="whiteTextHeader sapUiSmallMarginTopBottom" />
							<Label text="{KPI>/Rowsets/Rowset/0/Row/EfficiencyFactors/Labour}"
								id="LabourEfficiencyValue" class="sapUiSmallMarginTop whiteText kpiValue" />
						</VBox>

						<VBox id="boxSLBEfficiecy" width="10%" alignItems="Center"
							class="contentHeaderCont">
							<Label text="{StationTrackerI18n>SLBEFFICIENCY}" design="Bold"
								class="whiteTextHeader sapUiSmallMarginTopBottom" />
							<VBox width="90%" justifyContent="SpaceAround" height="64%">
								<micro:ComparisonMicroChart width="100%"
									id="boxSLBEfficiecy_chart" size="L" colorPalette="#84bd00, #f5f5f5, #fe5000">
									<micro:data>
										<micro:ComparisonMicroChartData
											title="{StationTrackerI18n>TaktSLB}" value="85" />
										<micro:ComparisonMicroChartData
											title="{StationTrackerI18n>WhiteSpaces}" value="10" />
										<micro:ComparisonMicroChartData
											title="{StationTrackerI18n>RedSpaces}" value="5" />
										<micro:ComparisonMicroChartData
											id="hiddenRefBarSBL" title="{StationTrackerI18n>RedSpaces}"
											value="100" visible="false" />
									</micro:data>

								</micro:ComparisonMicroChart>
							</VBox>
						</VBox>

						<VBox id="boxOpenDisruptions" width="40%" class="contentHeaderCont">
							<Label text="{StationTrackerI18n>DisruptionOpen}" design="Bold"
								width="100%" class="whiteTextHeader sapUiSmallMarginTopBottom" />
							<HBox height="65%">
								<VBox direction="Column" alignItems="Start" width="15%">
									<Label text="{StationTrackerI18n>DisruptionTotal}" class="sapUiTinyMarginBegin wrap" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/TotalDisruption}"
										class="whiteText kpiValue sapUiLargeMarginTop sapUiTinyMargin" />
								</VBox>

								<VBox direction="Column" alignItems="Start"
									class="sapUiTinyMarginBegin wrap" width="10%">
									<Label text="{StationTrackerI18n>DisruptionsNC}" class="disruptionText wrap" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/NCDisruption}"
										class="whiteText kpiValue sapUiMediumMarginTop" />
									<Label text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/NCAndon}"
										class=" redText kpiErrorValue sapUiSmallMarginTop" />
								</VBox>

								<VBox direction="Column" alignItems="Start"
									class="sapUiTinyMarginBegin wrap" width="10%">
									<Label text="{StationTrackerI18n>DisruptionsMissing}"
										class="disruptionText wrap" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/MissingDisruption}"
										class="whiteText kpiValue sapUiSmallMarginTop" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/MissingAndon}"
										class=" redText kpiErrorValue sapUiSmallMarginTop" />
								</VBox>

								<VBox direction="Column" alignItems="Start"
									class="sapUiTinyMarginBegin wrap" width="10%">
									<Label text="{StationTrackerI18n>DisruptionJnT}" class="disruptionText wrap" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/JTDisruption}"
										class="whiteText kpiValue sapUiSmallMarginTop" />
									<Label text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/JTAndon}"
										class=" redText kpiErrorValue sapUiSmallMarginTop" />
								</VBox>

								<VBox direction="Column" alignItems="Start"
									class="sapUiTinyMarginBegin wrap" width="10%">
									<Label text="{StationTrackerI18n>DisruptionPeople}"
										class="disruptionText wrap" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/FTEDisruption}"
										class="whiteText kpiValue sapUiMediumMarginTop" />
									<Label text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/FTEAndon}"
										class=" redText kpiErrorValue sapUiSmallMarginTop" />
								</VBox>

								<VBox direction="Column" alignItems="Start"
									class="sapUiTinyMarginBegin wrap" width="10%">
									<Label text="{StationTrackerI18n>DisruptionOther}" class="disruptionText wrap" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/OtherDisruption}"
										class="whiteText kpiValue sapUiMediumMarginTop" />
									<Label
										text="{KPI>/Rowsets/Rowset/0/Row/DisruptionStatus/OtherAndon}"
										class=" redText kpiErrorValue sapUiSmallMarginTop" />
								</VBox>

								<VBox id="boxResolutionEfficiency" width="35%"
									class="sapUiTinyMarginBegin sapUiTinyMarginEnd" alignItems="Center">
									<!-- <Label text="{StationTrackerI18n>ResolutionEfficiency}" design="Bold" 
										class="whiteTextHeader sapUiSmallMarginTopBottom" /> -->
									<!-- <VBox width="100%"> -->
									<micro:ComparisonMicroChart size="L"
										id="boxResolutionEfficiecy_chart" colorPalette="#84bd00,#fe5000,#fe5000,#0F2D65"
										width="100%">
										<micro:data>
											<micro:ComparisonMicroChartData
												title="{StationTrackerI18n>PromisedInTakt}" value="8" />

											<micro:ComparisonMicroChartData
												title="{StationTrackerI18n>PromisedOutTakt}" value="3" />
											<micro:ComparisonMicroChartData
												title="{StationTrackerI18n>NotAcknowledged}" value="2" />
											<micro:ComparisonMicroChartData
												id="hiddenRefBarResolution" title="{StationTrackerI18n>RedSpaces}"
												value="13" visible="false" />
										</micro:data>
									</micro:ComparisonMicroChart>
								</VBox>
							</HBox>
						</VBox>

						<VBox id="boxExtraWork" wrap="Wrap" width="6%" class="contentHeaderCont">
							<Label text="{StationTrackerI18n>ExtraWork}" design="Bold"
								width="100%" class="whiteTextHeader sapUiSmallMarginTopBottom " />
							<Label text="{StationTrackerI18n>Operations}" width="100%"
								class="whiteText kpiName" />
							<Label text="{KPI>/Rowsets/Rowset/0/Row/ExtraWork/Ops}"
								class="whiteText kpiValue" design="Bold" />
							<Label text="{StationTrackerI18n>Hrs}" width="100%"
								class="whiteText kpiName" />
							<Label text="{KPI>/Rowsets/Rowset/0/Row/ExtraWork/Hrs}"
								class="whiteText kpiValue" design="Bold" />
						</VBox>

						<VBox id="boxShiftStaffing" wrap="Wrap" width="10%"
							alignItems="Center" class="contentHeaderCont">
							<Label text="{StationTrackerI18n>ShiftSTAFFING}" size="L"
								design="Bold" width="100%" class="whiteTextHeader sapUiSmallMarginTopBottom" />
							<VBox width="90%" justifyContent="SpaceAround" height="55%">
								<micro:DeltaMicroChart width="100%"
									id="shifStaffingHeader" isResponsive="true" value1="10" value2="9"
									title1="{StationTrackerI18n>NeedFTE}" title2="{StationTrackerI18n>AllocatedFTE}"
									displayValue1="10" displayValue2="9" deltaDisplayValue="1" />
							</VBox>
						</VBox>
					</HBox>

				</content>
			</Panel>


			<OverflowToolbar id="toolbarstationtracker" width="100%">
				<content>
					<SegmentedButton id="buttonViewMode">
						<layoutData>
							<OverflowToolbarLayoutData priority="NeverOverflow" />
						</layoutData>
						<items>
							<SegmentedButtonItem text="{StationTrackerI18n>ButtonShift}"
								press="onShiftPress" key="shift" />
							<SegmentedButtonItem text="{StationTrackerI18n>ButtonDay}"
								press="onDayPress" key="day" />
							<SegmentedButtonItem text="{StationTrackerI18n>ButtonTakt}"
								press="" key="takt" enabled="false" />
						</items>
					</SegmentedButton>
					<!-- <Label text="{StationTrackerI18n>GroupingSortBy}" /> -->
					<!-- <Label text="{StationTrackerI18n>Grouping}"/> -->
					<Select id="selectGroup" class="sapUiTinyMarginBeginEnd comboBoxStyle"
						items="{groupModel>/Rowsets/Rowset/0/Row/Grouping}" change="changeGroup">
						<core:ListItem key="{groupModel>key}"
							text="{ path : 'groupModel>Value' , formatter : '.getI18nValue' }" />
					</Select>
					<!-- <Label id="selectBoxLabel" text="{StationTrackerI18n>Granularity}"/> -->
					<Select id="selectBox" class="sapUiTinyMarginBeginEnd comboBoxStyle"
						items="{groupModel>/Rowsets/Rowset/0/Row/Boxing}" change="changeBox">
						<core:ListItem key="{groupModel>key}"
							text="{ path : 'groupModel>Value' , formatter : '.getI18nValue' }" />
						<!-- <core:Item text="Operations" key="OPERATION_ID"/> <core:Item text="WorkOrder" 
							key="WORKORDER_ID"/> -->
					</Select>
					<ToolbarSpacer />
					<HBox id="toolbarDate" class="sapUiTinyMarginBeginEnd"></HBox>
					<ToolbarSpacer />
					<Button text="{StationTrackerI18n>missingParts}" enabled="false"
						type="Transparent" icon="sap-icon://task" class="sapUiTinyMarginBeginEnd"></Button>
					<Button text="{StationTrackerI18n>ButtonShowCP}" type="Transparent"
						icon="sap-icon://kpi-corporate-performance" class="sapUiTinyMarginBeginEnd"
						press="onCPPress"></Button>
					<Button text="{StationTrackerI18n>disruptions/andon}" press="showDisruption"
						type="Transparent" icon="sap-icon://alert" class="sapUiTinyMarginBeginEnd"></Button>
					<Button text="{StationTrackerI18n>ButtonOutstandingWork}"
						type="Transparent" icon="sap-icon://cause" class="sapUiTinyMarginBeginEnd"
						press="onOSWPress"></Button>
					<Button text="{StationTrackerI18n>ButtonUnplanned}" type="Transparent"
						icon="sap-icon://inspect" class="sapUiTinyMarginBeginEnd" press="onUnplannedPress"></Button>

					<Button text="{StationTrackerI18n>ButtonInitial}" type="Transparent"
						icon="sap-icon://past" class="sapUiTinyMarginBeginEnd" press="onInitialPlanPress"></Button>

				</content>
			</OverflowToolbar>
			<custom:DHTMLXScheduler id="stationtracker"></custom:DHTMLXScheduler>


			<!-- For Disruption table in Station Tracker -->
			<!-- <control:disruptionNotifications id="disruptNotifications"> <control:disruptionContent 
				id="disruptContent"> </control:disruptionContent> </control:disruptionNotifications> -->
			<HBox class="slidingUpDownPanel GenricBgColor" id="disruptNotifications">
				<items>
				</items>
			</HBox>

		</content>
	</Page>
</core:View>




