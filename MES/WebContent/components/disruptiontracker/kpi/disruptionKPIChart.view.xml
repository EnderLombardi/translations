<core:View controllerName="airbus.mes.disruptiontracker.kpi.disruptionKPIChart"
	xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:viz="sap.viz.ui5.controls"
	xmlns:core="sap.ui.core" xmlns:viz.data="sap.viz.ui5.data"
	xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds">

	<Page showHeader="false" class="disruptionKPI">
		<Bar id="disruptionKPITitleSubheader" class="pageHeader">
			<contentLeft>
				<Button id="navBack" icon="sap-icon://arrow-left" text="Back" press="onNavBack" type="Transparent"/>
			</contentLeft>
			<contentMiddle>
				<Label id="disruptionKPITitle" text="{i18n>disruptionKPITitle}" class="lineTrackerName" />
			</contentMiddle>
		</Bar>
		<content>
			<viz:VizFrame id="vizFrame" height="400px" width="50%"
				class="chart" uiConfig="{applicationSet:'fiori'}" legendVisible="false">
				<viz:dataset>
					<viz.data:FlattenedDataset
						data="{TimeLostperCategory>/Rowsets/Rowset/0/Row}">
						<viz.data:dimensions>
							<viz.data:DimensionDefinition axis="1"
								name="Category"
								value="{ path: 'TimeLostperCategory>Category' , formatter: 'airbus.mes.disruptiontracker.Formatter.formatCategory' }" />
						</viz.data:dimensions>
						<viz.data:measures>
							<viz.data:MeasureDefinition name="Time Lost"
								value="{TimeLostperCategory>Time_Lost}" />
						</viz.data:measures>
					</viz.data:FlattenedDataset>
				</viz:dataset>
				<viz:feeds>
					<viz.feeds:FeedItem uid="axisLabels" type="Dimension"
						values="Category" />
					<viz.feeds:FeedItem id='valueAxisFeed1' uid="primaryValues"
						type="Measure" values="Time Lost" />
				</viz:feeds>
			</viz:VizFrame>

			<viz:VizFrame id="vizFrame2" height="400px" width="50%"
				class="chart" uiConfig="{applicationSet:'fiori'}" legendVisible="false">
				<viz:dataset width="50%">
					<viz.data:FlattenedDataset
						data="{TimeLostperReason>/Rowsets/Rowset/1/Row}">
						<viz.data:dimensions>
							<viz.data:DimensionDefinition axis="1"
								name="Reason" value="{TimeLostperReason>Reason}" />
						</viz.data:dimensions>
						<viz.data:measures>
							<viz.data:MeasureDefinition name="Time Lost"
								value="{TimeLostperReason>TimeLost}" />
						</viz.data:measures>
					</viz.data:FlattenedDataset>
				</viz:dataset>
				<viz:feeds>
					<viz.feeds:FeedItem uid="axisLabels" type="Dimension"
						values="Reason" />
					<viz.feeds:FeedItem id='valueAxisFeed2' uid="primaryValues"
						type="Measure" values="Time Lost" />
				</viz:feeds>
			</viz:VizFrame>

			<viz:VizFrame id="vizFrame3" height="400px" width="50%"
				class="chart" vizType="bar" uiConfig="{applicationSet:'fiori'}"
				legendVisible="false">
				<viz:dataset width="50%">
					<viz.data:FlattenedDataset
						data="{TimeLostperOperation>/Rowsets/Rowset/2/Row}">
						<viz.data:dimensions>
							<viz.data:DimensionDefinition axis="1"
								name="Operation" value="{ path: 'TimeLostperOperation>Operation' , formatter: 'airbus.mes.disruptiontracker.Formatter.formatOperation'}" />
						</viz.data:dimensions>
						<viz.data:measures>
							<viz.data:MeasureDefinition name="Time Lost"
								value="{TimeLostperOperation>TimeLost}" />
						</viz.data:measures>
					</viz.data:FlattenedDataset>
				</viz:dataset>
				<viz:feeds>
					<viz.feeds:FeedItem uid="axisLabels" type="Dimension"
						values="Operation" />
					<viz.feeds:FeedItem id='valueAxisFeed3' uid="primaryValues"
						type="Measure" values="Time Lost" />
				</viz:feeds>
			</viz:VizFrame>

			<viz:VizFrame id="vizFrame4" height="400px" width="50%"
				class="chart" vizType="bar" uiConfig="{applicationSet:'fiori'}"
				legendVisible="false">
				<viz:dataset width="50%">
					<viz.data:FlattenedDataset data="{TimeLostperMSN>/Rowsets/Rowset/0/Row}">
						<viz.data:dimensions>
							<viz.data:DimensionDefinition axis="1"
								name="MSN" value="{TimeLostperMSN>MSN}" />
						</viz.data:dimensions>
						<viz.data:measures>
							<viz.data:MeasureDefinition name="Time Lost"
								value="{TimeLostperMSN>TimeLost}" />
						</viz.data:measures>
					</viz.data:FlattenedDataset>
				</viz:dataset>
				<viz:feeds>
					<viz.feeds:FeedItem uid="axisLabels" type="Dimension"
						values="MSN" />
					<viz.feeds:FeedItem id='valueAxisFeed4' uid="primaryValues"
						type="Measure" values="Time Lost" />
				</viz:feeds>
			</viz:VizFrame>
		</content>
	</Page>
</core:View>