<mvc:View controllerName="airbus.mes.disruptiontracker.disruptions"
	xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m">
	<Page class="disruptions" showHeader="false">

		<subHeader>
			<Toolbar>
				<Button id="navBack" icon="sap-icon://arrow-left" text="Back" press="onNavBack" type="Transparent"/>
				<ToolbarSpacer />
				<Text text="{disruptiontrackerI18n>disruptionsTitle}" class="headerText" />
				<ToolbarSpacer />
			</Toolbar>
		</subHeader>

		<Panel width="100%">
			<content>

				<Toolbar>
					<ComboBox id="stationComboBox" class="sapUiMediumMarginEnd" placeholder="{disruptiontrackerI18n>selectStation}"
						items="{ path:'plantModel>/Rowsets/Rowset/0/Row' }" selectedKey="" selectionChange="filterByStation" >
						<core:Item key="{plantModel>station}" text="{plantModel>station}" />
					</ComboBox>

					<ComboBox id="statusComboBox" class="sapUiMediumMarginEnd" placeholder="{disruptiontrackerI18n>selectStatus}"
						items="{ path: 'disruptionsOrderData>/orders' }" selectionChange="filterByStatus" >
						<core:Item key="{disruptionsOrderData>key}" text="{disruptionsOrderData>name}" />
					</ComboBox>

					<SearchField width="13rem" placeholder="Search disruption" />
					<ToolbarSpacer />

					<Button id="gotoDisruptionKpi" icon="sap-icon://area-chart" text="{disruptiontrackerI18n>disruptionKPI}"
						press="onPressDisruptionKPI" />
				</Toolbar>

			</content>

		</Panel>


		<Table id="disruptionsTable" class="disruptionsTable sapUiSmallMarginBottom"
			items="{ path: 'disruptionsTrackerModel>/Rowsets/Rowset/0/Row' }">

			<columns>
				<Column>
					<Text text="{disruptiontrackerI18n>operation}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>gravity}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>status}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>category}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>reason}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>originatorGroup}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>resolutionGroup}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>severity}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>openingTime}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>fixedByTime}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>TTGF}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>timeBofreNextEsc}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>solution}" />
				</Column>
				<Column>
					<Text text="{disruptiontrackerI18n>closureDate}" />
				</Column>
			</columns>

			<items>
				<ColumnListItem type="Navigation" press="onTableClick">
					<cells>
						<Text text="{disruptionsTrackerModel>Operation}" />
						<ObjectStatus class="sapUiSmallMarginBottom"
							text="{parts: [ {path: 'disruptionsTrackerModel>Status'}, {path: 'disruptionsTrackerModel>Gravity'}, {path: 'disruptionsTrackerModel>Severity'} ], formatter: 'airbus.mes.disruptiontracker.Formatter.setText'}"
							state="{parts: [ {path: 'disruptionsTrackerModel>Status'}, {path: 'disruptionsTrackerModel>Gravity'}, {path: 'disruptionsTrackerModel>Severity'} ], formatter: 'airbus.mes.disruptiontracker.Formatter.setState'}"
							icon="{path: 'disruptionsTrackerModel>Status', formatter: 'airbus.mes.disruptiontracker.Formatter.setIcon'}" />
						<Text text="{disruptionsTrackerModel>Status}" />
						<Text text="{path: 'disruptionsTrackerModel>MessageType', formatter: 'airbus.mes.disruptiontracker.Formatter.formatCategory'}" />
						<Text text="{disruptionsTrackerModel>Reason}" />
						<Text text="{disruptionsTrackerModel>OriginatorGroup}" />
						<Text text="{disruptionsTrackerModel>ResponsibleGroup}" />
						<Text text="{disruptionsTrackerModel>Severity}" />
						<Text text="{disruptionsTrackerModel>OpeningTime}" />
						<Text text="{disruptionsTrackerModel>FixedByTime}" />
						<Text text="{disruptionsTrackerModel>TTGF}" />
						<Text text="{disruptionsTrackerModel>TimeBeforeNextEscalation}" />
						<Text text="{disruptionsTrackerModel>Solution}" />
						<Text text="{disruptionsTrackerModel>ClosureDate}" />
					</cells>
				</ColumnListItem>
			</items>

		</Table>
	</Page>

</mvc:View>
