<mvc:View controllerName="airbus.mes.missingParts.controller.missingParts"
	xmlns:m="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.ui.table"
	xmlns:l="sap.ui.layout"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:core="sap.ui.core">

	<m:Dialog id="missingPartsPopUp" class="ClassMissingPartsPopUpPopUp theme-disabled"
		contentWidth="100%" contentHeight="60%" verticalScrolling="false"
		showHeader="false" afterClose="afterCloseMissingPartsPopup">
		<m:content>
		<m:Page
		id="mpPage"
		title="{i18nmissingPartsModel>title}"
		showNavButton="false" >
		<m:headerContent>
			<m:Button m:Text="{StationTrackerI18n>Close}" icon="sap-icon://arrow-down"
				press="onCloseMPPopup" />
		</m:headerContent>
		<m:subHeader id="FiltersSubHeader">
			<m:Toolbar id="SearchBar">
			<m:HBox width="100%" alignContent="Center">
			<m:ComboBox
				id="mpFilter"
				placeholder="Select Filter..."
				items="{getMissingParts>/Rowsets/Rowset/0/Columns/Column}"
				selectionChange="onSearch">
				<core:Item key="{FilterId}" text="{path: 'getMissingParts>Name' , formatter: 'airbus.mes.missingParts.util.Formatter.getTranslation'}" />
			</m:ComboBox>
			<m:ComboBox
				id="mpSorter"
				placeholder="Select Order..."
				selectionChange="onSearch">
			</m:ComboBox>
			<m:SearchField 
				id="searchField"
				width="50%"
				placeholder="search for..."
				enableSuggestions="false"
				search="onSearch"/>
			</m:HBox>
			</m:Toolbar>
		</m:subHeader>
			<Table id="MPTable"
					class="MPTable"
                    rows="{getMissingParts>/Rowsets/Rowset/0/Row}"
					selectionMode="None"
					enableBusyIndicator="true"
					enableColumnReordering="false"
					enableSelectAll="false"
					visibleRowCount="auto"
					editable="false"
					height="100%"
					width="100%">
				<columns >
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>workOrder}" />
						<template>
							<m:Text text="{getMissingParts>workOrder}" />
						</template>
					</Column>
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>operation}" />
						<template>
							<m:Text text="{getMissingParts>operation}" />
						</template>
					</Column>
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>partNumber}" />
						<template>
							<m:Text text="{getMissingParts>partNumber}" />
						</template>
					</Column>
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>partDescription}" />
						<template>
							<m:Text text="{getMissingParts>partDescription}" />
						</template>
					</Column>
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>quantity}" />
						<template>
							<m:Text text="{getMissingParts>quantity}" />
						</template>
					</Column>
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>criticalPart}" />
						<template>
							<m:Text text="{getMissingParts>criticalPart}" />
						</template>
					</Column>
					<Column width="10rem">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>expectedDeliveryDate}" />
						<template>
							<m:Text text="{path:'getMissingParts>expectedDeliveryDate', formatter:'airbus.mes.stationtracker.util.Formatter.dateToStringFormat'}" />
						</template>
					</Column>
				</columns>
			</Table>
			</m:Page>
		</m:content>
		<m:buttons>
		</m:buttons>
	</m:Dialog>
</mvc:View>