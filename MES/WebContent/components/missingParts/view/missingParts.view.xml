<mvc:View controllerName="airbus.mes.missingParts.controller.missingParts"
	xmlns:m="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.ui.table"
	xmlns:l="sap.ui.layout"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:core="sap.ui.core">

	<m:Dialog id="missingPartsPopUp" class="ClassMissingPartsPopUpPopUp theme-disabled"
		contentWidth="100%" contentHeight="90%" verticalScrolling="false"
		showHeader="false" afterClose="afterCloseMissingPartsPopup">
		<m:content>
		<m:Page
		id="mpPage"
		title="{i18nmissingPartsModel>title}"
		showNavButton="false" >
		<m:headerContent>
			<m:Button m:Text="{StationTrackerI18n>Close}" icon="sap-icon://arrow-down"
				press="onCloseMPPopup" />
		</m:headerContent>
		<m:subHeader>
			<m:Toolbar id="SearchBar">
			<m:HBox width="100%" alignContent="Center">
			<m:ComboBox
				id="mpFilter"
				placeholder="Select Filter..."
				items="{getMissingParts>/Rowsets/Rowset/0/Columns/Column}">
				<core:Item key="{FilterId}" text="{path: 'getMissingParts>Name' , formatter: 'airbus.mes.missingParts.util.Formatter.getTranslation'}" />
			</m:ComboBox>
			<m:ComboBox
				id="mpSorter"
				placeholder="Select Order..."
				items="{path: 'getOrder>Name'}">
				<core:Item key="{OrderId}" text="{Name}" />
			</m:ComboBox>
			<m:SearchField 
				id="searchField"
				width="50%"
				placeholder="search for..."
				enableSuggestions="false"
				search="onSearch"/>
			</m:HBox>
			</m:Toolbar>
		</m:subHeader>
			<Table id="MPTable"
					class="MPTable"
                    rows="{getMissingParts>/Rowsets/Rowset/0/Row}"
					selectionMode="None"
					visibleRowCount="auto">
				<columns>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>WorkOrder}" />
						<template>
							<m:Text text="{getMissingParts>WorkOrder}" />
						</template>
					</Column>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>Operation}" />
						<template>
							<m:Text text="{getMissingParts>Operation}" />
						</template>
					</Column>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>PartNumber}" />
						<template>
							<m:Text text="{getMissingParts>PartNumber}" />
						</template>
					</Column>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>PartDescript}" />
						<template>
							<m:Text text="{getMissingParts>PartDescript}" />
						</template>
					</Column>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>Quantity}" />
						<template>
							<m:Text text="{getMissingParts>Quantity}" />
						</template>
					</Column>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>CriticalPart}" />
						<template>
							<m:Text text="{getMissingParts>CriticalPart}" />
						</template>
					</Column>
					<Column width="10%">
						<m:Label class="MPTLabel" text="{i18nmissingPartsModel>ExpectStDate}" />
						<template>
							<m:Text text="{path:'getMissingParts>ExpectStDate', formatter:'airbus.mes.stationtracker.util.Formatter.dateToStringFormat'}" />
						</template>
					</Column>
				</columns>
			</Table>
			</m:Page>
		</m:content>
		<m:buttons>
		</m:buttons>
	</m:Dialog>
</mvc:View>