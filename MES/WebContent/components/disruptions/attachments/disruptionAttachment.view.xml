<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m" controllerName="airbus.mes.disruptions.attachments.disruptionAttachment"
	xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns:html="http://www.w3.org/1999/xhtml">

	<Toolbar>
	<Button icon="sap-icon://nav-back" press="onNavPress" />
	<ToolbarSpacer></ToolbarSpacer>
		<Select change="onFilterChange" selectedKey="{attachDisruption>/Rowsets/Rowset/0/Select/0/Name}"
			items="{
						path: 'attachDisruption>/Rowsets/Rowset/0/Select/'
					}">
			<core:Item key="{attachDisruption>key}" text="{attachDisruption>key}" />
		</Select>
		
		<CheckBox id = "idCheckBox" text="{i18n>SelectAll}" select="onSelectAll" class="sapUiSmallMarginEnd" />
	</Toolbar>

	<HBox>
		<Toolbar>
			
			<Label text="{i18n>ListDisruption}" class="sapUiSmallMargin"></Label>
		</Toolbar>

	</HBox>

 	<List id="idList" noDataText="{i18n>NoData}" 
 		class="disruptionDetail sapUiSmallMarginBottom" items="{path: 'attachDisruption>/Rowsets/Rowset/0/Row/'}"> 

 		<CustomListItem> 

 			<Panel expandable="true"> 
 				<headerToolbar> 
 					<Toolbar> 
 						<Title text="{attachDisruption>wo_no}-{attachDisruption>op_no}-{attachDisruption>dis_no}-{attachDisruption>dis_des}-{attachDisruption>gravity}-{attachDisruption>status}" /> 
 					    <ToolbarSpacer></ToolbarSpacer>
 					    <Title text="{attachDisruption>Count}"/>
 					</Toolbar> 								
 				</headerToolbar> 
 				<List id = "idListItems" items="{path: 'attachDisruption>File/'}"> 
 					<CustomListItem> 
 			<Panel expandable="false" backgroundDesign = "Transparent" class="disruptionExpandablePanel"> 
 				<headerToolbar> 
 					<Toolbar> 
 						<Link target="_blank" text="Title: {attachDisruption>name} Type: {attachDisruption>type}" href = "{attachDisruption>src}"/> 
 					<ToolbarSpacer/> 					
 					<Button icon="sap-icon://delete" press="onPressDelete" />
 					</Toolbar>
 				</headerToolbar> 
 				</Panel> 
			
 					</CustomListItem> 
 				</List> 
 			</Panel> 
 		</CustomListItem> 



 	</List> 
</mvc:View>
