<core:View xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form" xmlns:html="http://www.w3.org/1999/xhtml"
	controllerName="airbus.mes.operationdetail.progressSlider">
	<Page showHeader="false" height="100%" enableScrolling="false"
		class="WhiteBG">

		<content>
			<Panel expandable="true" expanded="false" width="auto"
				id="operationDetailPanel" class="pageSubHeader sapUiSmallMarginTop sapUiSmallMarginBeginEnd">
				<headerToolbar>
					<Toolbar height="5rem" class="ML-05">
						<VBox width="100%">
						<HBox height="30%" justifyContent="SpaceBetween">
							<Text id="operationName" class="mainText"
								text="OP {operationDetailModel>/Rowsets/Rowset/0/Row/0/operation_no} - {operationDetailModel>/Rowsets/Rowset/0/Row/0/operation_desc}"/>
								<Switch state="true"/>
						</HBox>
							<HBox justifyContent="SpaceBetween" width="100%">
								<HBox justifyContent="SpaceBetween">

									<Text text="{i18n>workOrder}" class="subText sapUiSmallMarginEnd"></Text>
									<Text id="workOrder"
										text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/wo_no}"
										class="subText"></Text>
								</HBox>
								<HBox justifyContent="SpaceBetween">
									<Text id="timeRange"
										text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/original_start_time} - {operationDetailModel>/Rowsets/Rowset/0/Row/0/original_end_time}"
										class="subText sapUiSmallMarginEnd"></Text>
									<Text id="taskId"
										text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/CPP_CLUSTER}"
										class="subText sapUiSmallMarginEnd"></Text>
									<Button id="opDetailExpandButton" type="Transparent"
										icon="sap-icon://navigation-down-arrow" press="expandOperationDetailPanel"
										class="expandButton"></Button>
								</HBox>
							</HBox>
						</VBox>
					</Toolbar>
				</headerToolbar>
				<content>
					<f:SimpleForm id="operationDetailForm" class="operationDetailForm"
						labelSpanL="1" labelSpanM="2" adjustLabelSpan="false" emptySpanL="0"
						emptySpanM="0" columnsL="4" columnsM="4">
						<f:content>
							<VBox>
								<Label text="Start:" />
								<Text
									text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/planned_start_time}" />
								<Label type="space"></Label>
								<Label text="Time spent" />
								<Text
									text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/time_spent}" />
								<Label type="space"></Label>
								<!-- <Label text="System status: " /> <Text text="DSEX DSPT REL" 
									/> <Label type="space"></Label> -->
							</VBox>
							<VBox>
								<Label text="End:" />
								<Text
									text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/planned_end_time}" />
								<Label type="space"></Label>
								<Label text="Original plan:" />
								<Text
									text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/original_start_time} - {operationDetailModel>/Rowsets/Rowset/0/Row/0/original_end_time}" />
								<Label type="space"></Label>
								<!-- <Label text="User status:" /> <Text text=" - " /> -->
							</VBox>
							<VBox>
								<Label text="Work Center:" />
								<Text
									text="{operationDetailModel>/Rowsets/Rowset/0/Row/0/workcenter}" />
								<Label type="space"></Label>
								<!-- <Label text="ACPnG" /> <Text text="28/08/2016" /> <Label type="space"></Label> 
									<Label text="Bundle" /> <Text text=" - " /> -->
							</VBox>
							<!-- <VBox> <Label text="Activity:" /> <Text text="MEC" /> <Label 
								type="space"></Label> <Label text="N. employees" /> <Text text="1" /> <Label 
								type="space"></Label> <Label text="Work package" /> <Text text=" - " /> </VBox> -->
						</f:content>
					</f:SimpleForm>
					<Button id="opDetailCloseButton" type="Transparent"
						iconFirst="false" text="Show less info" icon="sap-icon://navigation-up-arrow"
						press="expandOperationDetailPanel" class="closeButton"></Button>
				</content>
			</Panel>
			<IconTabBar id="operationNav" expandable="false"
				backgroundDesign="Transparent" height="100%"
				class="operationNavBar sapUiResponsiveContentPadding">
				<items>
					<IconTabFilter text="Progress">

						<VBox width="100%" justifyContent="SpaceBetween">
							<HBox justifyContent="Center" class="sapUiSmallMarginTopBottom">
								<items>
									<Title id="operationStatus"
										text="{parts: ['operationDetailModel>/Rowsets/Rowset/0/Row/0/status', 'operationDetailModel>/Rowsets/Rowset/0/Row/0/progress'], formatter:'airbus.mes.operationdetail.Formatter.setSliderStatus'}"
										level="H1" titleStyle="H3" />
								</items>
							</HBox>

							<l:Grid defaultSpan="L12 M12 S12" class="proressSliderGrid">
								<Button id="btnReduce" type="Transparent" press="reduceProgress"
									icon="sap-icon://sys-minus" class="progressBtnColor">
									<layoutData>
										<l:GridData span="L2 M12 S12" />
									</layoutData>
								</Button>
								<HBox width="100%" class="progressSlider">
									<layoutData>
										<l:GridData span="L8 M12 S12" />
									</layoutData>
									<Slider id="progressSliderfirst" class="comfirmedProgressSlider"
										min="0"
										width="{parts:['operationDetailModel>/Rowsets/Rowset/0/Row/0/status', 'operationDetailModel>/Rowsets/Rowset/0/Row/0/progress'], formatter:'airbus.mes.operationdetail.Formatter.sliderStatusFirst' }"
										editable="false" enabled="false">
									</Slider>
									<Slider id="progressSlider" class="dynProgressSlider sliderInprogressColor"
										max="100" showHandleTooltip="true"
										width="{parts: ['operationDetailModel>/Rowsets/Rowset/0/Row/0/status', 'operationDetailModel>/Rowsets/Rowset/0/Row/0/progress'], formatter: 'airbus.mes.operationdetail.Formatter.sliderStatus' }"
										enabled="true">
									</Slider>

								</HBox>
								<Button id="btnAdd" type="Transparent" press="addProgress"
									icon="sap-icon://sys-add" class="progressBtnColor">
									<layoutData>
										<l:GridData span="L2 M12 S12" />
									</layoutData>
								</Button>
							</l:Grid>
							<!-- <l:Grid defaultSpan="L12 M12 S12"> <Toolbar height="5rem"> <layoutData> 
								<l:GridData span="L12 M12 S12" /> </layoutData> <ToolbarSpacer /> <Button 
								id="btnPause" text="Pause" press="pauseOperation" class="sapMBtnDisabled 
								sapUiSmallMarginBegin sapUiSmallMarginEnd"> </Button> <Button id="btnConfirm" 
								class="btnConfirm sapUiSmallMarginEnd" text="Confirm" press="confirmOperation"> 
								</Button> <Button id="btnActivate" text="Activate" press="activateOperation" 
								type="Emphasized"> </Button> <Button type="Emphasized" id="btnComplete" text="Complete" 
								press="confirmOperation" class="sapUiSmallMarginEnd"> </Button> <ToolbarSpacer 
								/> </Toolbar> </l:Grid> -->
						</VBox>
					</IconTabFilter>

					<!-- <IconTabFilter icon="sap-icon://task" count="389" text="Checklist"> 
						<content> <core:Fragment type="XML" fragmentName="airbus.mes.worktracker.fragments.Tasklist" 
						/> </content> </IconTabFilter> <IconTabFilter icon="sap-icon://alert" text="Disruption"> 
						<content> <core:Fragment type="XML" fragmentName="airbus.mes.worktracker.fragments.disruptionDisplay" 
						/> <core:Fragment type="XML" fragmentName="airbus.mes.worktracker.fragments.createDisruption" 
						/> </content> </IconTabFilter> <IconTabFilter icon="sap-icon://folder-blank" 
						text="Documents"> <Text text="{i18n>documentTitle}" class="title"></Text> 
						<VBox items="{documentsNameModel>/documents}" width="100%"> <items> <Button 
						type="Transparent" text="{documentsNameModel>name}" icon="sap-icon://slim-arrow-right" 
						iconFirst="true" press="onPress" /> </items> </VBox> </IconTabFilter> <IconTabFilter 
						icon="sap-icon://wrench" text="Tools"> <content> <core:Fragment type="XML" 
						fragmentName="airbus.mes.worktracker.fragments.toolsFragment" /> </content> 
						</IconTabFilter> <IconTabFilter icon="sap-icon://folder-blank" text="Components"> 
						<content> <core:Fragment type="XML" fragmentName="airbus.mes.worktracker.fragments.componentFragment" 
						/> </content> </IconTabFilter> -->
				</items>
			</IconTabBar>

			<Bar class="operationDetailFooter">
				<contentRight>
					<Button id="btnPause" text="{i18n>pause}" icon="sap-icon://media-pause"
						press="pauseOperation" />
					<Button id="btnConfirm" text="{i18n>confirm}" icon="sap-icon://history"
						press="confirmOperation" />
					<Button id="btnActivate" text="{i18n>activate}" press="activateOperation" />
					<Button id="btnComplete" text="{i18n>complete}" icon="sap-icon://accept"
						press="confirmOperation" />
					<Button id="btnClose" text="{i18n>close}" icon="sap-icon://sys-cancel"
						press="onCloseOperationDetailPopup" />
				</contentRight>
			</Bar>
		</content>
	</Page>
</core:View>

